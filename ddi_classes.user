<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <thing id="clsWizard" name="Arcanist" description="An arcanist is a powerful wizard who forgoes specialization to explore and use all that arcane magic has to offer. Rather than bind themselves to a particular school, as mages do, arcanists experiment with a wide range of magical effects from evocation to necromancy and everything in between. Considered dilettantes by their mage counterparts, arcanists see diverse study as a boon because it broadens their ability to deal with a variety of situations, by always having the proper spell on hand." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You command eldritch forces, shaping them into spells designed to blast your enemies, bring them under your thumb, twist their senses, and impede their movement."/>
    <fieldval field="clsStartHP" value="10"/>
    <fieldval field="clsHPLev" value="4"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsRituals" value="3"/>
    <fieldval field="clsUtilMl" value="2"/>
    <fieldval field="clsDailyMl" value="2"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpQuarters"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ImplemType" tag="itOrb"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="ImplemType" tag="itTome"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ClassName" tag="Wizard"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <bootstrap thing="fWizStaDef"></bootstrap>
    <bootstrap thing="fWizTomBin"></bootstrap>
    <bootstrap thing="fWizTomRea"></bootstrap>
    <bootstrap thing="fWizWanAcc"></bootstrap>
    <bootstrap thing="fWizRitCas"></bootstrap>
    <bootstrap thing="fWizArcSpe"></bootstrap>
    <bootstrap thing="fWizCantri"></bootstrap>
    <bootstrap thing="pWizGhoSou"></bootstrap>
    <bootstrap thing="pWizLight"></bootstrap>
    <bootstrap thing="pWizMagHan"></bootstrap>
    <bootstrap thing="pWizPresti"></bootstrap>
    <bootstrap thing="fWizArcImp"></bootstrap>
    <bootstrap thing="fWizOrbDec"></bootstrap>
    <bootstrap thing="fWizOrbImp"></bootstrap>
    <bootstrap thing="pWizWatStr">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizChaMas">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizSugges">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizDisUnd">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizSpook">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizWhiWin">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      ~we get 2 bonus rituals at levels 5, 11, 15, 21 and 25
      var level as number
      level = hero.tagvalue[Level.?]
      if (level >= 5) then
        #resmax[resRituals] += 2
        endif
      if (level >= 11) then
        #resmax[resRituals] += 2
        endif
      if (level >= 15) then
        #resmax[resRituals] += 2
        endif
      if (level >= 21) then
        #resmax[resRituals] += 2
        endif
      if (level >= 25) then
        #resmax[resRituals] += 2
        endif]]>
      <after name="Level final"/>
      </eval>
    <evalrule phase="Initialize" message="Too Many Cantrips" summary="Too Many Cantrips"><![CDATA[
      ~disable any of our cantrips that aren't selected
      var total as number
      foreach pick in hero from Power where "User.FeatureChk & PowerClass.clsWizard & PowerType.Utility"
        if (eachpick.field[usrIsCheck].value <> 0) then
          total += 1
        else
          perform eachpick.assign[Hide.Special]
          perform eachpick.assign[Helper.Disable]
          endif
        nexteach

      validif (total = 4)

      ~if less than 4 are chosen, that's a warning
      if (total < 4) then
        @message = "Choose up to 3 Cantrips from the Class Features table."

      ~if more than 4, that's an error
      else
        @message = "Too many Cantrips from the Class Features table chosen."
        endif]]></evalrule>
    </thing>
  <thing id="clsArdent" name="Ardent" description="Those who let their base emotions rule them invite madness and destruction. Prolonged feelings of fear, greed, lust, or hatred can weaken the mind&apos;s defenses against manipulation. Wielding psionic power, you excite such emotions in your enemies, creating gaps in their defenses and frustrating their attacks, all while filling your allies with encouraging thoughts and guarding them against despair and other negative emotions." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You fill your allies with the will to fight and the clarity of purpose needed for victory. When you attack, you loose thoughts that intensify emotions and lay bare truths. Depending on your choice of class features, you lean toward either defender or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="You are a spiritual warrior whose thoughts swirl about you to infect your enemies with doubt and fill your allies with confidence."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="PHB3"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="User" tag="PPNormal"/>
    <bootstrap thing="fArdManCla"></bootstrap>
    <bootstrap thing="fArdManEla"></bootstrap>
    <bootstrap thing="fArdManImp"></bootstrap>
    <bootstrap thing="pArdArdSur"></bootstrap>
    <bootstrap thing="fArdPsiAug"></bootstrap>
    <bootstrap thing="pArdArdEru"></bootstrap>
    <bootstrap thing="fArdArdMan"></bootstrap>
    <bootstrap thing="mePsionAtW"></bootstrap>
    <bootstrap thing="mePsionEnc"></bootstrap>
    </thing>
  <thing id="clsArtific" name="Artificer" description="Artificers treat mastery of magic like a technical skill. They see patterns in energy and matter, and they understand how to manipulate the flow of magic in and around objects and creatures. Artificers channel energy into items using magical components, diagrams, and complex chains of sigils. Their skills let them assemble a magic device for any situation." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You channel arcane power into items that empower your allies and hinder your enemies. You lean toward controller as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="The cryptic formulas of arcane magic and the complex recipes of alchemy appeal to you. You are especially knowledgeable about magic items."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="EbPG"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fArtAugEne"></bootstrap>
    <bootstrap thing="fArtImpEne"></bootstrap>
    <bootstrap thing="fArtArcRej"></bootstrap>
    <bootstrap thing="fArtHeaInf"></bootstrap>
    <bootstrap thing="fArtRitCas"></bootstrap>
    <bootstrap thing="pArtHeaInf"></bootstrap>
    <bootstrap thing="pArtHeaFor"></bootstrap>
    <bootstrap thing="pArtHeaShi"></bootstrap>
    <bootstrap thing="rtMakeWho"></bootstrap>
    <bootstrap thing="rtBrewPot"></bootstrap>
    <bootstrap thing="rtDisenMag"></bootstrap>
    <bootstrap thing="rtEnchaMag"></bootstrap>
    </thing>
  <thing id="clsAssassi" name="Assassin" description="Few creatures embrace shadow magic without both a compelling reason and a measure of desperation. Not many visit the Shadowfell willingly, let alone pledge a shard of their souls to it. Yet that is exactly what assassins, and other practitioners of shadow magic, do to gain their power." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are the ghost in the night and the whisper on the wind. Barriers are worthless against you, and you strike your foes with sudden, precise force. You lean toward controller as a secondary role."/>
    <fieldval field="clsStartHP" value="10"/>
    <fieldval field="clsHPLev" value="4"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="You have bound your soul to the Shadowfell and become a being of darkness."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="Dragon"/>
    <tag group="PowerSrc" tag="Shadow"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpGrpRqMil" tag="wgHeavyBl"/>
    <tag group="WpGrpRqMil" tag="wgLightBl"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="TrainSkill" tag="skStealth"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="WeaponProf" tag="wpClub"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpJavelin"/>
    <tag group="WeaponProf" tag="wpMace"/>
    <tag group="WeaponProf" tag="wpSickle"/>
    <tag group="WeaponProf" tag="wpSpear"/>
    <tag group="WeaponProf" tag="wpSpikegau"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="ImplemType" tag="wcSimple"/>
    <tag group="ImplemType" tag="wgHeavyBl"/>
    <tag group="ImplemType" tag="wgLightBl"/>
    <tag group="ImplemType" tag="wpClub"/>
    <tag group="ImplemType" tag="wpDagger"/>
    <tag group="ImplemType" tag="wpJavelin"/>
    <tag group="ImplemType" tag="wpMace"/>
    <tag group="ImplemType" tag="wpSickle"/>
    <tag group="ImplemType" tag="wpSpear"/>
    <tag group="ImplemType" tag="wpSpikegau"/>
    <bootstrap thing="fAsnNigSta"></bootstrap>
    <bootstrap thing="pAsnShaFor"></bootstrap>
    <bootstrap thing="pAsnShaSte"></bootstrap>
    <bootstrap thing="pAsnAssShr"></bootstrap>
    <bootstrap thing="fAsnGuiTra"></bootstrap>
    <bootstrap thing="fAsnBleDis"></bootstrap>
    <bootstrap thing="fAsnExeGui"></bootstrap>
    </thing>
  <thing id="clsAvenger" name="Avenger" description="In secret temples far from bustling cities and priestly hierarchies, orders of esoteric warriors train their initiates in ancient traditions now forgotten or forbidden by most religious organizations. The champions of these orders are avengers - deadly weapons in the hands of their gods, imbued with divine power through secret rites of initiation. In battle, avengers swear to execute divine vengeance, entering a mental state that gives them unerring focus on a single enemy." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your oaths bring divine wrath upon the enemies of your god. With methodical devastation, you eliminate one foe at a time. You lean toward controller as a secondary role."/>
    <fieldval field="clsStartHP" value="14"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="You practice mysteries forgotten or forbidden by most religious orders, yet the power you wield is a gift from your god."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <bootstrap thing="fAveArmFai"></bootstrap>
    <bootstrap thing="fAveAveCen"></bootstrap>
    <bootstrap thing="fAveCenPur"></bootstrap>
    <bootstrap thing="fAveCenRet"></bootstrap>
    <bootstrap thing="fAveCenUni"></bootstrap>
    <bootstrap thing="fAveChaDiv"></bootstrap>
    <bootstrap thing="pAveOatEnm"></bootstrap>
    <bootstrap thing="pAveAbjUnd"></bootstrap>
    <bootstrap thing="pAveDivGui"></bootstrap>
    </thing>
  <thing id="clsBarbari" name="Barbarian" description="Barbarians are savage warriors who deal out powerful blows from their mighty weapons. They charge from foe to foe and seldom feel the pain of an enemy&apos;s strike. For barbarians&apos; foes, the moments of greatest terror come when barbarians call upon primal forces to lend power to their raging spirits. These rages, although temporary, give a barbarian incredible powers, a combination of skill, willpower, and a legacy of ancient tribal rituals." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You use powerful two-handed weapons to deal serious damage to your enemies. Your physical power and daunting presence can cause foes to cower before you, and you can temporarily increase your abilities by harnessing great bursts of terrifying rage. Depending on your choice of class features and powers, you lean toward either defender or leader as a secondary role."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="8"/>
    <fieldval field="clsSrcTxt" value="You are a primal champion, a warrior devoted to the natural world and an embodiment of your tribe&apos;s fierce traditions."/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fBbnBarAgi"></bootstrap>
    <bootstrap thing="fBbnFerMig"></bootstrap>
    <bootstrap thing="fBbnRagVig"></bootstrap>
    <bootstrap thing="fBbnThaTri"></bootstrap>
    <bootstrap thing="fBbnThuWra"></bootstrap>
    <bootstrap thing="fBbnWhiSla"></bootstrap>
    <bootstrap thing="pBbnRagStr"></bootstrap>
    <bootstrap thing="fBbnRampag"></bootstrap>
    </thing>
  <thing id="clsBard" name="Bard" description="Bards are artists first and foremost, and they practice magic just as they practice song, drama, or poetry. They have a clear sense of how people perceive reality, so they master charm magic and some illusions. Sagas of great heroes are part of a bard&apos;s repertoire, and most bards follow the example of many fables and become skilled in a variety of fields. A bard&apos;s artistic ability, knowledge of lore, and arcane might are widely respected, particularly among the world&apos;s rulers." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your spells inspire and invigorate your allies. Your spells also include significant control elements, making controller a natural secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="You channel magical power through words and music, studying long and hard to master the power contained in the lore and sagas of old."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <fieldval field="clsRituals" value="2"/>
    <usesource source="PHB2"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="WeaponProf" tag="wpLongswor"/>
    <tag group="WeaponProf" tag="wpScimitar"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ImplemType" tag="itInstru"/>
    <bootstrap thing="fBrdVirPre"></bootstrap>
    <bootstrap thing="fBrdVirVal"></bootstrap>
    <bootstrap thing="pBrdMajWor"></bootstrap>
    <bootstrap thing="fBrdMulVer"></bootstrap>
    <bootstrap thing="fBrdSkiVer"></bootstrap>
    <bootstrap thing="fBrdSonRes"></bootstrap>
    <bootstrap thing="pBrdWorFri"></bootstrap>
    <bootstrap thing="fBrdBarTra"></bootstrap>
    <bootstrap thing="fBrdBarVir"></bootstrap>
    <bootstrap thing="fBrdVirCun"></bootstrap>
    </thing>
  <thing id="clsBattlem" name="Battlemind" description="As wanderers, mercenaries, and adventurers, battleminds are carefree warriors who seek only to test their skill against the mightiest and most dangerous opponents. Battleminds possess a potent combination of psionic and physical skill, allowing them to use their magic to manipulate and deceive their foes even as their fighting skill lets them carve a swath through enemy ranks. Battleminds tend to be bold and sometimes arrogant, an attitude earned through bringing ruin to enemies over the course of many conflicts." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are tough and fast, while your mastery of psionic magic allows you to outwit your foes. Depending on your choice of class features and powers, you lean toward either controller or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="9"/>
    <fieldval field="clsSrcTxt" value="You are a psionic warrior, a weapon master who combines physical might and a cunning intellect."/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="User" tag="PPNormal"/>
    <bootstrap thing="fBmnPsiDef"></bootstrap>
    <bootstrap thing="fBmnPsiStu"></bootstrap>
    <bootstrap thing="fBmnBatRes"></bootstrap>
    <bootstrap thing="fBmnPerHar"></bootstrap>
    <bootstrap thing="fBmnSpeTho"></bootstrap>
    <bootstrap thing="fBmnWilFoc"></bootstrap>
    <bootstrap thing="pBmnBatDem"></bootstrap>
    <bootstrap thing="pBmnBluSte"></bootstrap>
    <bootstrap thing="pBmnMinSpi"></bootstrap>
    <bootstrap thing="fBmnPsiAug"></bootstrap>
    <bootstrap thing="mePsionAtW"></bootstrap>
    <bootstrap thing="mePsionEnc"></bootstrap>
    </thing>
  <thing id="clsCavalie" name="Cavalier" description="A cavalier is a paladin who has embraced one of the heroic virtues, such as compassion, justice, sacrifice, or valor. His or her belief in this virtue is so strong that it manifests as divine magic. Although many cavaliers pledge their faith to the gods, others follow no specific religion. Regardless of one&apos;s divine affiliation (or lack thereof ), a cavalier&apos;s virtue stands paramount. It guides his or her actions, pointing to the best way to protect the ever-flickering light of hope and civilization in the world." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are a warrior of virtue, a champion of the righteous, and a defender of the weak. With your sword and your faith, you will shield the world from evil."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="10"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="PlEsForKin"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apPlate"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ClassName" tag="Paladin"/>
    <tag group="Class" tag="clsPaladin"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrAtW"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <bootstrap thing="pPalRigShi"></bootstrap>
    <bootstrap thing="fCavSpiVir"></bootstrap>
    <bootstrap thing="fCavSpiSac"></bootstrap>
    <bootstrap thing="fCavSpiVal"></bootstrap>
    <bootstrap thing="pPalValStr"></bootstrap>
    <bootstrap thing="pPalResVit"></bootstrap>
    <bootstrap thing="fCavExHol3"></bootstrap>
    <bootstrap thing="fCavPacVir"></bootstrap>
    <bootstrap thing="fCavImpShi"></bootstrap>
    <bootstrap thing="fCavImpVal"></bootstrap>
    <bootstrap thing="pPalSpiVir"></bootstrap>
    <bootstrap thing="fCavEHol13"></bootstrap>
    <bootstrap thing="fCavEncPre"></bootstrap>
    <bootstrap thing="fCavRigRes"></bootstrap>
    <bootstrap thing="fCavDivGra"></bootstrap>
    <bootstrap thing="pPalAvaVir"></bootstrap>
    <bootstrap thing="pFtrDefAur">
      <autotag group="User" tag="ClassOK"/>
      </bootstrap>
    <bootstrap thing="CavPwrAtW"></bootstrap>
    <bootstrap thing="pPalHolSmi"></bootstrap>
    <bootstrap thing="CavPwrEnc"></bootstrap>
    <bootstrap thing="pPalRigRad"></bootstrap>
    <bootstrap thing="CavPwrUti"></bootstrap>
    <bootstrap thing="CavPwrDai"></bootstrap>
    <bootstrap thing="pPalStrHop">
      <containerreq phase="Setup" priority="500">HasFeature.fCavSpiSac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPalShaSac">
      <containerreq phase="Setup" priority="500">HasFeature.fCavSpiSac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPalVenStr">
      <containerreq phase="Setup" priority="500">HasFeature.fCavSpiVal
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPalShaVal">
      <containerreq phase="Setup" priority="500">HasFeature.fCavSpiVal
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup"><![CDATA[
      ~replace the level on our "Avatar of Virtue" power
      perform hero.childfound[pPalAvaVir].delete[ReqLevel.?]
      perform hero.childfound[pPalAvaVir].assign[ReqLevel.30]]]></eval>
    </thing>
  <thing id="clsDruid" name="Druid" description="Secretive and enigmatic, druids call the wilderness their home. They are capable of running with a wolf pack, speaking with the most ancient trees, and watching thunderstorms from atop the clouds themselves. They regard challenges as tests, both of their fitness and of their connection with the wild places of the world. And though many druids project an outward calm, they have the cunning of the beast and the fury of the storm." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your beast form gives you access to powers that provide control at close range, while your humanoid form allows you to hinder your opponents from a distance. Depending on your choice of class features and powers, you might lean toward either leader or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="You have gained your powers through a careful study of and communion with the natural world."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itTotem"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skNature"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fDrdBalNat"></bootstrap>
    <bootstrap thing="fDrdPriAsp"></bootstrap>
    <bootstrap thing="fDrdPriGua"></bootstrap>
    <bootstrap thing="fDrdPriPre"></bootstrap>
    <bootstrap thing="fDrdPriSwa"></bootstrap>
    <bootstrap thing="fDrdPriWra"></bootstrap>
    <bootstrap thing="fDrdRitCas"></bootstrap>
    <bootstrap thing="pDrdWilSha"></bootstrap>
    <eval phase="Setup" priority="5"><![CDATA[
      ~add an at-will power to each level of our 'at will power' mechanics array
      var findmech as string
      findmech = "PwrAtWill"
      call FindMech
      doneif (state.isfocus = 0)
      var i as number
      var j as number
      for i = 1 to focus.field[ClPwrTable].matrixrows - 1

        ~find the first empty slot here and put a power in it that you can
        ~access at level 1
        var found as number
        found = 0
        for j = 0 to focus.field[ClPwrTable].matrixcols - 1
          if (focus.field[ClPwrTable].matrixvalue[i,j] + found = 0) then
            focus.field[ClPwrTable].matrixvalue[i,j] = 1
            found = 1
            endif
          next
        next]]>
      <before name="Level final"/>
      </eval>
    <evalrule phase="Validate" priority="10000" message="???"><![CDATA[
      ~make sure at least one of our class at-will powers has the Beast Form
      ~keyword, and at least one doesn't
      var haskey as number
      var nokey as number
      foreach pick in hero from Power where "PowerClass.clsDruid & Helper.PwrClass"
        if (eachpick.tagis[EffectType.Beast] <> 0) then
          haskey += 1
        else
          nokey += 1
          endif
        nexteach

      ~if we have a non-zero quantity of both, we're good
      if (haskey <> 0) then
        if (nokey <> 0) then
          @valid = 1
          done
          endif
        endif

      ~otherwise show an error
      if (haskey = 0) then
        @message = "You must pick at least one power with the Beast Form keyword."
      else
        @message = "You must pick at least one power without the Beast Form keyword."
        endif
      hero.panelvalid[class] = 0]]></evalrule>
    </thing>
  <thing id="clsHexblad" name="Hexblade" description="Hexblades are warlocks who learn to shape the arcane energy of their pacts into deadly weapons, such as a sword forged from infernal power or a slender blade that gleams with fey magic. Both a warrior and an arcanist, a hexblade uses a deadly combination of spells and fighting ability during combat." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="PlEsForKin"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ClassName" tag="Warlock"/>
    <tag group="Class" tag="clsWarlock"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrAtW"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <bootstrap thing="fHexFeyPac"></bootstrap>
    <bootstrap thing="fHexGloPac"></bootstrap>
    <bootstrap thing="fHexInfPac"></bootstrap>
    <bootstrap thing="fHexStaPac"></bootstrap>
    <bootstrap thing="fHexPacWea"></bootstrap>
    <bootstrap thing="fHexEleWea"></bootstrap>
    <bootstrap thing="fHexFeyWea"></bootstrap>
    <bootstrap thing="fHexFeyWhi"></bootstrap>
    <bootstrap thing="fHexGloWea"></bootstrap>
    <bootstrap thing="fHexInfWea"></bootstrap>
    <bootstrap thing="fHexStaWea"></bootstrap>
    <bootstrap thing="fHexImpPac"></bootstrap>
    <bootstrap thing="fHexBinAll"></bootstrap>
    <bootstrap thing="fHexBinGlo"></bootstrap>
    <bootstrap thing="fHexBinSta"></bootstrap>
    <bootstrap thing="fHexSumWar"></bootstrap>
    <bootstrap thing="fHexSumAll"></bootstrap>
    <bootstrap thing="fHexSumGlo"></bootstrap>
    <bootstrap thing="fHexSumInf"></bootstrap>
    <bootstrap thing="fHexSumSta"></bootstrap>
    <bootstrap thing="fHexSumWhi"></bootstrap>
    <bootstrap thing="pWlkLesPla"></bootstrap>
    <bootstrap thing="pWlkSumWar"></bootstrap>
    <bootstrap thing="fHexSupWar"></bootstrap>
    <bootstrap thing="pWlkMasMag"></bootstrap>
    <bootstrap thing="fHexGreBin"></bootstrap>
    <bootstrap thing="fHexGreAll"></bootstrap>
    <bootstrap thing="fHexGreSta"></bootstrap>
    <bootstrap thing="fHexGreWar"></bootstrap>
    <bootstrap thing="fHexGreFey"></bootstrap>
    <bootstrap thing="fHexGreGlo"></bootstrap>
    <bootstrap thing="fHexGreInf"></bootstrap>
    <bootstrap thing="pWlkEldBol"></bootstrap>
    <bootstrap thing="HexPwrAtW"></bootstrap>
    <bootstrap thing="fHexPacRew"></bootstrap>
    <bootstrap thing="HexPwrEnc"></bootstrap>
    <bootstrap thing="fHexElePac"></bootstrap>
    <bootstrap thing="HexPwrUti"></bootstrap>
    <bootstrap thing="HexPwrDai"></bootstrap>
    <bootstrap thing="pWlkSouSte">
      <containerreq phase="Setup" priority="500">HasFeature.fHexFeyPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkIcySke">
      <containerreq phase="Setup" priority="500">HasFeature.fHexFeyPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkPieSha">
      <containerreq phase="Setup" priority="500">HasFeature.fHexFeyPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkWinRet">
      <containerreq phase="Setup" priority="500">HasFeature.fHexFeyPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkSouSte">
      <containerreq phase="Setup" priority="500">HasFeature.fHexWhiPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkMooBla">
      <containerreq phase="Setup" priority="500">HasFeature.fHexWhiPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkWelLig">
      <containerreq phase="Setup" priority="500">HasFeature.fHexWhiPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkMooEsc">
      <containerreq phase="Setup" priority="500">HasFeature.fHexWhiPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkSouFea">
      <containerreq phase="Setup" priority="500">HasFeature.fHexInfPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkBlaDoo">
      <containerreq phase="Setup" priority="500">HasFeature.fHexInfPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkSouEat">
      <containerreq phase="Setup" priority="500">HasFeature.fHexInfPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkRefHel">
      <containerreq phase="Setup" priority="500">HasFeature.fHexInfPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkDirFat">
      <containerreq phase="Setup" priority="500">HasFeature.fHexStaPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkResBla">
      <containerreq phase="Setup" priority="500">HasFeature.fHexStaPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkWieWar">
      <containerreq phase="Setup" priority="500">HasFeature.fHexStaPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkGazint">
      <containerreq phase="Setup" priority="500">HasFeature.fHexStaPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkConSha">
      <containerreq phase="Setup" priority="500">HasFeature.fHexGloPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkFleRen">
      <containerreq phase="Setup" priority="500">HasFeature.fHexGloPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkSpiFla">
      <containerreq phase="Setup" priority="500">HasFeature.fHexGloPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkShaSco">
      <containerreq phase="Setup" priority="500">HasFeature.fHexGloPac
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="fHexWhiPac"></bootstrap>
    <bootstrap thing="wpBladeAnn"></bootstrap>
    <bootstrap thing="wpBladeWin"></bootstrap>
    <bootstrap thing="wpStarsBla"></bootstrap>
    <bootstrap thing="wpSwordWhi"></bootstrap>
    <bootstrap thing="wpScourExq"></bootstrap>
    </thing>
  <thing id="clsHunter" name="Hunter" description="Some heroes are more at home among the trees or in open fields than they are when walking the streets of a city. In ages past, rangers kept the peace along the farthest frontiers of civilization, wandering the land to root out monsters and keep the roads clear of threats. Today, the empires of old are long gone, their roads fallen into ruin. Yet even as the encroaching darkness grows ever bolder, rangers continue the valiant fight to keep the borderlands safe and secure. So well do they perform this task that many of those on the frontier never realize the debt they owe to those who protect them." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="and Primal."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <fieldval field="clsTrmAtW" value="Aspect of the Wild"/>
    <fieldval field="clsTrmAtWs" value="Aspects of the Wild"/>
    <fieldval field="clsExprAtW" value="PowerClass.clsRanger &amp; PowerType.Utility &amp; EffectType.Stance &amp; !ReqLevel.?"/>
    <usesource source="PlEsForKin"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="Skill1" tag="skDungeone"/>
    <tag group="Skill1" tag="skNature"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="ClassName" tag="Ranger"/>
    <tag group="Class" tag="clsRanger"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <tag group="Hero" tag="HidePwrDai"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <bootstrap thing="fHunRanWil"></bootstrap>
    <bootstrap thing="fHunAmbExp"></bootstrap>
    <bootstrap thing="fHunBeaEmp"></bootstrap>
    <bootstrap thing="fHunMouGui"></bootstrap>
    <bootstrap thing="fHunWatRes"></bootstrap>
    <bootstrap thing="fHunWilTra"></bootstrap>
    <bootstrap thing="fHunWeaTal"></bootstrap>
    <bootstrap thing="fHunImDis3"></bootstrap>
    <bootstrap thing="fHunWiKna4"></bootstrap>
    <bootstrap thing="pRgrReaShi"></bootstrap>
    <bootstrap thing="fHunWeaMas"></bootstrap>
    <bootstrap thing="fHunImDis7"></bootstrap>
    <bootstrap thing="fHunWiKna8"></bootstrap>
    <bootstrap thing="fHunCloCom"></bootstrap>
    <bootstrap thing="fHunIDis13"></bootstrap>
    <bootstrap thing="fHunPunQua"></bootstrap>
    <bootstrap thing="fHunVolArr"></bootstrap>
    <bootstrap thing="fHunParWea"></bootstrap>
    <bootstrap thing="fHunPeePer"></bootstrap>
    <bootstrap thing="fHunEpiWea"></bootstrap>
    <bootstrap thing="fHunResHun"></bootstrap>
    <bootstrap thing="fHunEpiAcc"></bootstrap>
    <bootstrap thing="fHunArcSty"></bootstrap>
    <bootstrap thing="HunPwrAtW"></bootstrap>
    <bootstrap thing="HunPwrEnc"></bootstrap>
    <bootstrap thing="fHunBowHun"></bootstrap>
    <bootstrap thing="HunPwrUti"></bootstrap>
    <bootstrap thing="HunPwrDai"></bootstrap>
    <bootstrap thing="fHunCroHun"></bootstrap>
    <bootstrap thing="fHunRanWlB"></bootstrap>
    <bootstrap thing="pRgrAimSho"></bootstrap>
    <bootstrap thing="pRgrCleSho"></bootstrap>
    <bootstrap thing="pRgrRapSho"></bootstrap>
    <bootstrap thing="pRgrDisSho"></bootstrap>
    </thing>
  <thing id="clsInvoker" name="Invoker" description="At the dawn of time, the gods who inhabited the Astral Sea warred with the primordials of the Elemental Chaos, the mighty beings who shaped the world out of formless void. The greatest of the gods&apos; mortal agents in that war were invokers, imbued with a fragment of the gods&apos; own might to fight alongside them. No other mortal servant of the gods can claim the same kind of power. Through rites of investiture, avengers, clerics, and paladins gain the ability to manifest echoes of that power, uttering careful prayers and channeling divine energy through their holy symbols. You, however, channel your god&apos;s power directly. No mere symbol can contain it, for you speak the words of creation, shaping the universe to your and your god&apos;s will." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You invoke the power of a god to blast your foes from a distance, leave them unable to defend themselves, and scatter them to the four winds. Depending on your choice of class features and powers, you lean toward either leader or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="10"/>
    <fieldval field="clsHPLev" value="4"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="You practice an ancient form of divine magic, wielding the power that the gods themselves used in their battle against the primordials."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsRituals" value="1"/>
    <usesource source="PHB2"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <bootstrap thing="fInvDivCov"></bootstrap>
    <bootstrap thing="fInvCovMal"></bootstrap>
    <bootstrap thing="fInvCovPre"></bootstrap>
    <bootstrap thing="fInvCovWra"></bootstrap>
    <bootstrap thing="fInvRitCas"></bootstrap>
    <bootstrap thing="pInvMalDoo"></bootstrap>
    <bootstrap thing="pInvRebUnd"></bootstrap>
    <bootstrap thing="rtHandFat">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fInvChaDiv"></bootstrap>
    </thing>
  <thing id="clsKnight" name="Knight" description="Along the borderlands, knights are the stalwart commanders of peasant militias, caravan guards, and adventuring groups. Their cunning and skill puts them in control of the battlefield and lets them minimize the onslaught of their enemies. Rampaging monsters fear a knight above almost any other attacker. While the knight locks down a formidable foe, the other members of a party close in for the kill." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="9"/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsTrmAtW" value="Knight Stance"/>
    <fieldval field="clsTrmAtWs" value="Knight Stances"/>
    <fieldval field="clsExprAtW" value="PowerClass.clsFighter &amp; PowerType.Utility &amp; EffectType.Stance &amp; !ReqLevel.?"/>
    <usesource source="PlEsHeroFa"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apPlate"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="ClassName" tag="Fighter"/>
    <tag group="Class" tag="clsFighter"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <tag group="Hero" tag="HidePwrDai"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <bootstrap thing="fKngShiFin"></bootstrap>
    <bootstrap thing="fKngWeaTal"></bootstrap>
    <bootstrap thing="fKngImPow3"></bootstrap>
    <bootstrap thing="fKngKniCom"></bootstrap>
    <bootstrap thing="fKngWeaMas"></bootstrap>
    <bootstrap thing="fKngKniWea"></bootstrap>
    <bootstrap thing="fKngBlaSte"></bootstrap>
    <bootstrap thing="fKngBluSta"></bootstrap>
    <bootstrap thing="fKngStaHam"></bootstrap>
    <bootstrap thing="pFtrShiBlo"></bootstrap>
    <bootstrap thing="fKngGreCom"></bootstrap>
    <bootstrap thing="fKngIPow13"></bootstrap>
    <bootstrap thing="fKngParWea"></bootstrap>
    <bootstrap thing="pFtrBolStr"></bootstrap>
    <bootstrap thing="fKngDevKni"></bootstrap>
    <bootstrap thing="pFtrKniVal"></bootstrap>
    <bootstrap thing="fKngRelKni"></bootstrap>
    <bootstrap thing="fKngEpiWea"></bootstrap>
    <bootstrap thing="fKngSpiWar"></bootstrap>
    <bootstrap thing="pFtrBatGua"></bootstrap>
    <bootstrap thing="KngPwrAtW"></bootstrap>
    <bootstrap thing="KngPwrEnc"></bootstrap>
    <bootstrap thing="pFtrDefAur"></bootstrap>
    <bootstrap thing="KngPwrUti"></bootstrap>
    <bootstrap thing="KngPwrDai"></bootstrap>
    <bootstrap thing="pFtrPowStr"></bootstrap>
    </thing>
  <thing id="clsMage" name="Mage" description="A mage is a specialized wizard, a spellcaster who focuses on the tenets of a particular school of magic. This specialization makes each mage distinctive. After all, a mage who casts evocation spells presents a very different picture to the world from a mage who has mastered the art of illusion or enchantment." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="10"/>
    <fieldval field="clsHPLev" value="4"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsTrmAtW" value="At-Will Power"/>
    <fieldval field="clsTrmAtWs" value="At-Will Powers"/>
    <usesource source="PlEsHeroFa"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpQuarters"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ImplemType" tag="itOrb"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ClassName" tag="Wizard"/>
    <tag group="Class" tag="clsWizard"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="NoMemUnder"/>
    <bootstrap thing="fMagEvoApp"></bootstrap>
    <bootstrap thing="fMagIllApp"></bootstrap>
    <bootstrap thing="fMagNecApp"></bootstrap>
    <bootstrap thing="fMagNetApp"></bootstrap>
    <bootstrap thing="fMagPyrApp"></bootstrap>
    <bootstrap thing="fMagMagSpe"></bootstrap>
    <bootstrap thing="pWizMagMis"></bootstrap>
    <bootstrap thing="fMagApMag4"></bootstrap>
    <bootstrap thing="fMagEncSec"></bootstrap>
    <bootstrap thing="fMagEvoSec"></bootstrap>
    <bootstrap thing="fMagIllSec"></bootstrap>
    <bootstrap thing="fMagExpMag"></bootstrap>
    <bootstrap thing="fMagEncExp"></bootstrap>
    <bootstrap thing="fMagEvoExp"></bootstrap>
    <bootstrap thing="fMagIllExp"></bootstrap>
    <bootstrap thing="fMagNecExp"></bootstrap>
    <bootstrap thing="fMagNetExp"></bootstrap>
    <bootstrap thing="fMagPyrExp"></bootstrap>
    <bootstrap thing="fMagExMag8"></bootstrap>
    <bootstrap thing="fMagMasMag"></bootstrap>
    <bootstrap thing="fMagEncMas"></bootstrap>
    <bootstrap thing="fMagEvoMas"></bootstrap>
    <bootstrap thing="fMagIllMas"></bootstrap>
    <bootstrap thing="fMagNecMas"></bootstrap>
    <bootstrap thing="fMagNetMas"></bootstrap>
    <bootstrap thing="fMagPyrMas"></bootstrap>
    <bootstrap thing="fMagMasLor"></bootstrap>
    <bootstrap thing="fMagMasSpe"></bootstrap>
    <bootstrap thing="fMagApMag1"></bootstrap>
    <bootstrap thing="MagPwrAtW"></bootstrap>
    <bootstrap thing="MagPwrEnc"></bootstrap>
    <bootstrap thing="MagPwrUti"></bootstrap>
    <bootstrap thing="MagPwrDai"></bootstrap>
    <bootstrap thing="fMagEncApp"></bootstrap>
    <bootstrap thing="pWizGhoSou">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizLight">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizMagHan">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="pWizPresti">
      <autotag group="User" tag="FeatureChk"/>
      </bootstrap>
    <bootstrap thing="MagMemEnc"></bootstrap>
    <bootstrap thing="MagMemUti"></bootstrap>
    <bootstrap thing="MagMemDai"></bootstrap>
    <eval phase="Setup" priority="5" index="5" name="Daily powers multiplied"><![CDATA[
      ~make sure all our appropriate powers can be memorized
      foreach pick in hero from Power where "Helper.PwrClass & !PowerType.AtWill"
        perform eachpick.assign[Helper.PowerCheck]
        nexteach]]>
      <before name="Level final"/>
      </eval>
    <evalrule phase="Validate" priority="10000" message="Too Many Cantrips"><![CDATA[
      ~disable any of our cantrips that aren't selected
      var total as number
      foreach pick in hero from Power where "User.FeatureChk & PowerClass.clsWizard & PowerType.Utility"
        if (eachpick.field[usrIsCheck].value <> 0) then
          total += 1
        else
          perform eachpick.assign[Hide.Special]
          perform eachpick.assign[Helper.Disable]
          endif
        nexteach

      validif (total = 3)

      ~if less than 3 are chosen, that's a warning
      if (total < 3) then
        @message = "Choose up to 3 Cantrips from the Class Features table."

      ~if more than 3, that's an error
      else
        @message = "Too many Cantrips from the Class Features table chosen."
        endif]]></evalrule>
    </thing>
  <thing id="clsWarlord" name="Marshal" description="When dark forces muster in the wilderness, when hosts of monsters assemble to sack civilization&apos;s last redoubts, it falls to the marshal to lead the warriors in defense of their lands. Marshals draw from their experience and passion  to lend courage, skill, and hope to those under their command. A warlord forms the iron core of any unit of soldiers, uniting their purpose and bolstering their commitment to see the conflict to its conclusion." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You rally your companions with a mixture of shouted commands and cunning stratagems, leading them to victory through superior tactics."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="ClassName" tag="Warlord"/>
    <bootstrap thing="fWrlArcWar"></bootstrap>
    <bootstrap thing="fWrlBatLea"></bootstrap>
    <bootstrap thing="fWrlCanLea"></bootstrap>
    <bootstrap thing="fWrlComLea"></bootstrap>
    <bootstrap thing="fWrlComPre"></bootstrap>
    <bootstrap thing="fWrlBraPre"></bootstrap>
    <bootstrap thing="fWrlIsgtPr"></bootstrap>
    <bootstrap thing="fWrlInsPre"></bootstrap>
    <bootstrap thing="fWrlResPre"></bootstrap>
    <bootstrap thing="fWrlSkiPre"></bootstrap>
    <bootstrap thing="fWrlTacPre"></bootstrap>
    <bootstrap thing="pWrlInsWor"></bootstrap>
    </thing>
  <thing id="clsMonk" name="Monk" description="From high in forbidding mountains to the alleys of a city&apos;s meanest district, the ascetic warriors known as monks practice their art. By focusing on their minds and bodies, honing both to near perfection, they master a psionic fighting art that allows them to deliver a punch with the force of a giant&apos;s club and to absorb attacks as easily as a heavily armored knight. Monks tap into the psionic potential that rests within themselves, turning that energy further inward to fortify their bodies and sharpen their minds." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You typically eschew weapons in favor of unarmed attacks, and you avoid armor in favor of maneuverability and agility. Few can match your speed and poise on the battlefield. Your powers are more than simple attacks; they are complex forms that allow you to strike and move with unmatched grace. You lean toward controller as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="Your intense focus, constant training, and exceptional talent combine to allow you to harness the psionic power within yourself."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WeaponProf" tag="wpClub"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpMonkUnar"/>
    <tag group="WeaponProf" tag="wpQuarters"/>
    <tag group="WeaponProf" tag="wpShuriken"/>
    <tag group="WeaponProf" tag="wpSling"/>
    <tag group="WeaponProf" tag="wpSpear"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="ImplemType" tag="wpClub"/>
    <tag group="ImplemType" tag="wpDagger"/>
    <tag group="ImplemType" tag="wpQuarters"/>
    <tag group="ImplemType" tag="wpShuriken"/>
    <tag group="ImplemType" tag="wpSling"/>
    <tag group="ImplemType" tag="wpSpear"/>
    <bootstrap thing="fMnkUnaDef"></bootstrap>
    <bootstrap thing="pMnkDesWin"></bootstrap>
    <bootstrap thing="pMnkEteTid"></bootstrap>
    <bootstrap thing="fMnkMonTra"></bootstrap>
    <bootstrap thing="fMnkCenBre"></bootstrap>
    <bootstrap thing="fMnkDesWin"></bootstrap>
    <bootstrap thing="fMnkEteTid"></bootstrap>
    <bootstrap thing="fMnkIroSou"></bootstrap>
    <bootstrap thing="fMnkStoFis"></bootstrap>
    <bootstrap thing="fMnkUnaCom"></bootstrap>
    </thing>
  <thing id="clsPaladin" name="Paladin" description="Paladins are indomitable warriors who&apos;ve pledged their prowess to something greater than themselves. Paladins smite enemies with divine authority, bolster the courage of nearby companions, and radiate as if a beacon of inextinguishable hope. Paladins are transfigured on the field of battle, exemplars of divine ethos in action." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are extremely durable, with high hit points and the ability to wear the heaviest armor. You can issue bold challenges to foes and compel them to fight you rather than your allies."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="10"/>
    <fieldval field="clsSrcTxt" value="You are a divine warrior, a crusader and protector of your faith."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apPlate"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="fPalChaDiv"></bootstrap>
    <bootstrap thing="pPalDivCha"></bootstrap>
    <bootstrap thing="pPalDivMet"></bootstrap>
    <bootstrap thing="pPalDivStr"></bootstrap>
    <bootstrap thing="fPalPalVow"></bootstrap>
    <bootstrap thing="fPalVowArd"></bootstrap>
    <bootstrap thing="fPalVowVir"></bootstrap>
    <bootstrap thing="fPalVowLay"></bootstrap>
    </thing>
  <thing id="clsPsion" name="Psion" description="Psions are the quintessential manipulators of psionic power. Psions unleash the potential locked within every conscious mind, move objects with just a thought, and assume command of even the least desire of their foes. Psions make manifest their secret wishes when others can only dream." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You can mentally influence the actions of your foes, and you can toss your enemies around the battlefield with psionic force."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="4"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="You direct psionic energy from within your own mind, focusing that power through meditation and contemplation. Your magic works on the minds of others or manifests your will as a physical force in the world."/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="4"/>
    <fieldval field="clsRituals" value="1"/>
    <usesource source="PHB3"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ImplemType" tag="itOrb"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="User" tag="PPNormal"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <bootstrap thing="fPsiTelFoc"></bootstrap>
    <bootstrap thing="fPsiTptFoc"></bootstrap>
    <bootstrap thing="fPsiPsiAug"></bootstrap>
    <bootstrap thing="fPsiRitCas"></bootstrap>
    <bootstrap thing="fPsiDisFoc"></bootstrap>
    <bootstrap thing="mePsionAtW"></bootstrap>
    <bootstrap thing="mePsionEnc"></bootstrap>
    <bootstrap thing="fPsiShaFoc"></bootstrap>
    </thing>
  <thing id="clsRanger" name="Ranger" description="Rangers are watchful warriors who roam past the horizon to safeguard a region, a principle, or a way of life. Masters of bow and blade, rangers excel at hit-and-run assaults and can quickly and silently eliminate foes. Rangers lay superb ambushes and excel at avoiding danger." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You concentrate on either ranged attacks or two-weapon melee fighting to deal a lot of damage to one enemy at a time. Your attacks rely on speed and mobility, since you prefer to use hit-and-run tactics whenever possible."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="Your talents depend on extensive training and practice, inner confidence, and natural proficiency."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="Skill1" tag="skDungeone"/>
    <tag group="Skill1" tag="skNature"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <bootstrap thing="fRgrFigSty"></bootstrap>
    <bootstrap thing="fRgrArcFig"></bootstrap>
    <bootstrap thing="fRgrBeaMas"></bootstrap>
    <bootstrap thing="fRgrHunFig"></bootstrap>
    <bootstrap thing="fRgrMarFig"></bootstrap>
    <bootstrap thing="fRgrTwoFig"></bootstrap>
    <bootstrap thing="pRgrHunQua"></bootstrap>
    <bootstrap thing="fRgrPriSho"></bootstrap>
    <bootstrap thing="fRgrRunAtt"></bootstrap>
    </thing>
  <thing id="clsRunepri" name="Runepriest" description="Isolated in sacred forges and holy libraries, runepriests seek to unlock the secrets of the runes of divine power. Legend holds that the gods crafted a set of powerful runes, each imbued with a core of divine power, to help create the world and give it order. During the long war against the primordials, many of these runes were lost. Even the gods only dimly recall the runes of power. Somewhere in the forgotten depths of a dungeon or the isolated corner of the planes, those ancient runes wait to be discovered. A runepriest can learn much in the peaceful halls of a temple, but sooner or later he or she must put on armor and go forth to find or create a new rune, and in so doing earn a name among the masters of rune magic." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="The runes you invoke allow you to impart strength and vitality to your allies while leaving your enemies open to attack. Depending on your choice of class features and powers, you might lean toward either defender or controller as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="You are a master of divine runes, a powerful alphabet that formed the basis of the gods&apos; power. Other runic structures exist, but you have mastered the runes of the gods."/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fRnpRunMas"></bootstrap>
    <bootstrap thing="fRnpRunDes"></bootstrap>
    <bootstrap thing="fRnpRunPro"></bootstrap>
    <bootstrap thing="pRnpRunMen"></bootstrap>
    <bootstrap thing="fRnpRunArt"></bootstrap>
    <bootstrap thing="fRnpDefWor"></bootstrap>
    <bootstrap thing="fRnpSerBla"></bootstrap>
    <bootstrap thing="fRnpWraHam"></bootstrap>
    </thing>
  <thing id="clsRogue" name="Scoundrel" description="A fair fight is not in the scoundrel&apos;s vocabulary. Scoundrels find success on the battlefield by using every trick at their disposal to deceive, mislead, and ambush their enemies. They draw on their many skills to give them an edge in combat, whether that edge enables them to snatch a treasure from a villain or leap away at the last moment to thwart an attack. Scoundrels are survivors, and they are not above getting their hands dirty to win the day." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="Cunning and furtive, you maneuver about the battlefield, evading attacks and countering with strikes of your own. You are at your best when you work with a defender to bring down tough opponents or another striker to set up flanking attacks."/>
    <fieldval field="clsRef" value="2"/>
    <fieldval field="clsSkills" value="4"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpHandCro"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="WeaponProf" tag="wpShuriken"/>
    <tag group="WeaponProf" tag="wpSling"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="TrainSkill" tag="skStealth"/>
    <tag group="TrainSkill" tag="skThievery"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ClassName" tag="Rogue"/>
    <bootstrap thing="fRogFirStr"></bootstrap>
    <bootstrap thing="fRogRogTac"></bootstrap>
    <bootstrap thing="fRogArtDod"></bootstrap>
    <bootstrap thing="fRogBruSco"></bootstrap>
    <bootstrap thing="fRogCunSne"></bootstrap>
    <bootstrap thing="fRogRutRuf"></bootstrap>
    <bootstrap thing="fRogRogWea"></bootstrap>
    <bootstrap thing="fRogShaTal"></bootstrap>
    <bootstrap thing="fRogSneAtt"></bootstrap>
    </thing>
  <thing id="clsScout" name="Scout" description="Scouts learn to wield two weapons at once, from the supple combination of longsword and short sword to the brutal double assault of battleaxe and handaxe. This tactic denies the defensive benefit of a shield, but allows a scout to strike hard and fast. At their best when outnumbered and surrounded, scouts count on speed and accuracy in combat to overwhelm their foes." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="and Primal."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <fieldval field="clsTrmAtW" value="Aspect of the Wild"/>
    <fieldval field="clsTrmAtWs" value="Aspects of the Wild"/>
    <fieldval field="clsExprAtW" value="PowerClass.clsRanger &amp; PowerType.Utility &amp; EffectType.Stance &amp; !ReqLevel.?"/>
    <usesource source="PlEsForKin"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="Skill1" tag="skDungeone"/>
    <tag group="Skill1" tag="skNature"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="ClassName" tag="Ranger"/>
    <tag group="Class" tag="clsRanger"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <tag group="Hero" tag="HidePwrDai"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <bootstrap thing="fSctRanWil"></bootstrap>
    <bootstrap thing="fSctAmbExp"></bootstrap>
    <bootstrap thing="fSctBeaEmp"></bootstrap>
    <bootstrap thing="fSctMouGui"></bootstrap>
    <bootstrap thing="fSctWatRes"></bootstrap>
    <bootstrap thing="fSctWilTra"></bootstrap>
    <bootstrap thing="fSctTwoSty"></bootstrap>
    <bootstrap thing="fSctFlaBla"></bootstrap>
    <bootstrap thing="fSctSpiAxe"></bootstrap>
    <bootstrap thing="fSctImPow3"></bootstrap>
    <bootstrap thing="fSctWiKna4"></bootstrap>
    <bootstrap thing="pRgrReaShi"></bootstrap>
    <bootstrap thing="fSctWiKna8"></bootstrap>
    <bootstrap thing="fSctImpDua"></bootstrap>
    <bootstrap thing="fSctEnhPow"></bootstrap>
    <bootstrap thing="fSctEagAxe"></bootstrap>
    <bootstrap thing="fSctSerBla"></bootstrap>
    <bootstrap thing="fSctParDua"></bootstrap>
    <bootstrap thing="fSctCauShi"></bootstrap>
    <bootstrap thing="fSctPeePer"></bootstrap>
    <bootstrap thing="fSctEpiDua"></bootstrap>
    <bootstrap thing="fSctEpiSco"></bootstrap>
    <bootstrap thing="SctPwrAtW"></bootstrap>
    <bootstrap thing="SctPwrEnc"></bootstrap>
    <bootstrap thing="fSctAttFin"></bootstrap>
    <bootstrap thing="SctPwrUti"></bootstrap>
    <bootstrap thing="SctPwrDai"></bootstrap>
    <bootstrap thing="pRgrDuaWea"></bootstrap>
    <bootstrap thing="fSctRanWlB"></bootstrap>
    <bootstrap thing="pFtrPowStr">
      <autotag group="User" tag="ClassOK"/>
      </bootstrap>
    </thing>
  <thing id="clsSeeker" name="Seeker" description="Seekers are primal champions who scour the wilderness in search of those who would defile it. Versed in hunting techniques handed down through the generations, seekers combine thrown weapon and bow techniques with primal evocations. The combination allows seekers great range in which to deliver deadly attacks that confound and hamper their enemies. When a seeker looses a missile, the primal spirits bound to it through ancient evocations are freed, sometimes as terrifying beasts and sometimes as nature&apos;s raw destructive potential." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are a primal hunter who forges bonds with mysterious spirits to gain their aid in bringing down your prey. Depending on your choice of class features, you lean toward either defender or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="Through ancient ceremonies and whispered evocations, you call on primal spirits to lend their might to your cause."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB3"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skNature"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <bootstrap thing="pSekIneSho"></bootstrap>
    <bootstrap thing="fSekSeeBon"></bootstrap>
    <bootstrap thing="fSekBloodb"></bootstrap>
    <bootstrap thing="fSekSpirit"></bootstrap>
    </thing>
  <thing id="clsSentine" name="Sentinel" description="As a sentinel, you use primal power to shelter your allies and defeat those that would disrupt the balance of the natural world. Some sentinels take up the profession with the expectation of becoming the leader or advisor of a frontier village. Others become hermits or wanderers, which leads naturally to the adventurer&apos;s life. However, all sentinels use their mastery of primal magic to help the people of the frontier survive hardships and maintain a respectful relationship with the natural world." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsTrmAtW" value="At-Will Power"/>
    <fieldval field="clsTrmAtWs" value="At-Will Powers"/>
    <usesource source="PlEsForKin"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itTotem"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="TrainSkill" tag="skNature"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="ClassName" tag="Druid"/>
    <tag group="Class" tag="clsDruid"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <bootstrap thing="fSenDruSum"></bootstrap>
    <bootstrap thing="fSenDruWas"></bootstrap>
    <bootstrap thing="fSenAniCom"></bootstrap>
    <bootstrap thing="fSenDruWol"></bootstrap>
    <bootstrap thing="fSenDruBea"></bootstrap>
    <bootstrap thing="fSenDruLiv"></bootstrap>
    <bootstrap thing="pDrdComAtt"></bootstrap>
    <bootstrap thing="fSenDruWil"></bootstrap>
    <bootstrap thing="fSenBeaEmp"></bootstrap>
    <bootstrap thing="fSenHerLor"></bootstrap>
    <bootstrap thing="fSenMouGui"></bootstrap>
    <bootstrap thing="fSenWatRes"></bootstrap>
    <bootstrap thing="fSenWilTra"></bootstrap>
    <bootstrap thing="pClrHeaWor">
      <autotag group="User" tag="ClassOK"/>
      </bootstrap>
    <bootstrap thing="fSenPriGua"></bootstrap>
    <bootstrap thing="fSenImCom3"></bootstrap>
    <bootstrap thing="fSenHeaVoi"></bootstrap>
    <bootstrap thing="fSenImCom7"></bootstrap>
    <bootstrap thing="pDrdResLif"></bootstrap>
    <bootstrap thing="fSenParCyc"></bootstrap>
    <bootstrap thing="fSenParSum"></bootstrap>
    <bootstrap thing="fSenParWas"></bootstrap>
    <bootstrap thing="fSenTimBod"></bootstrap>
    <bootstrap thing="fSenNatBou"></bootstrap>
    <bootstrap thing="fSenBleWas"></bootstrap>
    <bootstrap thing="fSenNatSpr"></bootstrap>
    <bootstrap thing="fSenNatSum"></bootstrap>
    <bootstrap thing="fSenAcoNat"></bootstrap>
    <bootstrap thing="SenPwrAtW"></bootstrap>
    <bootstrap thing="SenPwrEnc"></bootstrap>
    <bootstrap thing="fSenDruSpr"></bootstrap>
    <bootstrap thing="SenPwrUti"></bootstrap>
    <bootstrap thing="SenPwrDai"></bootstrap>
    <bootstrap thing="fSenDruWlB"></bootstrap>
    </thing>
  <thing id="clsShaman" name="Shaman" description="Shamans are inspiring and dangerous battle leaders. They command powerful spirit guides, and through them lead their allies. These nature spirits bolster their allies&apos; attacks and offer protection and healing when needed." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your spirit companion bolsters and heals your nearby allies, and you can evoke other spirits to aid your allies and harm your foes. Depending on your choice of class features and powers, you lean toward either defender or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSrcTxt" value="The spirits of the natural world give you power and manifest on your behalf."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WeaponProf" tag="wpLongspea"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="ImplemType" tag="itTotem"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="TrainSkill" tag="skNature"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="fShmComSpi"></bootstrap>
    <bootstrap thing="fShmEleSpi"></bootstrap>
    <bootstrap thing="fShmProSpi"></bootstrap>
    <bootstrap thing="fShmStaSpi"></bootstrap>
    <bootstrap thing="fShmWatSpi"></bootstrap>
    <bootstrap thing="fShmWorSpe"></bootstrap>
    <bootstrap thing="pShmHlSpir"></bootstrap>
    <bootstrap thing="pShmSpewit"></bootstrap>
    <bootstrap thing="pShmCalSpi"></bootstrap>
    <bootstrap thing="meShamaAtW"></bootstrap>
    </thing>
  <thing id="clsSlayer" name="Slayer" description="When tales are told of the most legendary warriors, slayers are the heroes those stories speak of. Slayers are elite shock troops, standing at the forefront of battle with a combination of strong armor, advanced tactical cunning, and a mastery of withering two-handed weapon attacks." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="9"/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsTrmAtW" value="Slayer Stance"/>
    <fieldval field="clsTrmAtWs" value="Slayer Stances"/>
    <fieldval field="clsExprAtW" value="PowerClass.clsFighter &amp; PowerType.Utility &amp; EffectType.Stance &amp; !ReqLevel.?"/>
    <usesource source="PlEsHeroFa"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="ClassName" tag="Fighter"/>
    <tag group="Class" tag="clsFighter"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <tag group="Hero" tag="HidePwrDai"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <bootstrap thing="fSlyImPow3"></bootstrap>
    <bootstrap thing="fSlyQuiSwa"></bootstrap>
    <bootstrap thing="fSlyMigSla"></bootstrap>
    <bootstrap thing="fSlySlaWea"></bootstrap>
    <bootstrap thing="fSlyBruAxe"></bootstrap>
    <bootstrap thing="fSlyRapQua"></bootstrap>
    <bootstrap thing="fSlySweSwo"></bootstrap>
    <bootstrap thing="fSlyIneSla"></bootstrap>
    <bootstrap thing="fSlyIPow13"></bootstrap>
    <bootstrap thing="fSlyParSla"></bootstrap>
    <bootstrap thing="pFtrRelAdv"></bootstrap>
    <bootstrap thing="fSlyArmMob"></bootstrap>
    <bootstrap thing="pFtrSlaDef"></bootstrap>
    <bootstrap thing="fSlyRelSla"></bootstrap>
    <bootstrap thing="fSlyUnfSla"></bootstrap>
    <bootstrap thing="fSlyEpiSla"></bootstrap>
    <bootstrap thing="fSlySpiWar"></bootstrap>
    <bootstrap thing="fSlyHerSla"></bootstrap>
    <bootstrap thing="SlyPwrAtW"></bootstrap>
    <bootstrap thing="SlyPwrEnc"></bootstrap>
    <bootstrap thing="pFtrPowStr"></bootstrap>
    <bootstrap thing="SlyPwrUti"></bootstrap>
    <bootstrap thing="SlyPwrDai"></bootstrap>
    <bootstrap thing="fSlyWeaTal"></bootstrap>
    </thing>
  <thing id="clsSorcere" name="Sorcerer" description="The sorcerer is the arcane antithesis of the wizard. Wielding raw, barely contained magical power, sorcerers channel bursts and blasts of arcane energy through their bodies. They gain their power not through rigorous study of esoteric tomes, but by harnessing magic in their blood, waiting to be tapped and shaped. If wizards wield magic as fighters wield swords, a sorcerer&apos;s magic is the arcing greataxe of a raging barbarian." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You channel powerful magical energy through your body, exerting control over wild arcane magic to blast foes. You lean toward controller as a secondary role."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="Arcane magic is in your blood, as a touch of either ancient draconic power or untamed chaos energy, and you unleash it through sheer force of will and physical discipline."/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="ImplemType" tag="wpDagger"/>
    <bootstrap thing="fSorCosMag"></bootstrap>
    <bootstrap thing="fSorDraMag"></bootstrap>
    <bootstrap thing="fSorStoMag"></bootstrap>
    <bootstrap thing="fSorWilMag"></bootstrap>
    <bootstrap thing="fSorSpeSou"></bootstrap>
    </thing>
  <thing id="clsSwordma" name="Swordmage" description="Swordmages apply the arcane arts to melee combat. The combat skills they possess are enhanced by the magic they wield. The flourish of a swordmage&apos;s blade not only bites with steel, but also with fire, lightning, or other powerful forces." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are a melee combatant who uses spells to fight better."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="8"/>
    <fieldval field="clsSrcTxt" value="You study ancient magical traditions and practice swordplay, developing arcane powers that work well with your physical attacks."/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="FRPG"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpGrpRqMil" tag="wgLightBl"/>
    <tag group="WpGrpRqMil" tag="wgHeavyBl"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="ImplemType" tag="wgLightBl"/>
    <tag group="ImplemType" tag="wgHeavyBl"/>
    <bootstrap thing="fSmgAegAss"></bootstrap>
    <bootstrap thing="fSmgAegEns"></bootstrap>
    <bootstrap thing="fSmgAegShi"></bootstrap>
    <bootstrap thing="fSmgSwoWar"></bootstrap>
    <bootstrap thing="fSmgSwordb"></bootstrap>
    <bootstrap thing="fSmgSwoAeg"></bootstrap>
    </thing>
  <thing id="clsCleric" name="Templar" description="Schooled in religious traditions from childhood, templars wield divine powers entrusted to them through ordination or investiture in the service of a deity. They are expected to further their deity&apos;s interests throughout their lives, aiding all who work in the deity&apos;s name (whether they realize it or not) and opposing any who seek to thwart the deity&apos;s will. Templars try to sway the good people of the world to give honor and worship to the gods by setting an example of courage, understanding, patience, piety, and zeal. Sometimes this is best done through ministering to the needs of the common folk, sometimes by offering advice and counsel to those who hold power in the world, and sometimes by leading the way on bold adventures and inspiring quests. Whenever the faithful are in need, a cleric is called to act." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You lead by healing and shielding allies with your prayers, and by drawing on divine power to improve your allies&apos; attacks. Templars lean toward controller as a secondary role, since many of their powers affect multiple foes at once or hinder enemy actions."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsWill" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <fieldval field="clsRituals" value="1"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ClassName" tag="Cleric"/>
    <tag group="PowerSrc" tag="Divine"/>
    <bootstrap thing="fClrOption"></bootstrap>
    <bootstrap thing="fClrHeaLo"></bootstrap>
    <bootstrap thing="fClrBtlLor"></bootstrap>
    <bootstrap thing="pClrHeaWor"></bootstrap>
    <bootstrap thing="fClrRitCas"></bootstrap>
    <bootstrap thing="fClrOpt2"></bootstrap>
    <bootstrap thing="fClrDivFor"></bootstrap>
    <bootstrap thing="fClrFavGo"></bootstrap>
    <bootstrap thing="fClrOpt3"></bootstrap>
    <bootstrap thing="fClrTurUnd"></bootstrap>
    <bootstrap thing="fClrHeaMer"></bootstrap>
    <bootstrap thing="fClrPunPro"></bootstrap>
    <bootstrap thing="rtGentlRep"></bootstrap>
    <bootstrap thing="fClrChaDiv"></bootstrap>
    </thing>
  <thing id="clsThief" name="Thief" description="A thief specializes in agility and trickery, using hard-earned skills to pilfer and hide, escape from tight situations, and overcome deadly traps. A thief has powerful combat abilities, but relies first and foremost on circumventing an enemy&apos;s defenses through acrobatics and stealth. Brute strength and arcane power have their uses, but a thief &apos;s quick reflexes and agile touch can get the drop on enemies before they know what hit them." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsRef" value="2"/>
    <fieldval field="clsSkills" value="4"/>
    <fieldval field="clsTrmAtW" value="Rogue&apos;s Trick"/>
    <fieldval field="clsTrmAtWs" value="Rogue&apos;s Tricks"/>
    <fieldval field="clsExprAtW" value="PowerClass.clsRogue &amp; PowerType.Utility &amp; !ReqLevel.?"/>
    <usesource source="PlEsHeroFa"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpHandCro"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="WeaponProf" tag="wpShortbow"/>
    <tag group="WeaponProf" tag="wpSling"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="TrainSkill" tag="skStealth"/>
    <tag group="TrainSkill" tag="skThievery"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ClassName" tag="Rogue"/>
    <tag group="Class" tag="clsRogue"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <tag group="Hero" tag="HidePwrDai"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <bootstrap thing="fThfWeaFin"></bootstrap>
    <bootstrap thing="fThfSkiMas"></bootstrap>
    <bootstrap thing="fThfThiWea"></bootstrap>
    <bootstrap thing="fThfImBac3"></bootstrap>
    <bootstrap thing="pRogCunEsc"></bootstrap>
    <bootstrap thing="fThfImpFin"></bootstrap>
    <bootstrap thing="fThfThiCom"></bootstrap>
    <bootstrap thing="fThfIBac13"></bootstrap>
    <bootstrap thing="fThfParFin"></bootstrap>
    <bootstrap thing="pRogSlifro"></bootstrap>
    <bootstrap thing="fThfEvaBac"></bootstrap>
    <bootstrap thing="pRogInvSta"></bootstrap>
    <bootstrap thing="fThfEluThi"></bootstrap>
    <bootstrap thing="fThfEpiFin"></bootstrap>
    <bootstrap thing="fThfRelThi"></bootstrap>
    <bootstrap thing="fThfEpiSki"></bootstrap>
    <bootstrap thing="pRogBackst"></bootstrap>
    <bootstrap thing="ThfPwrAtW"></bootstrap>
    <bootstrap thing="ThfPwrEnc"></bootstrap>
    <bootstrap thing="fThfFirStr"></bootstrap>
    <bootstrap thing="ThfPwrUti"></bootstrap>
    <bootstrap thing="ThfPwrDai"></bootstrap>
    <bootstrap thing="fThfSneAtt"></bootstrap>
    </thing>
  <thing id="clsWarden" name="Warden" description="As mountains stand fast against the buffeting wind and trees bend but do not break in the storm, wardens are stalwart protectors who draw on the primal spirits of nature to defend the natural world from those who would corrupt or destroy it. Some wardens use the power of earth and stone to shield their allies from harm, whereas others summon the primal strength within themselves to increase their ferocity and tenacity." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="You are sturdy and resilient, and you can assume bestial or treelike forms to destroy your foes. Depending on your choice of class features and powers, you lean toward either controller or striker as a secondary role."/>
    <fieldval field="clsStartHP" value="17"/>
    <fieldval field="clsHPLev" value="7"/>
    <fieldval field="clsSurges" value="9"/>
    <fieldval field="clsSrcTxt" value="You are a primal champion, a guardian of the natural world and custodian of all living things."/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PHB2"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="TrainSkill" tag="skNature"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fWrdFonLif"></bootstrap>
    <bootstrap thing="fWrdGuaMig"></bootstrap>
    <bootstrap thing="fWrdEarths"></bootstrap>
    <bootstrap thing="fWrdLifesp"></bootstrap>
    <bootstrap thing="fWrdStormh"></bootstrap>
    <bootstrap thing="fWrdWildbl"></bootstrap>
    <bootstrap thing="fWrdNatWra"></bootstrap>
    <bootstrap thing="pWrdWarFur"></bootstrap>
    <bootstrap thing="pWrdWarGra"></bootstrap>
    </thing>
  <thing id="clsWarlock" name="Warlock" description="Warlocks channel arcane might wrested from primeval entities. They commune with infernal intelligences and fey spirits, scour enemies with potent blasts of eldritch power, and bedevil foes with hexing curses. Armed with esoteric secrets and dangerous lore, warlocks are clever and resourceful foes." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your attack powers are highly damaging and often weaken or hamper the target in some way. You can elude attacks by flying, teleporting, or turning invisible."/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSrcTxt" value="You gain your magical power from a pact you forge with a powerful, supernatural force or an unnamed entity."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="4"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ImplemType" tag="itPactBlad"/>
    <bootstrap thing="fWlkEldPac"></bootstrap>
    <bootstrap thing="fWlkDarPac"></bootstrap>
    <bootstrap thing="fWlkElePac"></bootstrap>
    <bootstrap thing="fWlkFeyPac"></bootstrap>
    <bootstrap thing="fWlkInfPac"></bootstrap>
    <bootstrap thing="fWlkSorPac"></bootstrap>
    <bootstrap thing="fWlkStaPac"></bootstrap>
    <bootstrap thing="fWlkVesPac"></bootstrap>
    <bootstrap thing="fWlkPriSho"></bootstrap>
    <bootstrap thing="fWlkShaWal"></bootstrap>
    <bootstrap thing="pWlkWarCur"></bootstrap>
    <bootstrap thing="fWlkEldBla"></bootstrap>
    <eval phase="Setup" priority="5"><![CDATA[
      ~our at-will powers are selected based on which pact we choose, so find
      ~our 'at will power' mechanics array and subtract the bottom 2 levels
      ~of every row
      var findmech as string
      findmech = "PwrAtWill"
      call FindMech
      doneif (state.isfocus = 0)
      var i as number
      var j as number
      for i = 1 to focus.field[ClPwrTable].matrixrows - 1

        ~collapse this row 'down' two slots, so slot 3 -> slot 1, slot 4 ->
        ~slot 2, etc. This removes the two lowest-level at-will powers that
        ~we're allowed.
        for j = 0 to focus.field[ClPwrTable].matrixcols - 3
          focus.field[ClPwrTable].matrixvalue[i,j] = focus.field[ClPwrTable].matrixvalue[i,j+2]
          next
        focus.field[ClPwrTable].matrixvalue[i,focus.field[ClPwrTable].matrixcols - 2] = 0
        focus.field[ClPwrTable].matrixvalue[i,focus.field[ClPwrTable].matrixcols - 1] = 0
        next]]>
      <before name="Level final"/>
      </eval>
    </thing>
  <thing id="clsWarprie" name="Warpriest" description="Warpriests use a combination of religious dedication and keen insight to access the divine magic granted by the gods they serve. Using that magic to back up impressive martial ability, warpriests serve as the shield of their faith. Warpriests protect the innocent from marauding monsters and lead adventuring expeditions into the dark unknown. They are drawn to the borderlands between the scattered settlements of civilization and the realms of chaos. There, they attend the spiritual and military needs of the population." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="PlEsHeroFa"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="TrainSkill" tag="skReligion"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ClassName" tag="Cleric"/>
    <tag group="Class" tag="clsCleric"/>
    <tag group="User" tag="RecomPower"/>
    <tag group="Hero" tag="HidePwrAtW"/>
    <tag group="Hero" tag="HidePwrEnc"/>
    <bootstrap thing="fWprDeaDom"></bootstrap>
    <bootstrap thing="fWprDomDom"></bootstrap>
    <bootstrap thing="fWprEarDom"></bootstrap>
    <bootstrap thing="fWprOghDom"></bootstrap>
    <bootstrap thing="fWprSelDom"></bootstrap>
    <bootstrap thing="fWprStoDom"></bootstrap>
    <bootstrap thing="fWprSunDom"></bootstrap>
    <bootstrap thing="fWprTorDom"></bootstrap>
    <bootstrap thing="pClrHeaWor"></bootstrap>
    <bootstrap thing="pClrHolCle"></bootstrap>
    <bootstrap thing="fWprCorFt5"></bootstrap>
    <bootstrap thing="fWprDeaFt5"></bootstrap>
    <bootstrap thing="fWprLev5"></bootstrap>
    <bootstrap thing="fWprEarFt5"></bootstrap>
    <bootstrap thing="fWprOghFt5"></bootstrap>
    <bootstrap thing="fWprSelFt5"></bootstrap>
    <bootstrap thing="fWprStoFt5"></bootstrap>
    <bootstrap thing="fWprSunFt5"></bootstrap>
    <bootstrap thing="fWprTorFt5"></bootstrap>
    <bootstrap thing="pClrResurr"></bootstrap>
    <bootstrap thing="fWprCorF10"></bootstrap>
    <bootstrap thing="fWprDeaF10"></bootstrap>
    <bootstrap thing="fWprLev10"></bootstrap>
    <bootstrap thing="fWprEarF10"></bootstrap>
    <bootstrap thing="fWprOghF10"></bootstrap>
    <bootstrap thing="fWprSelF10"></bootstrap>
    <bootstrap thing="fWprStoF10"></bootstrap>
    <bootstrap thing="fWprSunF10"></bootstrap>
    <bootstrap thing="fWprTorF10"></bootstrap>
    <bootstrap thing="WprPwrAtW"></bootstrap>
    <bootstrap thing="fWprDomFea"></bootstrap>
    <bootstrap thing="WprPwrEnc"></bootstrap>
    <bootstrap thing="fWprCorDom"></bootstrap>
    <bootstrap thing="WprPwrUti"></bootstrap>
    <bootstrap thing="WprPwrDai"></bootstrap>
    <bootstrap thing="pClrStoRes">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBurEar">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrEarEnd">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrEarHai">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStoSpe">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBleDus">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrEarVan">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrObsShi">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrEarCha">
      <containerreq phase="Setup" priority="500">HasFeature.fWprEarDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStoSur">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBleWra">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStoHam">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrCreWat">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThuSte">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrHamWin">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrWraLig">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrRoaThu">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrWinFur">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThuJus">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThuDaw">
      <containerreq phase="Setup" priority="500">HasFeature.fWprStoDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSooLig">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBleBat">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBraSun">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSunBur">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSunGlo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrResSun">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSeaBra">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrAwaSun">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStrSun">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrOveLig">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrLigFir">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSunDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStaHan">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrDeaSha">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrEyeVul">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrIneDoo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrTenBle">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrDeaSur">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrRavTal">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrCalto">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrDeaCal">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrDeaTou">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrHerIne">
      <containerreq phase="Setup" priority="500">HasFeature.fWprDeaDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSteTog">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrAllAcc">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrFeyBeg">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrGliStr">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrHarBla">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrAwfto">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStrWoe">
      <containerreq phase="Setup" priority="500">HasFeature.fWprCorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrKnoto">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrInsSte">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThoSto">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThoCru">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrBriIde">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrShaSec">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThoDes">
      <containerreq phase="Setup" priority="500">HasFeature.fWprOghDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrLifLig">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrMooBlo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrPeaLig">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSilBlo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrGleStr">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrMooTid">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrStaMoo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprSelDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrOutman">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrHrtStr">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrTacStr">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrThuBlo">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrHonCha">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrRevSho">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrValCha">
      <containerreq phase="Setup" priority="500">HasFeature.fWprTorDom
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pClrSmiUnd"></bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[

      ~at level 13, hide our level 1 encounter power
      doneif (#level[] < 13)
      foreach pick in hero from Power where "PowerClass.clsCleric & PowerType.Encounter & ReqLevel.1"
        perform eachpick.assign[Hide.Special]
        perform eachpick.assign[Helper.Disable]
        nexteach

      ~at level 17, hide our level 3 encounter power
      doneif (#level[] < 17)
      foreach pick in hero from Power where "PowerClass.clsCleric & PowerType.Encounter & ReqLevel.3"
        perform eachpick.assign[Hide.Special]
        perform eachpick.assign[Helper.Disable]
        nexteach

      ~at level 23, hide our level 7 encounter power
      doneif (#level[] < 23)
      foreach pick in hero from Power where "PowerClass.clsCleric & PowerType.Encounter & ReqLevel.7"
        perform eachpick.assign[Hide.Special]
        perform eachpick.assign[Helper.Disable]
        nexteach

      ~at level 27, hide our level 13 encounter power
      doneif (#level[] < 27)
      foreach pick in hero from Power where "PowerClass.clsCleric & PowerType.Encounter & ReqLevel.13"
        perform eachpick.assign[Hide.Special]
        perform eachpick.assign[Helper.Disable]
        nexteach]]></eval>
    </thing>
  <thing id="clsFighter" name="Weaponmaster" description="Into the blackest pits beneath the mountains, bent on vengeance and glory, goes the weaponmaster. These warriors form the iron core of any legion. They crash into the teeth of enemy forces, armed with cold steel and grim purpose. They are the mercenaries loitering in taverns between expeditions, the guards who cast a watchful eye over their charges, the weapon masters who elevate fighting styles to lethal arts. The weaponmaster is a fearless warrior, ready to meet any challenge." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Tough and resilient, you use tactical cunning and battle prowess to contain the enemy and protect your allies."/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="9"/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsSkills" value="3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="ClassName" tag="Fighter"/>
    <bootstrap thing="fFtrComAgi"></bootstrap>
    <bootstrap thing="fFtrComCha"></bootstrap>
    <bootstrap thing="fFtrComSup"></bootstrap>
    <bootstrap thing="fFtrFigTal"></bootstrap>
    <bootstrap thing="fFtrAreTra"></bootstrap>
    <bootstrap thing="fFtrBatVig"></bootstrap>
    <bootstrap thing="fFtrBraSty"></bootstrap>
    <bootstrap thing="fFtrOneWea"></bootstrap>
    <bootstrap thing="fFtrTemTec"></bootstrap>
    <bootstrap thing="fFtrTwoWea"></bootstrap>
    </thing>
  <thing id="clsArdenHy" name="Hybrid Ardent" description="Like most ardents, your psionic power comes from self-discovered potential rather than training. Why did you choose not to focus on honing your talent for harnessing emotion? Do you fear this ability, preferring to supplement it with the abilities of another class? Have you only begun to unlock this mysterious power?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsArdent"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="User" tag="PPHybrid"/>
    <bootstrap thing="fArdHMaCla"></bootstrap>
    <bootstrap thing="fArdHMaEla"></bootstrap>
    <bootstrap thing="fArdHArSur"></bootstrap>
    <bootstrap thing="fArdHPsAug"></bootstrap>
    <bootstrap thing="tArdHArArm"></bootstrap>
    <bootstrap thing="tArdHMaPow"></bootstrap>
    <bootstrap thing="fArdHArMan"></bootstrap>
    <bootstrap thing="pArdArdSur">
      <assignval field="spcMax" value="1"/>
      </bootstrap>
    <bootstrap thing="pArdArdAla">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    <bootstrap thing="pArdArdOut">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    </thing>
  <thing id="clsArtifHy" name="Hybrid Artificer" description="Whether student or tinkerer, you have learned many tricks for imbuing magic into objects and creatures. Your expertise is spotty, however, with many gaps that a true artificer might scoff at. Of course, you know plenty of tricks beyond the skill of that artificer." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsArtific"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fArtHHeInf"></bootstrap>
    <bootstrap thing="tArtHArEmp"></bootstrap>
    <bootstrap thing="tArtHArRej"></bootstrap>
    <bootstrap thing="pArtHeaInf"></bootstrap>
    <bootstrap thing="pArtHeaFor"></bootstrap>
    <bootstrap thing="pArtHeaShi"></bootstrap>
    </thing>
  <thing id="clsAssasHy" name="Hybrid Assassin" description="You have accepted your dark reflection and understand its place in your soul. Yet you are unwilling to surrender completely to the darkness you now harbor." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="5"/>
    <fieldval field="clsHPLev" value="2"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="Dragon"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsAssassi"/>
    <tag group="PowerSrc" tag="Shadow"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpGrpRqMil" tag="wgHeavyBl"/>
    <tag group="WpGrpRqMil" tag="wgLightBl"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpJavelin"/>
    <tag group="WeaponProf" tag="wpMace"/>
    <tag group="WeaponProf" tag="wpSickle"/>
    <tag group="WeaponProf" tag="wpSpear"/>
    <tag group="WeaponProf" tag="wpSpikegau"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="ImplemType" tag="wcSimple"/>
    <tag group="ImplemType" tag="wgHeavyBl"/>
    <tag group="ImplemType" tag="wgLightBl"/>
    <tag group="ImplemType" tag="wpClub"/>
    <tag group="ImplemType" tag="wpDagger"/>
    <tag group="ImplemType" tag="wpJavelin"/>
    <tag group="ImplemType" tag="wpMace"/>
    <tag group="ImplemType" tag="wpSickle"/>
    <tag group="ImplemType" tag="wpSpear"/>
    <tag group="ImplemType" tag="wpSpikegau"/>
    <bootstrap thing="tAsnHShSte"></bootstrap>
    <bootstrap thing="tAsnHGuTra"></bootstrap>
    <bootstrap thing="tAsnHShFor"></bootstrap>
    <bootstrap thing="pAsnAssShr"></bootstrap>
    <bootstrap thing="fAsnBleDis"></bootstrap>
    <bootstrap thing="fAsnNigSta"></bootstrap>
    </thing>
  <thing id="clsAvengHy" name="Hybrid Avenger" description="You blend secret monastic training with other talents to become  a unique servant of the gods. Do your vows represent an earlier stage of your life, all but left behind, or a newfound mission?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsAvenger"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <bootstrap thing="tAveHArFai"></bootstrap>
    <bootstrap thing="tAveHAvCen"></bootstrap>
    <bootstrap thing="tAveHChDiv"></bootstrap>
    <bootstrap thing="tAveHChDiD"></bootstrap>
    <bootstrap thing="fAveCenPur"></bootstrap>
    <bootstrap thing="fAveCenRet"></bootstrap>
    <bootstrap thing="fAveCenUni"></bootstrap>
    </thing>
  <thing id="clsBarbaHy" name="Hybrid Barbarian" description="In your heart, you know the power of rage. However, your link to the primal spirits that unleash these rages isn&apos;t quite as strong as a typical barbarian&apos;s. Perhaps you&apos;ve been away from the tribe for too long, or maybe you have only begun to harness primal power. Regardless of the reason, as a hybrid barbarian you can&apos;t unleash the burning rage in your heart quite as easily as a full member of that class, but you remain capable of occasional frenzied bursts of energy." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7.5"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="4"/>
    <fieldval field="clsFort" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsBarbari"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fBbnHRampa"></bootstrap>
    <bootstrap thing="tBbnHBaArm"></bootstrap>
    <bootstrap thing="tBbnHFeMig"></bootstrap>
    <bootstrap thing="fBbnRagVig"></bootstrap>
    <bootstrap thing="fBbnThaTri"></bootstrap>
    </thing>
  <thing id="clsBardHy" name="Hybrid Bard" description="You are a dabbler among dabblers. The versatility of the typical bard isn&apos;t enough for you, so you have branched out even further into other talents. Alternatively, you might have been incapable of mastering the bard&apos;s full repertoire of performance and inspiration and have chosen to explore other areas to augment your abilities. As a hybrid bard, you retain some of the bard&apos;s healing power, but trade away much of that class&apos;s innate versatility in exchange for access to another class&apos;s tricks." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsBard"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="WeaponProf" tag="wpLongswor"/>
    <tag group="WeaponProf" tag="wpScimitar"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="ImplemType" tag="itInstru"/>
    <bootstrap thing="tBrdHBaArm"></bootstrap>
    <bootstrap thing="tBrdHBaVir"></bootstrap>
    <bootstrap thing="tBrdHSoRes"></bootstrap>
    <bootstrap thing="tBrdHWoFri"></bootstrap>
    <bootstrap thing="fBrdVirCun"></bootstrap>
    <bootstrap thing="fBrdVirPre"></bootstrap>
    <bootstrap thing="fBrdVirVal"></bootstrap>
    <bootstrap thing="pBrdMajWor"></bootstrap>
    <bootstrap thing="fBrdHMaWor"></bootstrap>
    <bootstrap thing="fBrdHSkVer"></bootstrap>
    </thing>
  <thing id="clsBattlHy" name="Hybrid Battlemind" description="When you start with a sturdy mind and body, you can add almost any other set of talents to achieve a strong whole - or so you like to tell yourself." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7.5"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="4.5"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsBattlem"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="User" tag="PPHybrid"/>
    <bootstrap thing="fBmnHPsDef"></bootstrap>
    <bootstrap thing="tBmnHBaArm"></bootstrap>
    <bootstrap thing="tBmnHPsStu"></bootstrap>
    <bootstrap thing="fBmnHPsAug"></bootstrap>
    <bootstrap thing="fBmnSpeTho"></bootstrap>
    <bootstrap thing="fBmnBatRes"></bootstrap>
    <bootstrap thing="pBmnBluSte">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    <bootstrap thing="pBmnMinSpi">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    </thing>
  <thing id="clsCleriHy" name="Hybrid Cleric" description="By learning talents beyond those taught to the typical cleric, you have honed yourself into a distinctive divine leader. Your cleric training might represent a youthful devotion or a newly discovered dedication to a god." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsCleric"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <bootstrap thing="fClrHHeWor"></bootstrap>
    <bootstrap thing="tClrHChDiv"></bootstrap>
    <bootstrap thing="tClrHClArm"></bootstrap>
    <bootstrap thing="fClrHHeLor"></bootstrap>
    <bootstrap thing="tClrHChDiT"></bootstrap>
    <bootstrap thing="tClrHChDiH"></bootstrap>
    <bootstrap thing="pClrHeaWor"></bootstrap>
    </thing>
  <thing id="clsDruidHy" name="Hybrid Druid" description="Your ability to take on the form of a beast marks you unmistakably as a druid, but your bond to the spirits of nature remains somewhat tenuous. Do your druid powers stem from an innate but undeveloped link to primal spirits? Or have you just begun to explore the mysteries of nature after a life spent in other pursuits?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsDruid"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itTotem"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fDrdHWiSha"></bootstrap>
    <bootstrap thing="tDrdHDrArm"></bootstrap>
    <bootstrap thing="tDrdHPrAsp"></bootstrap>
    <bootstrap thing="fDrdPriGua"></bootstrap>
    <bootstrap thing="fDrdPriPre"></bootstrap>
    <bootstrap thing="pDrdWilSha"></bootstrap>
    </thing>
  <thing id="clsFightHy" name="Hybrid Fighter" description="You call on your martial training to guard allies and strike down enemies, and because of your hybrid training, you have tricks up your sleeve that your enemies don&apos;t expect." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7.5"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="4.5"/>
    <fieldval field="clsFort" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsFighter"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skStreetwi"/>
    <bootstrap thing="fFtrHCoCha"></bootstrap>
    <bootstrap thing="tFtrHCoSpe"></bootstrap>
    <bootstrap thing="tFtrHFiArm"></bootstrap>
    <bootstrap thing="tFtrHFiCom"></bootstrap>
    <bootstrap thing="fFtrBatVig"></bootstrap>
    <bootstrap thing="fFtrOneWea"></bootstrap>
    <bootstrap thing="fFtrTemTec"></bootstrap>
    <bootstrap thing="fFtrTwoWea"></bootstrap>
    </thing>
  <thing id="clsInvokHy" name="Hybrid Invoker" description="You wield the might of the gods, mixed with powers more earthly. But why would you forgo pure devotion to the secrets of the invoker? Did you uncover a mystery that frightened you from wielding such unfettered power? Or has your understanding of divinity only recently awakened? As a hybrid invoker, you wield the gods&apos; own might to smite your foes. However, you forgo the versatility of Channel Divinity and Ritual Casting to gain the benefits of another class." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="5"/>
    <fieldval field="clsHPLev" value="2"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsInvoker"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="fInvHCoMan"></bootstrap>
    <bootstrap thing="tInvHChDiv"></bootstrap>
    <bootstrap thing="tInvHInArm"></bootstrap>
    <bootstrap thing="fInvCovMal"></bootstrap>
    <bootstrap thing="fInvCovPre"></bootstrap>
    <bootstrap thing="fInvCovWra"></bootstrap>
    <bootstrap thing="tInvHChDiM"></bootstrap>
    </thing>
  <thing id="clsMonkHy" name="Hybrid Monk" description="You are an enigma, blending supreme discipline and focus with a multifaceted approach to victory in battle. How do you explain this seeming contradiction? Are you a failed student of monastic discipline, turning to alternative talents to stay alive? Or have you newly discovered an ascetic lifestyle and now seek to leave behind your former life?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsMonk"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WeaponProf" tag="wpClub"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpQuarters"/>
    <tag group="WeaponProf" tag="wpShuriken"/>
    <tag group="WeaponProf" tag="wpSling"/>
    <tag group="WeaponProf" tag="wpSpear"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ImplemType" tag="itKiFocus"/>
    <bootstrap thing="fMnkHCeBre"></bootstrap>
    <bootstrap thing="fMnkHStFis"></bootstrap>
    <bootstrap thing="tMnkHExTra"></bootstrap>
    <bootstrap thing="tMnkHUnCom"></bootstrap>
    <bootstrap thing="tMnkHUnDef"></bootstrap>
    <bootstrap thing="fMnkHMoTra"></bootstrap>
    </thing>
  <thing id="clsPaladHy" name="Hybrid Paladin" description="You combine the divine authority of a paladin with the talents of another class to become a formidable protector. Many hybrid paladins have only recently pledged themselves to the path of the divine warrior after years spent in other pursuits. A few, however, have recognized that single-minded devotion isn&apos;t for them and have expanded their abilities accordingly." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7.5"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsPaladin"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apPlate"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itHolySym"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="pPalHDiCha"></bootstrap>
    <bootstrap thing="tPalHChDiv"></bootstrap>
    <bootstrap thing="tPalHPaArm"></bootstrap>
    <bootstrap thing="tPalHChDiM"></bootstrap>
    </thing>
  <thing id="clsPsionHy" name="Hybrid Psion" description="You can bend your enemies&apos; wills to your own, yet that is not enough. What led you to meld the psion&apos;s powers of mental control with the powers of another class? Have you discovered a secret connection between psionics and another power source? Or do your mental talents represent the ace up your sleeve, an unexpected well of tricks that supplement your other abilities?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsPsion"/>
    <tag group="PowerSrc" tag="Psionic"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="ImplemType" tag="itOrb"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="User" tag="PPHybrid"/>
    <bootstrap thing="fPsiHTeFoc"></bootstrap>
    <bootstrap thing="fPsiHTeHyb"></bootstrap>
    <bootstrap thing="fPsiHPsAug"></bootstrap>
    <bootstrap thing="tPsiHExDis"></bootstrap>
    <bootstrap thing="fPsiHDiFoc"></bootstrap>
    <bootstrap thing="pPsiForPus">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    <bootstrap thing="pPsiDistra">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    </thing>
  <thing id="clsRangeHy" name="Hybrid Ranger" description="You blend the hunter&apos;s dogged pursuit of a quarry with other talents to become a formidable warrior. You might have learned your ranger powers as a young wanderer or an independent scout before taking up new skills. Alternatively, you might have been driven only recently to a life in the wilderness." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsRef" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsRanger"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <bootstrap thing="fRgrHHuQua"></bootstrap>
    <bootstrap thing="tRgrHRaArm"></bootstrap>
    <bootstrap thing="tRgrHRaCom"></bootstrap>
    <bootstrap thing="tRgrHRaFig"></bootstrap>
    <bootstrap thing="fRgrArcFig"></bootstrap>
    <bootstrap thing="fRgrBeaMas"></bootstrap>
    <bootstrap thing="fRgrTwoFig"></bootstrap>
    <bootstrap thing="fRgrHunFig"></bootstrap>
    <bootstrap thing="fRgrMarFig"></bootstrap>
    <bootstrap thing="pRgrHunQua"></bootstrap>
    <bootstrap thing="fRgrPriSho">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    <bootstrap thing="fRgrRunAtt">
      <autotag group="User" tag="NeedChosen"/>
      </bootstrap>
    <eval phase="Setup" priority="50"><![CDATA[
      ~ignore if partial
      ~"Running Attack" doesn't need to have a checkbox on it, since the hybrid
      ~class selects it via Ranger Combat Talent
      perform hero.child[fRgrRunAtt].delete[User.FeatureChk]]]>
      <before name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="clsRogueHy" name="Hybrid Rogue" description="You know the value of a well-placed knife, even if you don&apos;t bring the rogue&apos;s full complement of talents to every situation." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsRef" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsRogue"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpHandCro"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="WeaponProf" tag="wpShuriken"/>
    <tag group="WeaponProf" tag="wpSling"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fRogHSnAtt"></bootstrap>
    <bootstrap thing="tRogHFiStr"></bootstrap>
    <bootstrap thing="tRogHRoCom"></bootstrap>
    <bootstrap thing="tRogHRoTac"></bootstrap>
    <bootstrap thing="fRogArtDod"></bootstrap>
    <bootstrap thing="fRogBruSco"></bootstrap>
    <bootstrap thing="fRogRutRuf"></bootstrap>
    </thing>
  <thing id="clsRunepHy" name="Hybrid Runepriest" description="You have begun to unlock the mysteries of divine runes, but you lack the focus needed for true mastery. What keeps you from achieving this focus? Have you recognized that runic study alone is insufficient to stand against the forces of evil? Or have you started dabbling in rune magic to enhance your already formidable talents in battle?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsRunepri"/>
    <tag group="PowerSrc" tag="Divine"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apScale"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fRnpHRuMen"></bootstrap>
    <bootstrap thing="fRnpHRuArt"></bootstrap>
    <bootstrap thing="fRnpHDeWor"></bootstrap>
    <bootstrap thing="fRnpHSeBla"></bootstrap>
    <bootstrap thing="fRnpHWrHam"></bootstrap>
    <bootstrap thing="tRnpHRuMas"></bootstrap>
    <bootstrap thing="tRnpHRuArm"></bootstrap>
    <bootstrap thing="pRnpRunMen">
      <assignval field="spcMax" value="1"/>
      </bootstrap>
    <bootstrap thing="fRnpRunDes"></bootstrap>
    <bootstrap thing="fRnpRunPro"></bootstrap>
    </thing>
  <thing id="clsSeekeHy" name="Hybrid Seeker" description="You have forged a tenuous bond with primal spirits of the hunt. What keeps you from giving yourself fully to the primal spirits? Do you fear loss of control? Do you mistrust their motives? Or are you simply not spiritually strong enough to hold the power they offer?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsSeeker"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skStealth"/>
    <bootstrap thing="fSekHInSho"></bootstrap>
    <bootstrap thing="fSekHSeBon"></bootstrap>
    <bootstrap thing="fSekHBlHyb"></bootstrap>
    <bootstrap thing="fSekHSpHyb"></bootstrap>
    <bootstrap thing="tSekHTrSee"></bootstrap>
    <bootstrap thing="pSekIneSho"></bootstrap>
    </thing>
  <thing id="clsShamaHy" name="Hybrid Shaman" description="You have learned to call a spirit companion to your side, yet your connection to primal spirits isn&apos;t as strong as a shaman&apos;s. What caused this deficiency? Did you flee or fail a rite of passage before its completion, weakening your link to the spirit world? Have you angered the spirits, causing their voices to quiet in your mind?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsShaman"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WeaponProf" tag="wpLongspea"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="ImplemType" tag="itTotem"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="pShmCalSpi">
      <autotag group="User" tag="ClassOK"/>
      </bootstrap>
    <bootstrap thing="fShmHHeSpi"></bootstrap>
    <bootstrap thing="pShmSpewit">
      <autotag group="User" tag="ClassOK"/>
      </bootstrap>
    <bootstrap thing="tShmHSpBoo"></bootstrap>
    <bootstrap thing="tShmHSpPow"></bootstrap>
    <bootstrap thing="fShmProSpi"></bootstrap>
    <bootstrap thing="fShmStaSpi"></bootstrap>
    </thing>
  <thing id="clsSorceHy" name="Hybrid Sorcerer" description="You know the innate power of arcane magic flowing through your body and blood, yet it does not speak to you as strongly as it would if you were only a sorcerer." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsSorcere"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <bootstrap thing="fSorHSoPow"></bootstrap>
    <bootstrap thing="tSorHSoSor"></bootstrap>
    <bootstrap thing="fSorCosMag"></bootstrap>
    <bootstrap thing="fSorDraMag"></bootstrap>
    <bootstrap thing="fSorStoMag"></bootstrap>
    <bootstrap thing="fSorWilMag"></bootstrap>
    </thing>
  <thing id="clsSwordHy" name="Hybrid Swordmage" description="You are no stranger to discipline and training, but you don&apos;t have the single-minded commitment to arcane swordplay that a swordmage has. Perhaps in your youth you dabbled in the fundamentals of spell and blade but never dedicated yourself to these studies wholeheartedly. Some hybrid swordmages are new students of ancient magical traditions, coming most often from other arcane or martial traditions." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="7.5"/>
    <fieldval field="clsHPLev" value="3"/>
    <fieldval field="clsSurges" value="4"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsSwordma"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WpGrpRqMil" tag="wgLightBl"/>
    <tag group="WpGrpRqMil" tag="wgHeavyBl"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <bootstrap thing="fSmgHSword"></bootstrap>
    <bootstrap thing="fSmgHSwAeg"></bootstrap>
    <bootstrap thing="tSmgHSwWar"></bootstrap>
    <bootstrap thing="fSmgAegAss"></bootstrap>
    <bootstrap thing="fSmgAegEns"></bootstrap>
    <bootstrap thing="fSmgAegShi"></bootstrap>
    </thing>
  <thing id="clsWardeHy" name="Hybrid Warden" description="To stand strong against the defilers of the natural world, you have buttressed your primal tenacity with the capabilities of another class. These capabilities might be other ways of channeling primal spirits, or you might have decided that you can&apos;t count on the spirits for all your strength." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="8.5"/>
    <fieldval field="clsHPLev" value="3.5"/>
    <fieldval field="clsSurges" value="4.5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsWarden"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apShieldHv"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <bootstrap thing="fWrdHNaWra"></bootstrap>
    <bootstrap thing="tWrdHFoLif"></bootstrap>
    <bootstrap thing="tWrdHWaArm"></bootstrap>
    <bootstrap thing="fWrdEarths"></bootstrap>
    <bootstrap thing="fWrdWildbl"></bootstrap>
    </thing>
  <thing id="clsWrlckHy" name="Hybrid Warlock" description="You draw power from snippets of arcane lore wrested from dusty tomes and primeval entities, but these secrets do not wholly define or limit your abilities. What keeps you from fully embracing the pacts of a warlock? Do you fear the price that such bargains might entail? Or have you not yet managed to pin down the final secret that would unleash your arcane destiny? As a hybrid warlock, you command excellent damage-dealing ability along with some control powers, but you must give up some of the more notable features of the class, including the Pact Boon and Shadow Walk." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsWarlock"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <bootstrap thing="fWlkHWaCur"></bootstrap>
    <bootstrap thing="tWlkHPrSho"></bootstrap>
    <bootstrap thing="tWlkHShWal"></bootstrap>
    <bootstrap thing="fHWlkElPac"></bootstrap>
    <bootstrap thing="fWlkDarPac"></bootstrap>
    <bootstrap thing="fWlkFeyPac"></bootstrap>
    <bootstrap thing="fWlkInfPac"></bootstrap>
    <bootstrap thing="fWlkStaPac"></bootstrap>
    <bootstrap thing="fWlkVesPac"></bootstrap>
    <bootstrap thing="fWlkSorPac"></bootstrap>
    <bootstrap thing="tWlkHWaPac"></bootstrap>
    <bootstrap thing="fWlkElePac"></bootstrap>
    </thing>
  <thing id="clsWrlrdHy" name="Hybrid Warlord" description="You have combined your talent for command with other skills, rather than focusing entirely on leadership. How and where did you come to learn the intricacies of command? Did an early stint in the military or tutelage at the feet of a tribal leader inspire you to grasp the reins of authority? Or have you only recently donned the mantle of leadership?" compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="6"/>
    <fieldval field="clsHPLev" value="2.5"/>
    <fieldval field="clsSurges" value="3.5"/>
    <fieldval field="clsFort" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsWarlord"/>
    <tag group="PowerSrc" tag="Martial"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skIntimida"/>
    <bootstrap thing="fWrlHInWor"></bootstrap>
    <bootstrap thing="fWrlHWaLea"></bootstrap>
    <bootstrap thing="fWrlHBaLea"></bootstrap>
    <bootstrap thing="fWrlHCaLea"></bootstrap>
    <bootstrap thing="fWrlHCoLea"></bootstrap>
    <bootstrap thing="tWrlHCoPre"></bootstrap>
    <bootstrap thing="tWrlHWaArm"></bootstrap>
    <bootstrap thing="pWrlInsWor"></bootstrap>
    <bootstrap thing="fWrlBraPre"></bootstrap>
    <bootstrap thing="fWrlInsPre"></bootstrap>
    <bootstrap thing="fWrlResPre"></bootstrap>
    <bootstrap thing="fWrlTacPre"></bootstrap>
    </thing>
  <thing id="clsWizarHy" name="Hybrid Wizard" description="The path of wizardry demands focus and study, yet you have mastered several elements of arcane magic while still having time for other learning." compset="Class" uniqueness="unique">
    <fieldval field="clsStartHP" value="5"/>
    <fieldval field="clsHPLev" value="2"/>
    <fieldval field="clsSurges" value="3"/>
    <fieldval field="clsWill" value="1"/>
    <usesource source="PHB3"/>
    <tag group="KeyAbility" tag="attrWis"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="User" tag="Hybrid"/>
    <tag group="Class" tag="clsWizard"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="WeaponProf" tag="wpDagger"/>
    <tag group="WeaponProf" tag="wpQuarters"/>
    <tag group="ClassRole" tag="Controller"/>
    <tag group="ImplemType" tag="itOrb"/>
    <tag group="ImplemType" tag="itStaff"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="ImplemType" tag="itTome"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skReligion"/>
    <bootstrap thing="fWizHCantr"></bootstrap>
    <bootstrap thing="tWizHArImp"></bootstrap>
    <bootstrap thing="pWizGhoSou"></bootstrap>
    <bootstrap thing="pWizLight"></bootstrap>
    <bootstrap thing="pWizMagHan"></bootstrap>
    <bootstrap thing="pWizPresti"></bootstrap>
    <bootstrap thing="fWizStaDef"></bootstrap>
    <bootstrap thing="fWizTomBin"></bootstrap>
    <bootstrap thing="fWizTomRea"></bootstrap>
    <bootstrap thing="fWizWanAcc"></bootstrap>
    <bootstrap thing="fWizOrbDec"></bootstrap>
    <bootstrap thing="fWizOrbImp"></bootstrap>
    </thing>
  <thing id="fWizArcImp" name="Arcane Implement Mastery" description="You specialize in the use of one kind of implement to gain additional abilities when you wield it. Choose one of the following forms of implement mastery: Orb of Imposition, Staff of Defense, Tome of Binding, Tome of Readiness, Wand of Accuracy." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWizArcImp)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fWizOrbDec" name="Orb of Deception" description="Once per encounter, you can use your orb of Deception power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWizOrbDec">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWizOrbImp" name="Orb of Imposition" description="Once per encounter while you are holding an orb on your turn, you can use your orb of imposition power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWizOrbImp">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWizStaDef" name="Staff of Defense" description="A staff of defense grants you a +1 bonus to AC. In addition, once per encounter, you can use the Staff of Defense power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <bootstrap thing="pWizStaDef">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWizTomBin" name="Tome of Binding" description="Once per encounter, as a free action, if you use your tome when using an arcane summoning power, all creatures summoned by that power gain a bonus to damage rolls equal to your Constitution modifier.{br}You must wield a tome to benefit from this feature.{br}Summoner wizards prefer this form of tome mastery because of its obvious benefits to their summoning spells. This form of mastery also provides benefits to certain conjuration powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <tag group="PowerUse" tag="Encounter"/>
    </thing>
  <thing id="fWizTomRea" name="Tome of Readiness" description="When you select this form of implement mastery, choose a wizard encounter attack power of your level or lower that you don&apos;t already know. That power is now stored and available for your use at a later time.{br}Once per encounter as a free action, you can use the stored power by expending another unused wizard encounter attack power of its level or higher. You must still take the normal action required to use the stored power.{br}Each time you reach a level that lets you choose an encounter power, you can replace the stored power with a new wizard encounter attack power of your level or lower that you do not already know.{br}You must wield a tome to benefit from this feature. {br}Wizards of all builds appreciate this form of mastery because of the flexibility it allows them during combat." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <tag group="PowerUse" tag="Encounter"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~build our tag expression for selecting a lower-level power we don't know
      var level as number
      level = hero.tagvalue[Level.?]
      var expr as string
      expr = "PowerType.Encounter & (val:ReqLevel.? <= " & level & ")"
      expr &= " & PowerClass.clsWizard"

      ~now specifically exclude all powers we know
      foreach pick in hero from Class where "PowerType.Encounter & PowerClass.clsWizard"
        expr &= " & !thingid." & eachpick.idstring
        nexteach

      field[usrCandid1].text = expr]]>
      <after name="Level final"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fWizWanAcc" name="Wand of Accuracy" description="Once per encounter, you can use your Wand of Accuracy power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWizArcImp"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWizWanAcc">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWizRitCas" name="Arcanist Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fWizArcSpe" name="Arcanist&apos;s Spellbook" description="Daily and Utility Powers: Your spellbook also holds your wizard daily attack powers and wizard utility powers (not including your cantrips). You begin with two daily attack powers in your spellbook, one of which you can use on any given day. Each time you gain a level that lets you select a wizard daily attack power or a wizard utility power, choose two different powers of that type at that level and add them to your book.{br}After each extended rest, you can prepare a number of daily attack powers and utility powers according to what you can use per day for your level (see the Wizard Powers Prepared per Day table). You can&apos;t prepare the same power twice on the same day.{br}If you replace a power because of gaining a level or through retraining, the previous power vanishes from your spellbook and is replaced by the new power.{br}Rituals: Your book also contains three 1st-level rituals of your choice that you have mastered.{br}At 5th level, and again at 11th, 15th, 21st, and 25th level, you master two more rituals of your choice and add them to your spellbook. When you choose the rituals, they must be your level or lower.{br}Capacity: A typical spellbook has 128 pages. Each power takes up 1 page. A ritual takes up a number of pages equal to its level.{br}{br}WIZARD POWERS PREPARED PER DAY{br}Level - Daily - Utility{br}11 - {br}2-411{br}521{br}6-822{br}932{br}10-1533{br}16-2134{br}22-3035" compset="ClassFeat"></thing>
  <thing id="fWizCantri" name="Cantrips" description="You gain four cantrips of your choice." compset="ClassFeat"></thing>
  <thing id="fArdArdMan" name="Ardent Mantle" description="A person&apos;s state of mind can be armor against the decay and madness born from base emotions, and thus ardents gird themselves by donning particular mindsets to ward off the perils brought on by fear, despair, and hatred. Various emotional states, called mantles, can safeguard the mind. Ardents most commonly use the mantles of clarity and elation." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fArdArdMan)"/>
    </thing>
  <thing id="fArdManCla" name="Mantle of Clarity" description="You and each ally within 5 squares of you gain a bonus to all defenses against opportunity attacks. The bonus equals your Wisdom modifier. In addition, each ally within 5 squares of you gains a +2 bonus to Insight checks and Perception checks. (If a character is in the radius of more than one Mantle of Clarity, the bonuses are not cumulative. Only the highest ones apply to him or her.){br}You also gain the ardent alacrity power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fArdArdMan"/>
    <bootstrap thing="pArdArdAla">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fArdManEla" name="Mantle of Elation" description="You and each ally within 5 squares of you gain a bonus to damage rolls for opportunity attacks. The bonus equals your Constitution modifier.{br}In addition, each ally within 5 squares of you gains a +2 bonus to Diplomacy checks and Intimidate checks.{br}You also gain the ardent outrage power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fArdArdMan"/>
    <bootstrap thing="pArdArdOut">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fArdManImp" name="Mantle of Impulsiveness" description="When an ally within 5 squares of you is targeted by an opportunity attack, that ally gains a power bonus to damage rolls equal to your Constitution modifier until the end of his or her turn.{br}In addition, each ally within 5 squares of you gains a +2 bonus to Endurance checks and Intimidate checks. You also gain the ardent eruption power.{br}Ardent Surge: When you use your ardent surge power, the target also gains a +2 bonus to speed until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fArdArdMan"/>
    <bootstrap thing="pArdArdEru">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fArdPsiAug" name="Psionic Augmentation" description="Through discipline and careful study, you have mastered a form of psionic magic that offers greater versatility than other characters command. You know a broad array of at-will powers, each of which is a conduit through which you can pour as much or as little psionic energy as you choose. You channel psionic energy into a reservoir of personal power - represented in the game as power points - that you can use to augment your at-will attack powers, replacing the encounter attack powers that other characters use." compset="ClassFeat"></thing>
  <thing id="fArtArcEmp" name="Arcane Empowerment" description="Your study of magic has given you the ability to manipulate the arcane energy contained within items. You begin each day with the ability to empower a magic item, and you gain one additional arcane empowerment for each milestone you reach. You must spend a short rest with an item in order to empower it. You can empower an item in two ways." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fArtArcEmp)"/>
    </thing>
  <thing id="fArtAugEne" name="Augment Energy" description="You infuse a weapon or an implement with a reservoir of energy that lasts until the end of your next extended rest or until it is expended. The wielder of the implement or the weapon can use a free action after making an attack roll to expend the reservoir of energy to gain a +2 bonus to that attack roll. An implement or a weapon can be augmented only once per day in this way." compset="ClassFeat">
    <tag group="BuildOpt" tag="fArtArcEmp"/>
    <tag group="PowerUse" tag="Daily"/>
    <tag group="PowerLink" tag="ArcEmpow1" name="Arcane Impowerment"/>
    </thing>
  <thing id="fArtImpEne" name="Impart Energy" description="You recharge the daily power of a magic item. An item can be recharged only once per day in this way." compset="ClassFeat">
    <tag group="BuildOpt" tag="fArtArcEmp"/>
    <tag group="PowerUse" tag="Daily"/>
    <tag group="PowerLink" tag="ArcEmpow1" name="Arcane Impowerment"/>
    </thing>
  <thing id="fArtArcRej" name="Arcane Rejuvenation" description="Before combat, an artificer spends time infusing his or her allies&apos; magic items with curative energy. Whenever one of the artificer&apos;s allies uses a magic item&apos;s daily power, that ally absorbs the energy and gains temporary hit points equal to one-half your level + your Intelligence modifier." compset="ClassFeat"></thing>
  <thing id="fArtHeaInf" name="Healing Infusion" description="You can create healing infusions for later use. At the end of an extended rest, you create two healing infusions that last until the end of your next extended rest. At 16th level, you instead create three healing infusions.{br}{br}You determine the effect of a healing infusion at the time you use the power, not at the time you create it. When you use a Healing Infusion power, you expend one of the infusions you created during your last extended rest. During a short rest, you or an ally can spend a healing surge to replenish one of the infusions expended.{br}{br}When you create an artificer, you can choose to take the shielding elixir power in place of the resistive formula power. If you do so, the shielding elixir healing infusion functions exactly as other healing infusions do, with regards to their use and replenishment. If you choose the shielding elixir infusion, you cannot create the resistive formula healing infusion at all." compset="ClassFeat"></thing>
  <thing id="fArtRitCas" name="Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fAsnGuiTra" name="Guild Training" description="Assassins gain their abilities by following a training regimen developed by a particular guild. Even an assassin taught by an individual master studies a set of teachings that were once developed by a guild.{br}{br}Assassins&apos; guilds claim towns and other territories as their hunting grounds. Nonguild assassins who seek to practice their art must first gain the permission of the local grandmaster of assassins. In some areas, particularly large cities that have many potential contracts, two guilds go to war for control of the slayers&apos; trade. In that situation, you must choose a side or face the wrath of both factions.{br}{br}Choose a method of training. The choice you make gives you the benefit described below and also provides bonuses to certain assassin powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fAsnGuiTra)"/>
    </thing>
  <thing id="fAsnBleDis" name="Bleak Disciple" description="When you hit an unbloodied target, you gain temporary hit points equal to your Constitution modifier. Add 2 to the temporary hit points gained at 11th level and 4 at 21st level.{br}{br}Githyanki brought the tradition of the Bleak Disciple from the Astral Sea. It teaches its adherents to forge the stuff of shadow into a weapon they can use against their foes. Its strictest followers keep a white cloth that they dab in the blood of each slain foe, and before they attack a chosen target, they reflect on this memento of the foes they have defeated." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAsnGuiTra"/>
    </thing>
  <thing id="fAsnExeGui" name="Executioner&apos;s Guild" description="You gain the assassin&apos;s strike power. You do not gain assassin encounter attack powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAsnGuiTra"/>
    <bootstrap thing="pAsnAssStr">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[Hero.HidePwrEnc]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fAsnNigSta" name="Night Stalker" description="You gain a bonus to damage rolls equal to your Charisma modifier against any target that is adjacent to none of your enemies.{br}{br}The drow assassins who founded this guild at Lolth&apos;s instruction held that fear and misdirection are as deadly as a poisoned blade. This tradition teaches how best to draw on shadow magic to terrorize and deceive enemies." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAsnGuiTra"/>
    </thing>
  <thing id="fAveArmFai" name="Armor Of Faith" description="The favor of your deity wards you from harm. While you are wearing cloth armor or no armor and aren&apos;t using a shield, you gain a +3 bonus to AC." compset="ClassFeat">
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~+3 to AC if wearing armor no better than cloth, and no shield
      if (hero.haschild[ArmorBase,"Equipped.Equipped & (!ArmorType.arClothArm | Armory.Shield)"] = 0) then
        perform hero.child[defAC].field[trtClass].modify[+,3,""]
        endif]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fAveAveCen" name="Avenger&apos;s Censure" description="As an avenger, you train your mind, body, and soul toward one purpose: destroying the enemies of your faith. To that end, you gain divine aid in pursuing a single target, though the way you eliminate that enemy varies. Do you pin your foe down and keep other enemies away, or do you pursue your foe across the field of battle?{br}Choose one of these options. Your choice provides bonuses to certain avenger powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fAveAveCen)"/>
    </thing>
  <thing id="fAveCenPur" name="Censure of Pursuit" description="If your oath of enmity target moves away from you willingly, you gain a bonus to damage rolls against the target equal to 2 + your Dexterity modifier until the end of your next turn. The bonus increases to 4 + your Dexterity modifier at 11th level and 6 + your Dexterity modifier at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAveAveCen"/>
    </thing>
  <thing id="fAveCenRet" name="Censure of Retribution" description="When any enemy other than your oath of enmity target hits you, you gain a bonus to damage rolls against your oath of enmity target equal to your Intelligence modifier until the end of your next turn. This bonus is cumulative." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAveAveCen"/>
    </thing>
  <thing id="fAveCenUni" name="Censure of Unity" description="You gain a +1 bonus to damage rolls against your oath of enmity target for each ally adjacent to that target. The bonus increases to +2 at 11th level and +3 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fAveAveCen"/>
    </thing>
  <thing id="fAveChaDiv" name="Channel Divinity" description="Once per encounter you can invoke divine power, filling yourself with the might of your patron deity. With the divine might you invoke you can wield special powers. You can also learn other uses for this feature; for instance, the divinity feats grant characters with access to the Channel Divinity class feature the ability to use additional special powers.{br}Regardless of how many different uses for Channel Divinity you know, you can use only one such ability per encounter. The special ability or power you invoke works just like your other powers." compset="ClassFeat">
    <eval phase="Setup" priority="10000">doneif (activated = 0)

perform hero.assign[Hero.ChannelDiv]</eval>
    </thing>
  <thing id="fBbnBarAgi" name="Barbarian Agility" description="While you are not wearing heavy armor, you gain a +1 bonus to AC and Reflex. The bonus increases to +2 at 11th level and +3 at 21st level." compset="ClassFeat">
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~no bonus if we wear heavy armor
      doneif (hero.haschild[Armor,"Equipped.Equipped & ArmorCat.Heavy"] <> 0)

      ~we get +1 to +3 to AC and Reflex, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defAC,trtClass,bonus,""]
      #traitmodify[defRef,trtClass,bonus,""]]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fBbnFerMig" name="Feral Might" description="Barbarians connect with the natural world in a variety of ways. Some barbarians grow so hardened to physical punishment that they find it easier to simply absorb, rather than avoid, attacks. Others are living examples of the power of one&apos;s will to shape one&apos;s fate. Choose one of the following options. The choice you make gives you the benefit described below and also provides bonuses to certain barbarian powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBbnFerMig)"/>
    </thing>
  <thing id="fBbnRagVig" name="Rageblood Vigor" description="You gain the swift charge power. In addition, whenever your attack reduces an enemy to 0 hit points, you gain temporary hit points equal to your Constitution modifier. The number of temporary hit points equals 5 + your Constitution modifier at 11th level and 10 + your Constitution modifier at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBbnFerMig"/>
    <bootstrap thing="pBbnSwiCha">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBbnThaTri" name="Thaneborn Triumph" description="You gain the roar of triumph power. In addition, whenever you bloody an enemy, the next attack by you or an ally against that enemy gains a bonus to the attack roll equal to your Charisma modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBbnFerMig"/>
    <bootstrap thing="pBbnRoaTri">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBbnThuWra" name="Thunderborn Wrath" description="You gain the war cry power. In addition, once per round when your attack bloodies an enemy, each enemy adjacent to you takes thunder damage equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBbnFerMig"/>
    <bootstrap thing="pBbnWarCry">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBbnWhiSla" name="Whirling Slayer" description="You gain the whirling lunge power, and you can wield a one-handed weapon in your off hand and treat it as an off-hand weapon. In addition, once per round when your attack bloodies an enemy, you can shift 2 squares as a free action, and each enemy adjacent to you at the end of the shift grants combat advantage to you until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBbnFerMig"/>
    <bootstrap thing="pBbnWhiLun">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBbnRampag" name="Rampage" description="Once per round, when you score a critical hit with a barbarian attack power, you can immediately make a melee basic attack as a free action. You do not have to attack the same target that you scored a critical hit against." compset="ClassFeat"></thing>
  <thing id="fBrdBarTra" name="Bardic Training" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals. You own a ritual book, and it contains two rituals of your choice that you have mastered: one 1st-level ritual that has bard as a prerequisite and another 1st-level ritual.{br}In addition, you can perform one bard ritual per day of your level or lower without expending components, although you must pay any other costs and use any focus required by the ritual. At 11th level, you can perform two bard rituals per day of your level or lower without expending components; at 21st level, you can perform three." compset="ClassFeat">
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fBrdBarVir" name="Bardic Virtue" description="Bards praise many virtues in their stories, telling tales of people whose particular qualities set them above common folk. The valor of dauntless heroes and the cunning of great minds are among these virtues, and a bard can choose to emphasize either quality.{br}Choose one of the following options. The choice you make gives you the benefit described below and also provides bonuses to certain bard powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBrdBarVir)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fBrdVirCun" name="Virtue of Cunning" description="Once per round, when an enemy attack misses an ally within a number of squares of you equal to 5 + your Intelligence modifier, you can slide that ally 1 square as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBrdBarVir"/>
    </thing>
  <thing id="fBrdVirPre" name="Virtue of Prescience" description="Once per encounter as an immediate interrupt, when an enemy hits one ally within 5 squares of you, you grant that ally a power bonus equal to your Wisdom modifier to the defense targeted by the triggering enemy until the end of that enemy&apos;s turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBrdBarVir"/>
    </thing>
  <thing id="fBrdVirVal" name="Virtue of Valor" description="Once per round, when any ally within 5 squares of you reduces an enemy to 0 hit points or bloodies an enemy, you can grant temporary hit points to that ally as a free action. The number of temporary hit points equals 1 + your Constitution modifier at 1st level, 3 + your Constitution modifier at 11th level, and 5 + your Constitution modifier at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBrdBarVir"/>
    </thing>
  <thing id="fBrdMulVer" name="Multiclass Versatility" description="You can choose class-specific multiclass feats from more than one class." compset="ClassFeat">
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      ~Bardic Multiclass Versatility - take as many multiclass feats as you like
      herofield[acMaxMulti].value += 999
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fBrdSkiVer" name="Skill Versatility" description="You gain a +1 bonus to untrained skill checks." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~Bardic Skill Versatility - +1 to untrained skills
      foreach pick in hero from Skill where "!Helper.Trained?"
        perform eachpick.field[trtClass].modify[+,1,""]
        nexteach]]>
      <before name="Derived trtFinal"/>
      <after name="Helper.Trained set"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fBrdSonRes" name="Song Of Rest" description="When you play an instrument or sing during a short rest, you and each ally who can hear you are affected by your Song of Rest. When an affected character spends healing surges at the end of the rest, that character regains additional hit points equal to your Charisma modifier with each healing surge. A character can be affected by only one Song of Rest at a time." compset="ClassFeat"></thing>
  <thing id="fBmnPsiAug" name="Psionic Augmentation" description="Through discipline and careful study, you have mastered a form of psionic magic that offers greater versatility than other characters command. You know a broad array of at-will powers, each of which is a conduit through which you can pour as much or as little psionic energy as you choose. You channel psionic energy into a reservoir of personal power - represented in the game as power points - that you can use to augment your at-will attack powers, replacing the encounter attack powers that other characters use.{br}{br}Because of this class feature, you acquire and use powers in a slightly different manner from how most other classes do.{br}{br}At-Will Attack Powers: At 1st level, you choose two at-will attack powers and one daily attack power from your class, but you don&apos;t start with any encounter attack powers from your class. You can instead augment your class at-will attack powers using power points. These powers have the augmentable keyword.{br}{br}You gain new at-will attack powers from this class, instead of new encounter attack powers, as you increase in level. At 3rd level, you choose a new at-will attack power from this class. At 7th, 13th, 17th, 23rd, and 27th level, you can replace one of your at-will attack powers with another one of your level or lower. Both powers must be augmentable and from this class.{br}{br}Power Points: You start with 2 power points. You gain 2 additional power points at 3rd and 7th level, 1 additional power point at 13th level, and 2 additional power points at 17th, 21st, 23rd, and 27th level. If you gain power points from another source (such as your paragon path), add them to your power point total. You can use your power points to augment any augmentable power you have, regardless of how you gained the power.{br}{br}You regain all your power points when you take a short or an extended rest.{br}{br}Level - At-Will Attack Powers - Power Points{br}1Choose twoGain 2{br}3Choose oneGain 2 (4 total){br}7Replace oneGain 2 (6 total){br}13Replace oneGain 1 (7 total){br}17Replace oneGain 2 (9 total){br}21 - Gain 2 (11 total){br}23Replace oneGain 2 (13 total){br}27Replace oneGain 2 (15 total){br}{br}The Augmentable Keyword{br}A power that has the augmentable keyword has optional augmentations, which you can use at the cost of power points. An augmentable power follows these rules, unless the power&apos;s description says otherwise.{br}{br}Decide First: You must decide whether and how to augment an augmentable power when you choose to use the power, before you make any attack rolls or apply any of the power&apos;s effects.{br}{br}Power Point Cost: An augmentation specifies its cost in power points. For example, &quot;Augment 1&quot; means you must spend 1 power point to use an augmentation. You must spend the required power points when you decide to use the augmentation.{br}{br}One at a Time: You can use only one of a power&apos;s augmentations at a time, so you can&apos;t, for example, spend 3 power points to gain both the 1-point and the 2-point augmentation for a single power.{br}{br}Replace Base Effects: When you augment a power, any change to the power is noted in the augmentation and replaces specific entries in the base power. An augmented version of a power is otherwise identical to the base power.{br}{br}At-Will Attack Powers: When a power or some other effect lets you use an at-will attack power, you can choose to use one of your augmentable at-will attack powers, but you must use it unaugmented.{br}{br}When a racial trait grants you an at-will attack power of your choice and you choose an augmentable at-will attack power, the power loses its augmentations. However, the power does not lose the augmentable keyword. This means the power is unaugmented when you use it, unless you augment it by some other means." compset="ClassFeat"></thing>
  <thing id="fBmnPsiDef" name="Psionic Defense" description="Three powers - battlemind&apos;s demand, blurred step, and mind spike - help you maintain tactical superiority in combat. You can use these psionic powers to demand your enemies&apos; attention, follow them if they try to avoid you, and punish them if they attack your allies. This combination of mental compulsion and psionic enhancement of your own capabilities makes you a force to be reckoned with in battle." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fBmnPsiStu" name="Psionic Study" description="Battleminds learn to fight using their bodies as weapons. Some battleminds alter their own form to fit their needs. Other battleminds use their psionic power to predict the best position for launching an attack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBmnPsiStu)"/>
    </thing>
  <thing id="fBmnBatRes" name="Battle Resilience" description="You gain the battle resilience power, which reflects your ability to use your psionic power to bend your own body to protect yourself." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBmnPsiStu"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pBmnBatRes">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBmnPerHar" name="Persistent Harrier" description="You gain the persistent harrier power, which reflects the ease with which you can outmaneuver your opponents." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBmnPsiStu"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pBmnPerHar">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBmnSpeTho" name="Speed of Thought" description="You gain the speed of thought power, which allows you to be always ready for a fight." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBmnPsiStu"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pBmnSpeTho">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBmnWilFoc" name="Wild Focus" description="You gain the wild focus power, which reflects the raw telekinetic power you wield in combat." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBmnPsiStu"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pBmnWilFoc">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fCavSpiVir" name="Spirit Of Virtue" description="You gain a benefit associated with your virtue." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fCavSpiVir)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fCavSpiSac" name="Spirit of Sacrifice" description="You gain an additional healing surge. In addition, you can use your second wind as a minor action to heal an ally of your choice within 5 squares of you. If you do so, you gain no benefit from using your second wind, but the ally regains hit points equal to his or her healing surge value." compset="BuildOpt">
    <tag group="BuildOpt" tag="fCavSpiVir"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fCavSpiVal" name="Spirit of Valor" description="You gain a +4 bonus to initiative checks, and your healing surge value increases by 2." compset="BuildOpt">
    <tag group="BuildOpt" tag="fCavSpiVir"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[trInit,trtBonus,4,""]
      #traitmodify[trSurgeVal,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fCavExHol3" name="Extra Holy Smite" description="You gain one more use of holy smite per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}PACE OF THE VIRTUOUS CHARGER{/b}{br}While you are riding a mount, that creature and each allied mount within 20 squares of you gain a +2 power bonus to speed. This bonus applies only outside combat.{br}{br}Level 5:{b}LEVEL 5 CAVALIER DAILY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pPalHolSmi].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fCavPacVir" name="Pace Of The Virtuous Charger" description="While you are riding a mount, that creature and each allied mount within 20 squares of you gain a +2 power bonus to speed. This bonus applies only outside combat.{br}{br}Level 5:{b}LEVEL 5 CAVALIER DAILY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="4"/>
    </thing>
  <thing id="fCavImpRig" name="Improved Righteous Shield" description="Your righteous shield power gains an additional effect associated with your virtue." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fCavImpRig)"/>
    </thing>
  <thing id="fCavImpShi" name="Improved Righteous Shield (Sacrifice)" description="When you use your righteous shield, the damage you take is reduced by 10. At 23rd level, the damage you take is reduced by 20." compset="BuildOpt">
    <tag group="BuildOpt" tag="fCavImpRig"/>
    <tag group="AtLevel" tag="7"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "sacrifice" virtue was chosen
      if (hero.child[fCavSpiSac].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fCavImpVal" name="Improved Righteous Shield (Valor)" description="When you use your righteous shield, you also gain a bonus to your next damage roll before the end of your next turn. The bonus equals 2 + your Charisma modifier. At 23rd level, this bonus increases to 5 + your Charisma modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fCavImpRig"/>
    <tag group="AtLevel" tag="7"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "valor" virtue was chosen
      if (hero.child[fCavSpiVal].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fCavEHol13" name="Extra Holy Smite" description="You gain one more use of holy smite per encounter, but you can still use it only once per turn.{br}{br}Level 15:{b}LEVEL 15 CAVALIER DAILY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="13"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pPalHolSmi].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fCavEncPre" name="Encouraging Presence" description="Whenever an ally adjacent to you spends a healing surge, he or she gains temporary hit points equal to your Charisma modifier.{br}{br}Level 19:{b}LEVEL 19 CAVALIER DAILY POWER{/b}{br}You gain one of the following powers of your choice. This new power replaces the daily attack power you gained at 5th level." compset="ClassFeat">
    <tag group="AtLevel" tag="17"/>
    </thing>
  <thing id="fCavRigRes" name="Righteous Rescue" description="Immediately after you use your righteous shield, you can take a free action to teleport up to 5 squares to a square adjacent to the target.{br}{br}Level 25:{b}LEVEL 25 CAVALIER DAILY POWER{/b}{br}You gain one of the following powers of your choice. This new power replaces the daily attack power you gained at 9th level." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fCavDivGra" name="Divine Grace" description="You gain resist 20 necrotic and resist 20 poison.{br}{br}Level 29:{b}AVATAR OF VIRTUE{/b}{br}You gain the avatar of virtue power. It replaces the daily attack power you gained at 15th level." compset="ClassFeat">
    <tag group="AtLevel" tag="27"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[rsNecrotic,rsTotal,20,""]
      #traitmodify[rsPoison,rsTotal,20,""]]]></eval>
    </thing>
  <thing id="CavPwrAtW" name="Cavalier At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="CavPwrEnc" name="Cavalier Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="CavPwrUti" name="Cavalier Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="6" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="23" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="24" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="25" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="26" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="27" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="28" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="29" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="30" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="16"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="CavPwrDai" name="Cavalier Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="5" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="5"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="10" value="5"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="11" value="5"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="12" value="5"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="13" value="5"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="14" value="5"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="15" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="9"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="9"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="9"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="9"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="9"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="9"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="26" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="27" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="28" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="29" value="15"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="30" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="0"/>
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fDrdBalNat" name="Balance Of Nature" description="Some druids favor being in beast form, while others prefer being in humanoid form. However, just as druids seek balance in the world between divine and primordial forces, druids pursue balance within their own minds and bodies.{br}You begin with three at-will attack powers. Throughout your career, at least one of those powers, and no more than two, must have the beast form keyword. By this means, you have access to useful attacks in either beast form or humanoid form." compset="ClassFeat"></thing>
  <thing id="fDrdPriAsp" name="Primal Aspect" description="Druidic lore speaks of the Primal Beast, the first spirit of the world&apos;s noble predators. A formless thing of shadows, fur, feathers, and claws, this creature appears in many druids&apos; visions, and they speak of channeling the Primal Beast when using their wild shape and beast form powers. As a druid, you choose which aspect of the Primal Beast you most strongly manifest with your powers.{br}Choose one of these options. Your choice provides bonuses to certain druid powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fDrdPriAsp)"/>
    </thing>
  <thing id="fDrdPriGua" name="Primal Guardian" description="While you are not wearing heavy armor, you can use your Constitution modifier in place of your Dexterity or Intelligence modifier to determine your AC." compset="BuildOpt">
    <tag group="BuildOpt" tag="fDrdPriAsp"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use CON for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrCon]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fDrdPriPre" name="Primal Predator" description="While you are not wearing heavy armor, you gain a +1 bonus to your speed." compset="BuildOpt">
    <tag group="BuildOpt" tag="fDrdPriAsp"/>
    <eval phase="Traits" priority="20000"><![CDATA[
      doneif (activated = 0)

      ~no heavy armor = +1 speed
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        #traitmodify[trSpeed,trtClass,1,""]
        endif]]>
      <before name="Derived trtFinal"/>
      <after name="Armor effects final"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fDrdPriSwa" name="Primal Swarm" description="While you are in beast form and not wearing heavy armor, melee attacks and ranged attacks deal less damage to you. When you take damage from either type of attack, the damage is reduced by your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fDrdPriAsp"/>
    </thing>
  <thing id="fDrdPriWra" name="Primal Wrath" description="While you are not wearing heavy armor, you gain a +1 bonus to the attack rolls of druid attack powers and druid paragon path attack powers that have the cold, fire, lightning, or thunder keywords." compset="BuildOpt">
    <tag group="BuildOpt" tag="fDrdPriAsp"/>
    </thing>
  <thing id="fDrdRitCas" name="Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fHexPacRew" name="Pact Reward" description="You gain a bonus to damage rolls determined by your pact." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHexPacRew)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fHexElePac" name="Elemental Pact Reward" description="You gain proficiency with scale armor. In addition, you gain a bonus to the damage rolls of your warlock and warlock paragon path attack powers. The bonus equals your Constitution modifier. The bonus increases to 2 + your Constitution modifier at 5th level, 4 + your Constitution modifier at 15th level, and 6 + your Constitution modifier at 25th level.{br}At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    </thing>
  <thing id="fHexFeyPac" name="Fey Pact Reward" description="You gain a bonus to the damage rolls of your warlock and warlock paragon path attack powers. The bonus equals your Dexterity modifier. The bonus increases to 2 + your Dexterity modifier at 5th level, 4 + your Dexterity modifier at 15th level, and 6 + your Dexterity modifier at 25th level. At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      bonus = #attrbasebonus[attrDex]
      if (#level[] >= 25) then
        bonus += 6
      elseif (#level[] >= 15) then
        bonus += 4
      elseif (#level[] >= 5) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsWarlock"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fHexGloPac" name="Gloom Pact Reward" description="You gain a bonus to the damage rolls of your warlock and warlock paragon path attack powers. The bonus equals your Dexterity modifier. The bonus increases to 2 + your Dexterity modifier at 5th level, 4 + your Dexterity modifier at 15th level, and 6 + your Dexterity modifier at 25th level.{br}At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      bonus = #attrbasebonus[attrDex]
      if (#level[] >= 25) then
        bonus += 6
      elseif (#level[] >= 15) then
        bonus += 4
      elseif (#level[] >= 5) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsWarlock"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fHexInfPac" name="Infernal Pact Reward" description="You gain a bonus to the damage rolls of your warlock and warlock paragon path attack powers. The bonus equals your Constitution modifier. The bonus increases to 2 + your Constitution modifier at 5th level, 4 + your Constitution modifier at 15th level, and 6 + your Constitution modifier at 25th level. At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      bonus = #attrbasebonus[attrCon]
      if (#level[] >= 25) then
        bonus += 6
      elseif (#level[] >= 15) then
        bonus += 4
      elseif (#level[] >= 5) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsWarlock"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fHexStaPac" name="Star Pact Reward" description="You gain a bonus to the damage rolls of your warlock and warlock paragon path powers. The bonus equals your Intelligence modifier. The bonus increases to 2 + your Intelligence modifier at 5th level, 4 + your Intelligence modifier at 15th level, and 6 + your Intelligence modifier at 25th level. At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      bonus = #attrbasebonus[attrInt]
      if (#level[] >= 25) then
        bonus += 6
      elseif (#level[] >= 15) then
        bonus += 4
      elseif (#level[] >= 5) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsWarlock"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fHexPacWea" name="Pact Weapon" description="While you hold your implement in one hand, you can use a minor action to manifest your pact weapon in the other hand. The pact weapon you create depends on your pact. Your pact weapon persists until you no longer hold either it or the implement, or until you dismiss it as a free action.{br}You can make weapon attacks with your pact weapon, using its proficiency bonus and the appropriate damage die. Your pact weapon shares your implement&apos;s enhancement bonus, critical hit effect, properties, and powers. The weapon cannot be enchanted.{br}When you use a power associated with your pact weapon and the power has both the weapon and the implement keyword, you are considered to be wielding both your pact weapon and your implement for the purpose of feats and other game elements." compset="ClassFeat">
    <fieldval field="usrCandid1" value=""/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHexEleWea" name="Elemental Pact Weapon" description="You gain the blade of chaos weapon. You also gain the unraveling strike and elemental wrath powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexFeyWea" name="Fey Pact Weapon" description="You gain the blade of winter&apos;s mourning." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexFeyWhi" name="Fey Pact Weapon (White Well)" description="You gain the sword of the white well." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexGloWea" name="Gloom Pact Weapon" description="You gain the scourge of exquisite agony. When you gain this weapon, you also gain flesh rend and spirit flay, two powers that you can use whenever you wield it." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexInfWea" name="Infernal Pact Weapon" description="You gain the blade of annihilation." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexStaWea" name="Star Pact Weapon" description="You gain the starshadow blade." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacWea"/>
    </thing>
  <thing id="fHexImpPac" name="Improved Pact Weapon" description="You gain one more use per encounter of the pact weapon encounter attack power that you gained at 1st level, but you can still use it only once per turn.{br}{br}Level 4:{b}LESSER PLANAR ALLY{/b}{br}You gain the lesser planar ally power." compset="ClassFeat">
    <fieldval field="usrCandid1" value=""/>
    <tag group="AtLevel" tag="3"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)
      if (hero.tagis[HasFeature.fHexFeyPac] <> 0) then
        hero.childfound[pWlkPieSha].field[spcMax].value += 1
      elseif (hero.tagis[HasFeature.fHexWhiPac] <> 0) then
        hero.childfound[pWlkWelLig].field[spcMax].value += 1
      elseif (hero.tagis[HasFeature.fHexInfPac] <> 0) then
        hero.childfound[pWlkBlaDoo].field[spcMax].value += 1
      elseif (hero.tagis[HasFeature.fHexStaPac] <> 0) then
        hero.childfound[pWlkWieWar].field[spcMax].value += 1
      elseif (hero.tagis[HasFeature.fHexGloPac] <> 0) then
        hero.childfound[pWlkSpiFla].field[spcMax].value += 1
        endif]]></eval>
    </thing>
  <thing id="fHexBinAll" name="Binder&apos;s Ally (Fey)" description="You can use summon warlock&apos;s ally to summon a satyr of the night." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexBinGlo" name="Binder&apos;s Ally (Gloom)" description="You can use summon warlock&apos;s ally to summon a shadow lurk." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexBinSta" name="Binder&apos;s Ally (Star)" description="You can use summon warlock&apos;s ally to summon a soul eater." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumWar" name="Summon Warlock&apos;s Ally (Elemental)" description="You can use summon warlock&apos;s ally to summon an archon grunt. When you use this power, roll a d4 to determine the type of archon grunt you summon: 1, air; 2, earth; 3, fire; or 4, water." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumAll" name="Summon Warlock&apos;s Ally (Fey)" description="You can use summon warlock&apos;s ally to summon a wood woad guardian." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumGlo" name="Summon Warlock&apos;s Ally (Gloom)" description="You can use summon warlock&apos;s ally to summon a dark creeper." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumInf" name="Summon Warlock&apos;s Ally (Infernal)" description="You can use summon warlock&apos;s ally to summon a spined devil lackey." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumSta" name="Summon Warlock&apos;s Ally (Star)" description="You can use summon warlock&apos;s ally to summon a thought phantom." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSumWhi" name="Summon Warlock&apos;s Ally (White Well)" description="If you have the sword of the White Well, you can use summon warlock&apos;s ally to summon a mourning handmaiden." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexImpPac"/>
    </thing>
  <thing id="fHexSupWar" name="Superior Warlock&apos;s Ally" description="When you summon a creature using summon warlock&apos;s ally, it gains a +3 power bonus to damage rolls.{br}{br}Level 19:{b}LEVEL 19 HEXBLADE DAILY POWER{/b}{br}You gain one of the following powers of your choice. This new power replaces the daily attack power you gained at 5th level." compset="ClassFeat">
    <tag group="AtLevel" tag="17"/>
    </thing>
  <thing id="fHexGreSum" name="Greater Summon Warlock&apos;s Ally" description="You gain another creature that you can summon when you use summon warlock&apos;s ally. The specific creature depends on your pact." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHexGreSum)"/>
    <tag group="AtLevel" tag="25"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "fey pact" was chosen
      if (hero.child[fHexFeyPac].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fHexGreBin" name="Greater Binder&apos;s Ally (Fey)" description="You can use summon warlock&apos;s ally to summon a displacer beast." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    </thing>
  <thing id="fHexGreAll" name="Greater Binder&apos;s Ally (Gloom)" description="You can use summon warlock&apos;s ally to summon a gloom beast." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    </thing>
  <thing id="fHexGreSta" name="Greater Binder&apos;s Ally (Star)" description="You can use summon warlock&apos;s ally to summon a doom hulk." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    <tag group="AtLevel" tag="25"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "star pact" was chosen
      if (hero.child[fHexStaPac].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fHexGreWar" name="Greater Summon Warlock&apos;s Ally (Elemental)" description="You can use summon warlock&apos;s ally to summon a titan warrior. When you use this power, roll a d4 to determine the type of titan warrior you summon: 1, air; 2, earth; 3, fire; or 4, water." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    <tag group="AtLevel" tag="25"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "gloom pact" was chosen
      if (hero.child[fHexGloPac].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fHexGreFey" name="Greater Summon Warlock&apos;s Ally (Fey)" description="You can use summon warlock&apos;s ally to summon a frostblight treant protector." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    </thing>
  <thing id="fHexGreGlo" name="Greater Summon Warlock&apos;s Ally (Gloom)" description="You can use summon warlock&apos;s ally to summon a sorrowsworn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    </thing>
  <thing id="fHexGreInf" name="Greater Summon Warlock&apos;s Ally (Infernal)" description="You can use summon warlock&apos;s ally to summon a pit fiend servitor." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexGreSum"/>
    <tag group="AtLevel" tag="25"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "infernal pact" was chosen
      if (hero.child[fHexInfPac].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="HexPwrAtW" name="Hexblade At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="HexPwrEnc" name="Hexblade Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="HexPwrUti" name="Hexblade Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="16"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="HexPwrDai" name="Hexblade Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="15" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="26" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="27" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="28" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="29" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="29"/>
    <arrayval field="ClPwrTable" index="30" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="29"/>
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fHunArcSty" name="Archery Style" description="You gain one of the following features depending on your choice of ranged weapon." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunArcSty)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fHunBowHun" name="Bow Hunter" description="You gain the Bow Expertise feat." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunArcSty"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftBowExp">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fHunCroHun" name="Crossbow Hunter" description="You gain the Crossbow Expertise feat.{br}Also, if a crossbow you wield has the load minor property, you can instead reload it as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunArcSty"/>
    <tag group="AtLevel" tag="1"/>
    <bootstrap thing="ftCrossExp">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fHunAspWil" name="Aspects Of The Wild (hunter)" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fHunExpArc" name="Expert Archer" description="You gain the following three powers." compset="ClassFeat"></thing>
  <thing id="fHunRanWil" name="Knack 1" description="Choose a first wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunRanWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fHunAmbExp" name="Ambush Expertise (Ranger)" description="Whenever you make a Stealth check, each ally within 10 squares of you gains a +2 bonus to his or her next Stealth check before the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunBeaEmp" name="Beast Empathy (Ranger)" description="You gain a +2 bonus to Bluff, Diplomacy, and Intimidate checks against beasts. You can communicate simple concepts and commands to such creatures, though they are under no compulsion to obey you. With a successful Insight check (DC determined by the DM), you can read a creature&apos;s body language and vocalizations enough to understand basic messages from it." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunMouGui" name="Mountain Guide (Ranger)" description="Whenever you succeed on an Athletics check to climb, you reduce the DC of that climb by 2 for your allies until the end of the encounter. Only allies who see you make the climb gain this benefit." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunWatRes" name="Watchful Rest (Ranger)" description="When you take an extended rest, you and any allies also taking the rest do not take the -5 penalty to Perception checks for sleeping." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunWilTra" name="Wilderness Tracker (Ranger)" description="During a short rest, you can make a Perception check (DC determined by the DM) to inspect the area around you. This area can be as large as 10 squares on a side. If your check succeeds, you determine the number and nature of the creatures that have moved through the area in the past 24 hours. You ascertain when and where they entered the area, as well as when and where they left." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunWeaTal" name="Weapon Talent" description="You gain a +1 bonus to the attack rolls of weapon attacks.{br}{br}Level 2:{b}LEVEL 2 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attacks with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fHunImDis3" name="Improved Disruptive Shot" description="You gain one more use of disruptive shot per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}LEVEL 4 WILDERNESS KNACK{/b}{br}You gain one additional wilderness knack.{br}{br}Level 5:{b}REACTIVE SHIFT{/b}{br}You gain the reactive shift power." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pRgrDisSho].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fHunWiKna4" name="Knack 3" description="You gain one additional wilderness knack.{br}{br}Level 5:{b}REACTIVE SHIFT{/b}{br}You gain the reactive shift power." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunRanWil)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="4"/>
    </thing>
  <thing id="fHunWeaMas" name="Weapon Mastery" description="You gain a +1 bonus to the damage rolls of weapon attacks.{br}{br}Level 6:{b}LEVEL 6 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="5"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fHunAsWil7" name="Aspect Of The Wild (hunter)" description="You gain one additional aspect of the wild." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fHunImDis7" name="Improved Disruptive Shot" description="You gain one more use of disruptive shot per encounter, but you can still use it only once per turn.{br}{br}Level 8:{b}LEVEL 8 WILDERNESS KNACK{/b}{br}You gain one additional wilderness knack chosen from the options given at level 1.{br}{br}Level 9:{b}CLOSE COMBAT ARCHERY{/b}{br}Your ranged attacks don&apos;t provoke opportunity attacks.{br}{br}Level 10:{b}LEVEL 10 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pRgrDisSho].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fHunWiKna8" name="Knack 4" description="You gain one additional wilderness knack chosen from the options given at level 1.{br}{br}Level 9:{b}CLOSE COMBAT ARCHERY{/b}{br}Your ranged attacks don&apos;t provoke opportunity attacks.{br}{br}Level 10:{b}LEVEL 10 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunRanWil)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="8"/>
    </thing>
  <thing id="fHunCloCom" name="Close Combat Archery" description="Your ranged attacks don&apos;t provoke opportunity attacks.{br}{br}Level 10:{b}LEVEL 10 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fHunIDis13" name="Improved Disruptive Shot" description="When you hit with disruptive shot, you can blind the target until the end of your next turn, instead of immobilizing or dazing it.{br}In addition, you gain a feature depending on your choice of ranged weapon." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunIDis13)"/>
    <tag group="AtLevel" tag="13"/>
    </thing>
  <thing id="fHunPunQua" name="Punishing Quarrel" description="When you hit with disruptive shot using a crossbow, you also push the target up to 3 squares." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunIDis13"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "crossbow" style was chosen
      if (hero.child[fHunCroHun].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fHunVolArr" name="Volley of Arrows" description="When you hit with disruptive shot using a bow, each enemy adjacent to the target takes damage equal to your Wisdom modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHunIDis13"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "bow" style was chosen
      if (hero.child[fHunBowHun].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fHunParWea" name="Paragon Weapon Mastery" description="The bonus to damage rolls granted by your Weapon Mastery class feature increases to +2.{br}{br}Level 16:{b}LEVEL 16 HUNTER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="15"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add another +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fHunAWil17" name="Aspect Of The Wild (hunter)" description="You gain one additional aspect of the wild." compset="ClassFeat">
    <tag group="AtLevel" tag="17"/>
    </thing>
  <thing id="fHunPeePer" name="Peerless Perception" description="Whenever you make a Perception check, you can roll twice and use either result." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fHunEpiWea" name="Epic Weapon Mastery" description="The bonus to damage rolls granted by your Weapon Mastery class feature increases to +3." compset="ClassFeat">
    <tag group="AtLevel" tag="25"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add yet another +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fHunResHun" name="Resolute Hunter" description="You are immune to the blinded condition." compset="ClassFeat">
    <tag group="AtLevel" tag="27"/>
    </thing>
  <thing id="fHunEpiAcc" name="Epic Accuracy" description="Both the normal and the long range of any ranged weapon increases by 10 when you make an attack with it." compset="ClassFeat">
    <tag group="AtLevel" tag="29"/>
    </thing>
  <thing id="HunPwrAtW" name="Hunter At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="HunPwrEnc" name="Hunter Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="HunPwrUti" name="Hunter Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="22"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="HunPwrDai" name="Hunter Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fInvChaDiv" name="Channel Divinity" description="Once per encounter you can invoke divine power, filling yourself with the might of your patron deity. With the divine might you invoke you can wield special powers. You can also learn other uses for this feature; for instance, the divinity feats grant characters with access to the Channel Divinity class feature the ability to use additional special powers.{br}Regardless of how many different uses for Channel Divinity you know, you can use only one such ability per encounter. The special ability or power you invoke works just like your other powers." compset="ClassFeat">
    <eval phase="Setup" priority="10000">doneif (activated = 0)

perform hero.assign[Hero.ChannelDiv]</eval>
    </thing>
  <thing id="fInvDivCov" name="Divine Covenant" description="Invokers wield ancient divine power that is not accessible to most mortals -- only to those who enter into a personal covenant with a god. Invokers undergo long years of study and testing. Only after that time are they allowed to enter into the final covenant that grants them access to this class&apos;s powers. Some say that, in the final swearing of the covenant, the invoker&apos;s god briefly manifests, but the details of an invoker&apos;s initiation are a closely held secret.{br}Choose one of the options described below. The Divine Covenant you choose provides you with a Channel Divinity power and a covenant manifestation that takes effect whenever you use a divine encounter or daily attack power. Your choice also provides bonuses to certain invoker powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fInvDivCov)"/>
    </thing>
  <thing id="fInvCovMal" name="Covenant of Malediction" description="The gods entrust you with the invocations of destruction used in their war against the primordials, so you can carry forward their sacred cause and ensure that the world&apos;s enemies never rise again.{br}{br}Channel Divinity: You gain the Channel Divinity power maledictor&apos;s doom.{br}{br}Covenant Manifestation: When you use a divine encounter or daily attack power on your turn, you can push one target hit by the power 1 square after the power&apos;s effect is resolved." compset="BuildOpt">
    <tag group="BuildOpt" tag="fInvDivCov"/>
    </thing>
  <thing id="fInvCovPre" name="Covenant of Preservation" description="The gods have charged you to defend the faithful and to ally with those who seek to defeat the gods&apos; enemies.{br}Channel Divinity: You gain the Channel Divinity power preserver&apos;s rebuke.{br}Covenant Manifestation: When you use a divine encounter or daily attack power on your turn, you can slide an ally within 10 squares of you 1 square." compset="BuildOpt">
    <tag group="BuildOpt" tag="fInvDivCov"/>
    <bootstrap thing="pInvPreReb">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fInvCovWra" name="Covenant of Wrath" description="You have sworn to seek out and destroy those that oppose the gods. Primordials, demons, and devils fall before your magic like wheat before a scythe.{br}Channel Divinity: You gain the Channel Divinity power armor of wrath.{br}Covenant Manifestation: When you use a divine encounter or daily attack power on your turn, you gain a bonus to the damage roll equal to 1 for each enemy you attack with the power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fInvDivCov"/>
    <bootstrap thing="pInvArmWra">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fInvRitCas" name="Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fKngKniFig" name="Knight Fighter Stances" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fKngShiFin" name="Shield Finesse" description="You gain the Shield Finesse feat." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <bootstrap thing="ftShielFin"></bootstrap>
    </thing>
  <thing id="fKngSpiDef" name="Spinning Deflection" description="While you are wielding a quarterstaff, you are considered to be wielding a shield for powers and effects that require you to wield one, and you gain a +1 shield bonus to AC and Reflex." compset="ClassFeat"></thing>
  <thing id="fKngWeaTal" name="Weapon Talent" description="You gain a +1 bonus to the attack rolls of weapon attacks.{br}{br}Level 2:{b}LEVEL 2 KNIGHT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attacks with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fKngImPow3" name="Improved Power Strike" description="You gain one more use of power strike per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}KNIGHT COMBAT READINESS{/b}{br}You gain a +2 bonus to initiative.{br}{br}Level 5:{b}WEAPON MASTERY{/b}{br}You gain a +1 bonus to the damage rolls of weapon attacks.{br}{br}Level 6:{b}LEVEL 6 KNIGHT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fKngKniCom" name="Knight Combat Readiness" description="You gain a +2 bonus to initiative.{br}{br}Level 5:{b}WEAPON MASTERY{/b}{br}You gain a +1 bonus to the damage rolls of weapon attacks.{br}{br}Level 6:{b}LEVEL 6 KNIGHT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="4"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[trInit,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fKngWeaMas" name="Weapon Mastery" description="You gain a +1 bonus to the damage rolls of weapon attacks.{br}{br}Level 6:{b}LEVEL 6 KNIGHT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="5"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fKngKniWea" name="Knight Weapon Specialization" description="You gain one of the benefits of your choice." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fKngKniWea)"/>
    <tag group="AtLevel" tag="7"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fKngBlaSte" name="Bladed Step" description="After you use power strike with a heavy blade, you can immediately shift 1 square to a square adjacent to an enemy. You then gain combat advantage against that enemy until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fKngKniWea"/>
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fKngBluSta" name="Bludgeoning Staff" description="When you use power strike with a staff, you can push the target up to 2 squares and can shift 2 squares." compset="BuildOpt">
    <tag group="BuildOpt" tag="fKngKniWea"/>
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fKngStaHam" name="Staggering Hammer" description="When you use power strike with a hammer and the target is adjacent to you, the target is also immobilized until the end of your next turn or until you are no longer adjacent to it. You also gain combat advantage against the target until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fKngKniWea"/>
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fKngGreCom" name="Greater Combat Readiness" description="The bonus to initiative provided by your Combat Readiness class feature increases to +4.{br}{br}Level 10:{b}LEVEL 10 KNIGHT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="9"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[trInit,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fKngIPow13" name="Improved Power Strike" description="You gain one more use of power strike per encounter, but you can still use it only once per turn.{br}{br}Level 15:{b}PARAGON WEAPON MASTERY{/b}{br}The bonus to damage rolls granted by your Weapon Mastery class feature increases to +2.{br}{br}Level 16:{b}BOLSTERING STRIDE{/b}{br}You gain the bolstering stride power." compset="ClassFeat">
    <tag group="AtLevel" tag="13"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fKngParWea" name="Paragon Weapon Mastery" description="The bonus to damage rolls granted by your Weapon Mastery class feature increases to +2.{br}{br}Level 16:{b}BOLSTERING STRIDE{/b}{br}You gain the bolstering stride power." compset="ClassFeat">
    <tag group="AtLevel" tag="15"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add another +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fKngDevKni" name="Devoted Knight" description="When you use your second wind or take the total defense action, you activate an aura 1 that lasts until the end of your next turn. While in the aura, each ally gains a +2 power bonus to all defenses.{br}{br}Level 22:{b}KNIGHT&apos;S VALOR{/b}{br}You gain the knight&apos;s valor power." compset="ClassFeat">
    <tag group="AtLevel" tag="19"/>
    </thing>
  <thing id="fKngRelKni" name="Relentless Knight" description="When you use your second wind, you can spend an additional healing surge." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fKngEpiWea" name="Epic Weapon Mastery" description="The bonus to damage rolls granted by your Weapon Mastery class feature increases to +3." compset="ClassFeat">
    <tag group="AtLevel" tag="25"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add yet another +1 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fKngSpiWar" name="Spirit Of War" description="At the start of your turn, you can make a saving throw against one effect that a save can end. If the saving throw succeeds, the effect ends, preventing it from affecting you on your current turn.{br}If the saving throw fails, you still make a saving throw against the effect at the end of your turn." compset="ClassFeat">
    <tag group="AtLevel" tag="29"/>
    </thing>
  <thing id="KngPwrAtW" name="Knight At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="KngPwrEnc" name="Knight Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="KngPwrUti" name="Knight Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="KngPwrDai" name="Knight Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fMagApMag1" name="Apprentice Mage" description="Choose a school of magic. You gain the Apprentice Mage benefit associated with that school." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMagApMag1)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fMagEncApp" name="Enchantment Apprentice" description="When one of your arcane enchantment powers allows you to pull, push, or slide a creature, the maximum distance of the forced movement increases by 2 squares." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagEvoApp" name="Evocation Apprentice" description="When you roll damage for an arcane evocation power, if any of the dice come up with a result of 1, pick one of them, reroll it, and use the new result." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagIllApp" name="Illusion Apprentice" description="When you hit a target with an arcane illusion power, the target takes a -2 penalty to the next attack roll it makes against you before the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagNecApp" name="Necromancy Apprentice" description="When you hit at least one target with an arcane necromancy attack power, you gain 2 temporary hit points." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagNetApp" name="Nethermancy Apprentice" description="Creatures hit by your arcane nethermancy attack powers treat enemies more than 2 squares away from them as having partial concealment until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagPyrApp" name="Pyromancy Apprentice" description="You gain a +1 bonus to damage rolls with arcane fire attacks. This bonus increases to +2 at 11th level and +3 at 21st level. Additionally, your attacks ignore fire resistance." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag1"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var damage as number
      if (hero.tagvalue[Level.?] <= 10) then
        damage = 1
      elseif (hero.tagvalue[Level.?] <= 20) then
        damage = 2
      else
        damage = 3
        endif

      ~apply damage bonus to fire powers
      foreach pick in hero from Power where "PowerSrc.Arcane & DamageType.Fire"
        perform eachpick.field[pwDamBonus].modify[+,damage,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fMagMagAtw" name="Mage At-will Powers" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fMagMagCan" name="Mage Cantrips" description="You gain three of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fMagMagSpe" name="Mage&apos;s Spellbook" description="At the end of each of your extended rests, you can prepare encounter attack powers, daily attack powers, and utility powers from your spellbook. These are the powers that you can use during that day, in addition to your at-will attack powers, cantrips, and nonwizard powers, such as a racial power. If you do not prepare powers from your spellbook after an extended rest (for example, if you do not have access to your spellbook), you can use the same powers you had prepared on the previous day.{br}Find your level on the Spells Prepared per Day table. The row corresponding to your level indicates how many encounter attack powers, daily attack powers, and utility powers you are allowed to prepare each day. You cannot prepare more than one encounter attack power, daily attack power, or utility power of any given level on the same day. For example, a 14th-level mage who has taken the enigmatic mage paragon path can prepare four encounter attack powers per day. Her spellbook contains multiple encounter attack powers at various levels. She can prepare four powers from any of the levels, as long as none of the prepared powers are of the same level.{br}{br}SPELLS PREPARED PER DAY{br}Level - Encounter - Daily - Utility{br}111 - {br}2111{br}3-4211{br}5221{br}6222{br}7-8322{br}9332{br}10-15333{br}16-21334{br}22-30335{br}*Certain wizard paragon paths, such as the enigmatic mage, allow you to prepare one additional spell per day in certain cases." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fMagApMag4" name="Apprentice Mage" description="Choose a school of magic different from the one you chose at 1st level. You gain the Apprentice Mage benefit associated with your second school." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMagApMag1)"/>
    <tag group="AtLevel" tag="4"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="95">~replace the level of what we selected with level 4 instead
      doneif (field[usrChosen1].ischosen = 0)
      perform field[usrChosen1].chosen.delete[AtLevel.?]
      perform field[usrChosen1].chosen.assign[AtLevel.4]
      <before name="AtLevel final"/>
      <before name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fMagEncSec" name="Enchantment Apprentice (Secondary)" description="When one of your arcane enchantment powers allows you to pull, push, or slide a creature, the maximum distance of the forced movement increases by 2 squares." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag4"/>
    </thing>
  <thing id="fMagEvoSec" name="Evocation Apprentice (Secondary)" description="When you roll damage for an arcane evocation power, if any of the dice come up with a result of 1, pick one of them, reroll it, and use the new result." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag4"/>
    </thing>
  <thing id="fMagIllSec" name="Illusion Apprentice (Secondary)" description="When you hit a target with an arcane illusion power, the target takes a -2 penalty to the next attack roll it makes against you before the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagApMag4"/>
    </thing>
  <thing id="fMagExpMag" name="Expert Mage" description="Choose one of the schools of magic for which you have the Apprentice Mage benefit. You gain the Expert Mage benefit associated with the chosen school." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMagExpMag)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    </thing>
  <thing id="fMagEncExp" name="Enchantment Expert" description="You gain a +2 bonus to Bluff checks and Diplomacy checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skBluff,trtBonus,2,""]
      #traitmodify[skDiplomac,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagEvoExp" name="Evocation Expert" description="You gain a +2 bonus to Endurance checks and Intimidate checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skEnduranc,trtBonus,2,""]
      #traitmodify[skIntimida,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagIllExp" name="Illusion Expert" description="You gain a +2 bonus to Bluff checks and Stealth checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skBluff,trtBonus,2,""]
      #traitmodify[skStealth,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagNecExp" name="Necromancy Expert" description="You gain a +2 bonus to Athletics checks and Endurance checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skAthletic,trtBonus,2,""]
      #traitmodify[skEnduranc,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagNetExp" name="Nethermancy Expert" description="You gain a +2 bonus to Intimidate checks and Stealth checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skIntimida,trtBonus,2,""]
      #traitmodify[skStealth,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagPyrExp" name="Pyromancy Expert" description="You gain a +2 bonus to Bluff checks and Intimidate checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagExpMag"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skBluff,trtBonus,2,""]
      #traitmodify[skIntimida,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fMagExMag8" name="Expert Mage" description="You gain the Expert Mage benefit associated with the second school of magic for which you have the Apprentice Mage benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMagExpMag)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="8"/>
    <eval phase="Setup" priority="95">~replace the level of what we selected with level 8 instead
      doneif (field[usrChosen1].ischosen = 0)
      perform field[usrChosen1].chosen.delete[AtLevel.?]
      perform field[usrChosen1].chosen.assign[AtLevel.8]
      <before name="AtLevel final"/>
      <before name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fMagMasMag" name="Master Mage" description="Choose one of the schools of magic for which you have the Expert Mage benefit. You gain the Master Mage benefit associated with the chosen school." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMagMasMag)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagEncMas" name="Enchantment Master" description="When one of your arcane enchantment powers forces a creature to make an attack, that creature gains a +2 power bonus to the attack roll." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagEvoMas" name="Evocation Master" description="When you use an arcane evocation power that deals one or more specific types of damage, you ignore a target&apos;s resistance to any of those types of damage. You do not ignore any immunities the target might have." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagIllMas" name="Illusion Master" description="When you hit or miss a target using an arcane illusion power, the target grants combat advantage for the next attack made against it before the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagNecMas" name="Necromancy Master" description="Your arcane necromancy attack powers ignore necrotic resistance." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagNetMas" name="Nethermancy Master" description="While you have any concealment against a creature, you have combat advantage against it." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagPyrMas" name="Pyromancy Master" description="When you use an area or close arcane fire attack power that is not already a zone, the area of the attack becomes a zone that lasts until the end of your next turn. Creatures that end their turns within the zone take fire damage equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMagMasMag"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fMagMasLor" name="Master Of Lore" description="You gain a +3 bonus to Arcana checks, Dungeoneering checks, History checks, Nature checks, and Religion checks.{br}{br}Level 22:{b}LEVEL 22 MAGE UTILITY POWERS{/b}{br}You add two of the following powers to your spellbook." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="21"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[skArcana,trtBonus,3,""]
      #traitmodify[skDungeone,trtBonus,3,""]
      #traitmodify[skHistory,trtBonus,3,""]
      #traitmodify[skNature,trtBonus,3,""]
      #traitmodify[skReligion,trtBonus,3,""]]]></eval>
    </thing>
  <thing id="fMagMasSpe" name="Master Of Spells" description="When you take a short rest, you can replace one unexpended wizard daily attack power with another wizard daily attack power from your spellbook of the same level or lower. The level of the second power must be different from that of any unexpended wizard daily attack powers you have prepared.{br}{br}Level 25:{b}LEVEL 25 MAGE DAILY POWERS{/b}{br}You add two of the following powers to your spellbook." compset="ClassFeat">
    <tag group="AtLevel" tag="24"/>
    </thing>
  <thing id="MagPwrAtW" name="Mage At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="MagPwrEnc" name="Mage Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="3" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="4" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="5" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="6" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="7" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="7" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="7" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="8" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="8" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="8" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="9" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="9" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="9" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="10" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="10" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="10" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="11" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="11" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="11" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="12" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="12" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="12" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="13" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="13" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="13" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="13" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="13" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="14" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="14" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="14" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="14" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="14" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="15" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="15" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="15" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="15" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="15" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="16" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="16" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="16" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="16" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="17" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="17" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="17" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="17" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="17" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="17" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="18" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="18" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="18" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="18" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="18" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="18" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="19" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="19" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="19" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="19" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="19" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="19" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="20" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="20" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="20" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="20" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="20" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="20" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="21" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="21" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="21" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="21" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="21" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="21" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="22" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="22" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="22" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="22" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="22" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="23" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="23" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="23" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="23" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="23" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="23" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="23" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="24" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="24" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="24" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="24" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="24" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="24" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="24" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="25" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="25" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="25" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="25" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="25" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="25" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="25" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="26" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="26" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="26" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="26" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="26" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="26" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="26" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="27" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="27" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="27" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="27" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="27" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="27" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="27" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="27" column="12" value="27"/>
    <arrayval field="ClPwrTable" index="27" column="13" value="27"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="28" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="28" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="28" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="28" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="28" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="28" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="28" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="28" column="12" value="27"/>
    <arrayval field="ClPwrTable" index="28" column="13" value="27"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="29" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="29" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="29" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="29" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="29" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="29" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="29" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="29" column="12" value="27"/>
    <arrayval field="ClPwrTable" index="29" column="13" value="27"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="3"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="7"/>
    <arrayval field="ClPwrTable" index="30" column="5" value="7"/>
    <arrayval field="ClPwrTable" index="30" column="6" value="13"/>
    <arrayval field="ClPwrTable" index="30" column="7" value="13"/>
    <arrayval field="ClPwrTable" index="30" column="8" value="17"/>
    <arrayval field="ClPwrTable" index="30" column="9" value="17"/>
    <arrayval field="ClPwrTable" index="30" column="10" value="23"/>
    <arrayval field="ClPwrTable" index="30" column="11" value="23"/>
    <arrayval field="ClPwrTable" index="30" column="12" value="27"/>
    <arrayval field="ClPwrTable" index="30" column="13" value="27"/>
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="MagPwrUti" name="Mage Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="6" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="7" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="8" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="9" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="10" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="11" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="12" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="13" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="14" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="15" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="16" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="17" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="18" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="19" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="20" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="21" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="22" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="23" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="24" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="25" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="26" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="27" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="28" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="29" column="9" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="5" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="6" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="7" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="8" value="22"/>
    <arrayval field="ClPwrTable" index="30" column="9" value="22"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="MagPwrDai" name="Mage Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="5" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="6" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="7" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="8" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="9" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="9" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="9" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="10" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="10" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="10" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="11" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="11" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="11" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="12" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="12" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="12" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="13" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="13" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="13" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="14" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="14" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="14" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="15" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="15" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="15" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="16" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="16" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="16" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="17" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="17" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="17" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="18" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="18" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="18" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="19" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="19" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="19" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="19" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="20" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="20" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="20" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="20" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="21" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="21" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="21" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="21" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="22" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="22" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="22" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="23" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="23" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="23" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="24" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="24" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="24" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="25" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="25" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="25" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="25" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="25" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="26" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="26" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="26" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="26" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="26" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="27" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="27" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="27" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="27" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="27" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="28" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="28" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="28" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="28" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="28" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="29" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="29" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="29" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="29" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="29" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="29" column="12" value="29"/>
    <arrayval field="ClPwrTable" index="29" column="13" value="29"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="5"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="5"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="9"/>
    <arrayval field="ClPwrTable" index="30" column="5" value="9"/>
    <arrayval field="ClPwrTable" index="30" column="6" value="15"/>
    <arrayval field="ClPwrTable" index="30" column="7" value="15"/>
    <arrayval field="ClPwrTable" index="30" column="8" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="9" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="10" value="25"/>
    <arrayval field="ClPwrTable" index="30" column="11" value="25"/>
    <arrayval field="ClPwrTable" index="30" column="12" value="29"/>
    <arrayval field="ClPwrTable" index="30" column="13" value="29"/>
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fWrlArcWar" name="Archer Warlord" description="When you choose the Archer Warlord class feature, you lose proficiency with chainmail and light shields.{br}You gain proficiency with military ranged weapons. In addition, when you make a ranged basic attack with a bow, you can use Strength instead of Dexterity for the attack roll and the damage roll." compset="ClassFeat">
    <tag group="User" tag="FeatureChk"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Initialize" priority="250">doneif (field[usrIsCheck].value = 0)

      ~the class loses armor proficiencies
      perform hero.child[clsWarlord].setfocus
      perform focus.delete[ArmorProf.apChain]
      perform focus.delete[ArmorProf.apShieldLg]

      ~but we gain proficiency with military ranged weapons
      perform focus.assign[WpCatRqRng.wcMilitary]
      <before name="Class tag final"/>
      </eval>
    <eval phase="Traits" priority="10000" index="2"><![CDATA[
      doneif (field[usrIsCheck].value = 0)

      ~we can use Strength instead of Dex for our basic ranged attack
      doneif (#attrbasebonus[attrStr] < #attrbasebonus[attrDex])
      perform hero.child[pwBasicRng].setfocus
      perform focus.delete[Attack.attrDex]
      perform focus.delete[DamageAttr.attrDex]
      perform focus.assign[Attack.attrStr]
      perform focus.assign[DamageAttr.attrStr]]]>
      <before name="Power attack final"/>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fWrlBatLea" name="Battlefront Leader" description="This class feature replaces your Combat Leader class feature.{br}You gain proficiency with heavy shields, and you gain the battlefront shift power." compset="ClassFeat">
    <tag group="User" tag="FeatureChk"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWrlBatShi">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:usrIsCheck <> 0]]></containerreq>
      </bootstrap>
    <eval phase="Setup" priority="500">doneif (activated = 0)

      perform hero.assign[ArmorProf.apShieldHv]
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    <evalrule phase="Setup" priority="98" message="Class feature error">perform hero.child[fWrlComLea].setfocus
call FeatureDis
      <before name="Disable class feature"/>
      </evalrule>
    </thing>
  <thing id="fWrlCanLea" name="Canny Leader" description="This class feature replaces your Combat Leader class feature.{br}You and any ally within 10 squares of you who can see and hear you gain a +2 bonus to Insight checks and Perception checks." compset="ClassFeat">
    <tag group="User" tag="FeatureChk"/>
    <eval phase="Setup" priority="500"><![CDATA[
      doneif (activated = 0)

      #traitmodify[skInsight,trtBonus,2,""]
      #traitmodify[skPercepti,trtBonus,2,""]]]>
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    <evalrule phase="Setup" priority="98" message="Class feature error">perform hero.child[fWrlComLea].setfocus
call FeatureDis
      <before name="Disable class feature"/>
      </evalrule>
    </thing>
  <thing id="fWrlComLea" name="Combat Leader" description="You and each ally within 10 squares who can see and hear you gain a +2 power bonus to initiative." compset="ClassFeat">
    <eval phase="Setup" priority="500"><![CDATA[
      doneif (activated = 0)

      ~Combat Leader gives +2 to initiative
      #traitmodify[trInit,trtClass,2,""]]]>
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWrlComPre" name="Commanding Presence" description="Choose one of the following presence benefits below.{br}The choice you make also provides bonuses to certain warlord powers. Individual powers detail the effects (if any) your Commanding Presence selection has on them." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWrlComPre)"/>
    </thing>
  <thing id="fWrlBraPre" name="Bravura Presence" description="When an ally who can see you spends an action point to take an extra action and uses the action to make an attack, the ally can choose to take advantage of this feature before the attack roll. If the ally chooses to do so and the attack hits, the ally can either make a basic attack or take a move action after the attack as a free action. If the attack misses, the ally grants combat advantage to all enemies until the end of his or her next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fWrlIsgtPr" name="Insightful Presence" description="When any ally who can see you spends an action point to take an extra action, that ally gains a bonus to all defenses equal to half your Wisdom modifier or half your Charisma modifier until the start of his or her next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fWrlInsPre" name="Inspiring Presence" description="When an ally who can see you spends an action point to take an extra action, that ally also regains hit points equal to one-half your level + your Charisma modifier.{br}If the ally can see multiple warlord allies who have this class feature, the ally regains hit points from only one of them (the ally&apos;s choice)." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fWrlResPre" name="Resourceful Presence" description="When an ally who can see you spends an action point to take an extra action and uses the action to make an attack, that attack gains a bonus to damage equal to one-half your level + your Intelligence modifier. If the attack hits no target, the ally gains temporary hit points equal to one-half your level + your Charisma modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fWrlSkiPre" name="Skirmishing Presence" description="When an ally who can see you spends an action point to make an attack, that ally can use a free action to shift a number of squares equal to your Intelligence or Wisdom modifier before or after the attack." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fWrlTacPre" name="Tactical Presence" description="When an ally you can see spends an action point to make an attack, the ally gains a bonus to the first attack roll of that attack. The bonus equals half your Intelligence modifier.{br}If multiple warlord allies who have this class feature can see the ally, he or she gains the bonus from only one of them (the ally&apos;s choice)." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlComPre"/>
    </thing>
  <thing id="fMnkMonTra" name="Monastic Tradition" description="Monks train in a number of traditional techniques, with each monastery focusing on a specific style. Choose either Centered Breath or Stone Fist as your tradition. The choice you make grants you a Flurry of Blows power and a defensive benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMnkMonTra)"/>
    </thing>
  <thing id="fMnkCenBre" name="Centered Breath" description="The Centered Breath tradition focuses on honing your mental awareness to better harness psionic magic. This tradition teaches that only by controlling yourself can you control your environment. The tradition&apos;s adherents are typically ascetics, whose monasteries stand in quiet corners of the world where the monks can train and study without distraction. In some of these monasteries, speech is forbidden except for one hour each day.{br}Flurry of Blows: You gain the centered flurry of blows power.{br}Mental Equilibrium: You gain a +1 bonus to Fortitude. This bonus increases to +2 at 11th level and +3 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkMonTra"/>
    <bootstrap thing="pMnkCenFlu">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~we get +1 to +3 to Fortitude, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defFort,trtClass,bonus,""]]]></eval>
    </thing>
  <thing id="fMnkDesWin" name="Desert Wind" description="If you choose the Desert Wind monastic tradition, you gain the following class features.{br}Flurry of Blows: You gain the desert wind flurry of blows power.{br}Mental Crucible: You gain resist 5 fire. The resistance increases to 10 at 11th level and 15 at 21st level. If you already have fire resistance that is equal to or higher than this value, increase it by 2." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkMonTra"/>
    <bootstrap thing="pMnkDesWin">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fMnkEteTid" name="Eternal Tide" description="If you choose the Eternal Tide monastic tradition, you gain the following class features.{br}Flurry of Blows: You gain the eternal tide flurry of blows power.{br}Mental Balance: Whenever an enemy would pull, push, or slide you, you can reduce the forced movement by 1 square. After the forced movement is resolved, you can shift 1 square as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkMonTra"/>
    <bootstrap thing="pMnkEteTid">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fMnkIroSou" name="Iron Soul" description="When you choose your Monastic Tradition, you can choose the Iron Soul tradition instead of another option, such as the ones in Player&apos;s Handbook 3. You gain the following features:{br}Flurry of Blows: You gain the iron soul flurry of blows power.{br}Mental Arsenal: While wielding a weapon other than one in the unarmed weapon group, you gain a +1 shield bonus to AC." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkMonTra"/>
    <bootstrap thing="pMnkIroSou">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      ~if we're not chosen, do nothing
      doneif (activated = 0)

      ~+1 shield bonus to AC when not using an unarmed weapon
      doneif (hero.haschild[WeaponBase,"WepGroup.wgUnarmed & Equipped.Equipped"] <> 0)
      #traitmodify[defAC,trtShield,1,""]]]></eval>
    </thing>
  <thing id="fMnkStoFis" name="Stone Fist" description="The Stone Fist tradition is one of physical mastery, relentless exercise, and athletic perfection. Its adherents seek to master their bodies, turning themselves into living weapons capable of supernatural feats of strength, agility, and speed. Monks of the Stone Fist prefer to study among the trappings of civilization. Some Stone Fist monasteries are small schools built in towns and villages, where students work as laborers and artisans when they aren&apos;t training. Other Stone Fist monasteries stand in the most forbidding regions of the world - from the bitter cold of the tundra to the edge of a rumbling volcano - to test their students&apos; endurance day after day.{br}Flurry of Blows: You gain the stone fist flurry of blows power.{br}Mental Bastion: You gain a +1 bonus to Will. This bonus increases to +2 at 11th level and +3 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkMonTra"/>
    <bootstrap thing="pMnkStoFis">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~we get +1 to +3 to Will, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defWill,trtClass,bonus,""]]]></eval>
    </thing>
  <thing id="fMnkUnaCom" name="Unarmed Combatant" description="You can make unarmed attacks with much greater effectiveness than most combatants can. When you make a weapon attack such as a melee basic attack, you can use the monk unarmed strike, which is a weapon in the unarmed weapon group. This weapon has the off-hand weapon property and a +3 proficiency bonus, and it deals 1d8 damage. You must have a hand free to use your monk unarmed strike, even if you&apos;re kicking, kneeing, elbowing, or head-butting a target. Also, your monk unarmed strike can benefit from a magic ki focus if you have one (see &quot;Implements&quot; below)." compset="ClassFeat">
    <eval phase="Setup" priority="1000" name="Monk Unarmed Strike Upgrade"><![CDATA[
      doneif (activated = 0)

      ~modify our unarmed attack
      perform hero.child[wpUnarmed].setfocus
      perform focus.delete[WepDamage.?]
      perform focus.assign[WepDamage.1d8]
      focus.field[wpProf].value += 3
      perform focus.assign[WepProp.OffHand]
      focus.field[livename].text = "Monk Unarmed Strike"]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fMnkUnaDef" name="Unarmored Defense" description="While you are wearing cloth armor or no armor and aren&apos;t using a shield, you gain a +2 bonus to AC." compset="ClassFeat">
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~if we're wearing anything heavier than cloth armor or using a shield, we
      ~don't get a bonus
      doneif (hero.haschild[Armor,"Equipped.Equipped & !ArmorType.arClothArm"] <> 0)
      doneif (hero.haschild[Shield,"Equipped.Equipped"] <> 0)

      ~we get +2 to AC
      #traitmodify[defAC,trtBonus,2,""]]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fPalChaDiv" name="Channel Divinity" description="Once per encounter you can invoke divine power, filling yourself with the might of your patron deity. With the divine might you invoke you can wield special powers. You can also learn other uses for this feature; for instance, the divinity feats grant characters with access to the Channel Divinity class feature the ability to use additional special powers.{br}Regardless of how many different uses for Channel Divinity you know, you can use only one such ability per encounter. The special ability or power you invoke works just like your other powers." compset="ClassFeat">
    <eval phase="Setup" priority="10000">doneif (activated = 0)

perform hero.assign[Hero.ChannelDiv]</eval>
    </thing>
  <thing id="fPsiDisFoc" name="Discipline Focus" description="Psions focus their studies and meditations toward perfecting or understanding a particular concept or manifestation of psionic power. Choose one of these options. Your choice represents the focus of your studies." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fPsiDisFoc)"/>
    </thing>
  <thing id="fPsiShaFoc" name="Shaper Focus" description="You gain the powers shaped consciousness and minor creation." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPsiDisFoc"/>
    <bootstrap thing="pPsiMinCre">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPsiShaCon">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fPsiTelFoc" name="Telekinesis Focus" description="You gain the powers far hand and forceful push." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPsiDisFoc"/>
    <bootstrap thing="pPsiFarHan">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPsiForPus">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fPsiTptFoc" name="Telepathy Focus" description="You gain the powers distract and send thoughts." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPsiDisFoc"/>
    <bootstrap thing="pPsiDistra">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pPsiSenTho">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fPsiPsiAug" name="Psionic Augmentation" description="Through discipline and careful study, you have mastered a form of psionic magic that offers greater versatility than other characters command. You know a broad array of at-will powers, each of which is a conduit through which you can pour as much or as little psionic energy as you choose. You channel psionic energy into a reservoir of personal power - represented in the game as power points - that you can use to augment your at-will attack powers, replacing the encounter attack powers that other characters use.{br}{br}Because of this class feature, you acquire and use powers in a slightly different manner from how most other classes do.{br}{br}At-Will Attack Powers: At 1st level, you choose two at-will attack powers and one daily attack power from your class, but you don&apos;t start with any encounter attack powers from your class. You can instead augment your class at-will attack powers using power points. These powers have the augmentable keyword.{br}{br}You gain new at-will attack powers from this class, instead of new encounter attack powers, as you increase in level. At 3rd level, you choose a new at-will attack power from this class. At 7th, 13th, 17th, 23rd, and 27th level, you can replace one of your at-will attack powers with another one of your level or lower. Both powers must be augmentable and from this class.{br}{br}Power Points: You start with 2 power points. You gain 2 additional power points at 3rd and 7th level, 1 additional power point at 13th level, and 2 additional power points at 17th, 21st, 23rd, and 27th level. If you gain power points from another source (such as your paragon path), add them to your power point total. You can use your power points to augment any augmentable power you have, regardless of how you gained the power.{br}{br}You regain all your power points when you take a short or an extended rest.{br}{br}Level - At-Will Attack Powers - Power Points{br}1Choose twoGain 2{br}3Choose oneGain 2 (4 total){br}7Replace oneGain 2 (6 total){br}13Replace oneGain 1 (7 total){br}17Replace oneGain 2 (9 total){br}21 - Gain 2 (11 total){br}23Replace oneGain 2 (13 total){br}27Replace oneGain 2 (15 total){br}{br}The Augmentable Keyword{br}A power that has the augmentable keyword has optional augmentations, which you can use at the cost of power points. An augmentable power follows these rules, unless the power&apos;s description says otherwise.{br}{br}Decide First: You must decide whether and how to augment an augmentable power when you choose to use the power, before you make any attack rolls or apply any of the power&apos;s effects.{br}{br}Power Point Cost: An augmentation specifies its cost in power points. For example, &quot;Augment 1&quot; means you must spend 1 power point to use an augmentation. You must spend the required power points when you decide to use the augmentation.{br}{br}One at a Time: You can use only one of a power&apos;s augmentations at a time, so you can&apos;t, for example, spend 3 power points to gain both the 1-point and the 2-point augmentation for a single power.{br}{br}Replace Base Effects: When you augment a power, any change to the power is noted in the augmentation and replaces specific entries in the base power. An augmented version of a power is otherwise identical to the base power.{br}{br}At-Will Attack Powers: When a power or some other effect lets you use an at-will attack power, you can choose to use one of your augmentable at-will attack powers, but you must use it unaugmented.{br}{br}When a racial trait grants you an at-will attack power of your choice and you choose an augmentable at-will attack power, the power loses its augmentations. However, the power does not lose the augmentable keyword. This means the power is unaugmented when you use it, unless you augment it by some other means." compset="ClassFeat"></thing>
  <thing id="fPsiRitCas" name="Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fRgrFigSty" name="Fighting Style" description="Choose one of the following fighting styles and gain its benefit: Archer Fighting Style, Beast Mastery, Two-Blade Fighting Style, Marauder Fighting Style, Hunter Fighting Style." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRgrFigSty)"/>
    </thing>
  <thing id="fRgrArcFig" name="Archer Fighting Style" description="Because of your focus on ranged attacks, you gain Defensive Mobility as a bonus feat." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRgrFigSty"/>
    <bootstrap thing="ftDefenMob">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fRgrBeaMas" name="Beast Mastery" description="The Beast Mastery class feature is available to any ranger who wishes to gain a loyal beast companion. To select this class feature, you must give up the Prime Shot class feature, and you do not select either the Archer Fighting Style or the Two-Blade Fighting Style.{br}You gain a beast companion, chosen from one of these categories: bear, boar, cat, lizard, raptor, serpent, spider, or wolf. These categories do not describe specific animals, but rather groups of similarly themed creatures in the D&amp;D world. You decide the creature&apos;s relevant details -  its species, physical details, and so forth - making sure they are appropriate for its category and the campaign.{br}For example, if your character hails from a swampy region, your lizard companion might be a crocodile. The lizard companion of a ranger from a different region might be a giant monitor lizard or a drake. A beast companion&apos;s species doesn&apos;t affect its game statistics, which are based on its category and level.{br}You and your beast companion work so well together that the creature is almost an extension of you. Using your actions in combat, you control your beast companion by issuing it commands.{br}Beast Mastery also alters your Hunter&apos;s Quarry class feature. When you use Hunter&apos;s Quarry, your quarry can be either the enemy nearest to you that you can see or the enemy nearest to your beast companion that you can see. You or your beast companion can deal the extra damage from Hunter&apos;s Quarry, but only one of you can deal this extra damage per round.{br}Your beast companion is considered a creature and an ally and can be affected by powers. A cleric can heal it with healing word, a warlord can give it a melee basic attack with commander&apos;s strike, and so forth. You and your beast companion are treated as separate creatures.{br}You can have only one beast companion at a time. You can dismiss your beast companion at any time, but gaining a new one isn&apos;t a simple task.The link between a ranger and his or her beast companion is not one of master and servant but of two close friends.{br}As part of the training you underwent that allowed you to form a close bond with a beast, you learned the Raise Beast Companion ritual, which allows you to raise your companion from the dead, even if you are otherwise unable to master and perform rituals." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRgrFigSty"/>
    <bootstrap thing="rtRaiseBea">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="Setup" priority="1000">~hide the Prime Shot ability if chosen
      doneif (activated = 0)
      perform hero.childfound[fRgrPriSho].assign[Helper.Disable]</eval>
    </thing>
  <thing id="fRgrHunFig" name="Hunter Fighting Style" description="You gain Quick Draw as a bonus feat, even if you don&apos;t meet the prerequisites. In addition, you can sheathe a weapon as a free action and gain a +4 bonus to AC against opportunity attacks you provoke by making a ranged attack." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRgrFigSty"/>
    <bootstrap thing="ftQuickDra">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="fRgrMarFig" name="Marauder Fighting Style" description="You gain Two-Weapon Defense as a bonus feat, even if you don&apos;t meet the prerequisites. In addition, you gain a +1 bonus to speed while you aren&apos;t using a shield or a two-handed weapon." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRgrFigSty"/>
    <bootstrap thing="ftTwoWeDef">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      ~if we're not chosen, do nothing
      doneif (activated = 0)

      ~+1 to speed when not using a shield or 2-handed weapon
      doneif (hero.haschild[WeaponBase,"Equipment.TwoHand & Equipped.Equipped"] <> 0)
      doneif (hero.haschild[Shield,"Equipped.Equipped"] <> 0)
      #traitmodify[trSpeed,trtBonus,1,""]]]></eval>
    </thing>
  <thing id="fRgrTwoFig" name="Two-Blade Fighting Style" description="Because of your focus on two-weapon melee attacks, you can wield a one-handed weapon in your off hand as if it were an off-hand weapon. (Make sure to designate on your character sheet which weapon is main and which is off-hand.) In addition, you gain Toughness as a bonus feat." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRgrFigSty"/>
    <bootstrap thing="ftToughnes">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Traits" priority="1000">~we can use one-handed weapons in our off-hand if chosen
      doneif (activated = 0)
      perform hero.assign[Hero.OneHandOff]</eval>
    </thing>
  <thing id="fRgrPriSho" name="Prime Shot" description="If none of your allies are nearer to your target than you are, you receive a +1 bonus to ranged attack rolls against that target. You do not gain this feature if you choose the Beast Mastery fighting style." compset="ClassFeat"></thing>
  <thing id="fRgrRunAtt" name="Running Attack" description="This class feature replaces the Prime Shot class feature." compset="ClassFeat">
    <tag group="User" tag="FeatureChk"/>
    <evalrule phase="Setup" priority="98" message="Class feature error"><![CDATA[
validif (root.tagis[User.Hybrid] <> 0)
perform hero.child[fRgrPriSho].setfocus
call FeatureDis]]>
      <before name="Disable class feature"/>
      </evalrule>
    </thing>
  <thing id="fRnpRunMas" name="Rune Master" description="Some of your powers have the runic keyword. When you are going to use a runic power, you first choose one of the runes noted in the power - either the rune of destruction or the rune of protection - and then use the power, applying the chosen rune&apos;s effects. The moment you choose the rune, you enter its rune state. You remain in that rune state until you enter another rune state or until the end of the encounter. Whenever you enter the rune state of the rune of destruction or the rune of protection, you gain an additional benefit. The benefit lasts while you&apos;re in the rune state." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRnpRunMas)"/>
    </thing>
  <thing id="fRnpRunDes" name="Rune of Destruction" description="Allies gain a +1 bonus to attack rolls against enemies that are adjacent to you or to any other runepriests who are in this rune state." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpRunMas"/>
    </thing>
  <thing id="fRnpRunPro" name="Rune of Protection" description="While adjacent to you, allies gain resist 2 to all damage. The resistance increases to 4 at 11th level and 6 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpRunMas"/>
    </thing>
  <thing id="fRnpRunArt" name="Runic Artistry" description="Runepriests follow one of the major traditions of rune magic: the path of the Wrathful Hammer, the way of the Defiant Word or the tradition of the Serene Blade." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRnpRunArt)"/>
    </thing>
  <thing id="fRnpDefWor" name="Defiant Word" description="Whenever an enemy misses you with an attack, you gain a bonus to damage rolls against that enemy until the end of your next turn. The bonus equals your Wisdom modifier, regardless of the number of times the enemy misses you in a round." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpRunArt"/>
    </thing>
  <thing id="fRnpSerBla" name="Serene Blade" description="You gain proficiency with all one-handed and two-handed military heavy blades. While you are not wearing heavy armor, you can use your Wisdom modifier in place of your Dexterity or Intelligence modifier to determine your AC. Once per round immediately after an enemy deals damage to you with an attack, you gain temporary hit points equal to your Wisdom modifier. The number of temporary hit points increases to 5 + your Wisdom modifier at 11th level and 10 + your Wisdom modifier at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpRunArt"/>
    </thing>
  <thing id="fRnpWraHam" name="Wrathful Hammer" description="You gain proficiency with military hammers and military maces. In addition, whenever an enemy deals damage to you with an attack, you gain a bonus to damage rolls against that enemy until the end of your next turn. The bonus equals your Constitution modifier, regardless of the number of times the enemy damages you in a round." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpRunArt"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      perform hero.assign[WpGrpRqMil.wgHammer]
      perform hero.assign[WpGrpRqMil.wgMace]</eval>
    </thing>
  <thing id="fRogFirStr" name="First Strike" description="At the start of every encounter, you have combat advantage against any creatures that have not yet acted in that encounter." compset="ClassFeat"></thing>
  <thing id="fRogRogTac" name="Rogue Tactics" description="You gain one of the benefits described below, depending on your choice of Rogue Tactics. Your choice also provides additional benefits to certain rogue powers, as detailed in those powers&apos; descriptions." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRogRogTac)"/>
    </thing>
  <thing id="fRogArtDod" name="Artful Dodger" description="You gain a bonus to AC against opportunity attacks. The bonus equals your Charisma modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRogRogTac"/>
    </thing>
  <thing id="fRogBruSco" name="Brutal Scoundrel" description="You gain a bonus to Sneak Attack damage. The bonus equals your Strength modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRogRogTac"/>
    </thing>
  <thing id="fRogCunSne" name="Cunning Sneak" description="You don&apos;t take a penalty to Stealth checks for moving more than 2 squares, and you take a -5 penalty instead of a -10 penalty to Stealth checks for running.{br}{br}If you end your movement at least 3 squares away from your starting position, you can make a Stealth check to become hidden if you have any concealment or any cover, except for cover provided by intervening allies." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRogRogTac"/>
    </thing>
  <thing id="fRogRutRuf" name="Ruthless Ruffian" description="You are proficient with the club and the mace, and you can use those weapons with Sneak Attack or any rogue power or rogue paragon path power that normally requires a light blade. If you use a club or a mace to deliver an attack that has the rattling keyword, add your Strength modifier to the damage roll." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRogRogTac"/>
    <eval phase="Setup" priority="1000">~add Club and Mace proficiency if chosen
      doneif (activated = 0)
      perform hero.assign[WeaponProf.wpClub]
      perform hero.assign[WeaponProf.wpMace]</eval>
    </thing>
  <thing id="fRogRogWea" name="Scoundrel Weapon Talent" description="When you wield a shuriken, your weapon damage die increases by one size. In addition, you gain a +1 bonus to weapon attack rolls with daggers." compset="ClassFeat">
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attacks with daggers
      foreach pick in hero from WeaponBase where "thingid.wpDagger"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~increase shuriken damage by one die
      foreach pick in hero from WeaponBase where "thingid.wpShuriken"
        perform eachpick.field[wpDamDice].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fRogShaTal" name="Sharpshooter Talent" description="This class feature replaces the Rogue Weapon Talent class feature.{br}{br}Choose crossbows or slings. You gain a +1 bonus to attack rolls with any weapon of the chosen group. You gain Far Shot as a bonus feat, even if you don&apos;t meet the prerequisites." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.WepGroup) &amp; (thingid.wgCrossbow | thingid.wgSling)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="User" tag="FeatureChk"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <bootstrap thing="ftFarSho">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:usrIsCheck <> 0]]>
        <after name="Build option activated"/>
        </containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)
      doneif (field[usrChosen1].ischosen = 0)

      ~add +1 to attacks with weapons of chosen group
      var expr as string
      expr = field[usrChosen1].chosen.tagids[WepGroup.?, "|"]
      foreach pick in hero from WeaponBase where expr
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]></eval>
    <evalrule phase="Setup" priority="98" message="Class feature error">perform hero.child[fRogRogWea].setfocus
call FeatureDis
      <before name="Disable class feature"/>
      </evalrule>
    </thing>
  <thing id="fRogSneAtt" name="Sneak Attack" description="When you make an attack with a light blade, a hand crossbow, a shortbow, or a sling and hit an enemy granting combat advantage to you, that enemy takes extra damage based on your level (see the Sneak Attack table). You can deal this extra damage only once per turn." compset="ClassFeat"></thing>
  <thing id="fSctAspWil" name="Aspects Of The Wild (scout)" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fSctAttFin" name="Attack Finesse" description="When you make a melee basic attack, you can use your Dexterity modifier instead of your Strength modifier for the attack roll and the damage roll." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      ~ignore if partial
      if (#attrbonus[attrStr] < #attrbonus[attrDex]) then
        perform hero.child[pwBasicMel].setfocus
        perform focus.delete[DamageAttr.attrStr]
        perform focus.delete[Attack.attrStr]
        perform focus.assign[DamageAttr.attrDex]
        perform focus.assign[Attack.attrDex]
        endif]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fSctRanWil" name="Knack 1" description="Choose a first wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSctRanWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSctAmbExp" name="Ambush Expertise (Ranger)" description="Whenever you make a Stealth check, each ally within 10 squares of you gains a +2 bonus to his or her next Stealth check before the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSctBeaEmp" name="Beast Empathy (Ranger)" description="You gain a +2 bonus to Bluff, Diplomacy, and Intimidate checks against beasts. You can communicate simple concepts and commands to such creatures, though they are under no compulsion to obey you. With a successful Insight check (DC determined by the DM), you can read a creature&apos;s body language and vocalizations enough to understand basic messages from it." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSctMouGui" name="Mountain Guide (Ranger)" description="Whenever you succeed on an Athletics check to climb, you reduce the DC of that climb by 2 for your allies until the end of the encounter. Only allies who see you make the climb gain this benefit." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSctWatRes" name="Watchful Rest (Ranger)" description="When you take an extended rest, you and any allies also taking the rest do not take the -5 penalty to Perception checks for sleeping." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSctWilTra" name="Wilderness Tracker (Ranger)" description="During a short rest, you can make a Perception check (DC determined by the DM) to inspect the area around you. This area can be as large as 10 squares on a side. If your check succeeds, you determine the number and nature of the creatures that have moved through the area in the past 24 hours. You ascertain when and where they entered the area, as well as when and where they left." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctRanWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSctTwoSty" name="Two-weapon Style" description="Gain flashing blade mastery or spinning axe mastery." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSctTwoSty)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSctFlaBla" name="Flashing Blade Mastery" description="You gain a +1 bonus to weapon attack rolls while you wield a light blade in your off hand." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctTwoSty"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~check if we're wielding a light blade in our off hand - if not, do
      ~nothing
      perform hero.findchild[WeapMelee,"Helper.EqpOff & WepGroup.wgLightBl"].setfocus
      doneif (state.isfocus = 0)

      ~all weapons get +1 to hit
      foreach pick in hero from WeapMelee
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSctSpiAxe" name="Spinning Axe Mastery" description="You gain a +2 bonus to weapon damage rolls while you wield an axe in your off hand." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctTwoSty"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~check if we're wielding an axe in our off hand - if not, do
      ~nothing
      perform hero.findchild[WeapMelee,"Helper.EqpOff & WepGroup.wgAxe"].setfocus
      doneif (state.isfocus = 0)

      ~all weapons get +2 to damage
      foreach pick in hero from WeapMelee
        perform eachpick.field[wpDamage].modify[+,2,""]
        nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSctImPow3" name="Improved Power Strike" description="You gain one more use of power strike per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}LEVEL 4 WILDERNESS KNACK{/b}{br}You gain one additional wilderness knack.{br}{br}Level 5:{b}REACTIVE SHIFT{/b}{br}You gain the reactive shift power." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSctWiKna4" name="Knack 3" description="You gain one additional wilderness knack.{br}{br}Level 5:{b}REACTIVE SHIFT{/b}{br}You gain the reactive shift power." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSctRanWil)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="4"/>
    </thing>
  <thing id="fSctAsWil7" name="Aspect Of The Wild (scout)" description="You gain one additional aspect of the wild." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fSctWiKna8" name="Knack 4" description="You gain one additional wilderness knack chosen from the options given at level 1.{br}{br}Level 9:{b}IMPROVED DUAL WEAPON ATTACK{/b}{br}You gain a +2 bonus to damage rolls with your dual weapon attack power.{br}{br}Level 10:{b}LEVEL 10 SCOUT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSctRanWil)"/>
    <tag group="Hide" tag="Special"/>
    <tag group="AtLevel" tag="8"/>
    </thing>
  <thing id="fSctImpDua" name="Improved Dual Weapon Attack" description="You gain a +2 bonus to damage rolls with your dual weapon attack power.{br}{br}Level 10:{b}LEVEL 10 SCOUT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="9"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      perform hero.childfound[pRgrDuaWea].field[pwDamBonus].modify[+,2,""]]]></eval>
    </thing>
  <thing id="fSctEnhPow" name="Enhanced Power Strike" description="You gain one more use of power strike per encounter. In addition, you gain one of the following features depending on your choice of off-hand weapon." compset="ClassFeat">
    <fieldval field="usrCandid1" value=""/>
    <tag group="AtLevel" tag="13"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSctEagAxe" name="Eagle&apos;s Axe" description="While you wield an axe in your off hand, your power strike deals 3 extra damage to the target." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctEnhPow"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "axe" style was chosen
      if (hero.child[fSctSpiAxe].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSctSerBla" name="Serpent&apos;s Blade" description="While you wield a light blade in your off hand, you can take a free action to shift up to 3 squares immediately after using power strike." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSctEnhPow"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "blade" style was chosen
      if (hero.child[fSctFlaBla].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSctParDua" name="Paragon Dual Weapon Attack" description="The bonus to weapon damage rolls granted by your Improved Dual Weapon Attack class feature increases to +4.{br}{br}Level 16:{b}LEVEL 16 SCOUT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="15"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      perform hero.childfound[pRgrDuaWea].field[pwDamBonus].modify[+,2,""]]]></eval>
    </thing>
  <thing id="fSctAWil17" name="Aspect Of The Wild (scout)" description="You gain one additional aspect of the wild." compset="ClassFeat">
    <tag group="AtLevel" tag="17"/>
    </thing>
  <thing id="fSctCauShi" name="Cautious Shift" description="Whenever you use your second wind or take the total defense action, you can shift 1 square as a free action before or after doing so.{br}{br}Level 22:{b}LEVEL 22 SCOUT UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="19"/>
    </thing>
  <thing id="fSctPeePer" name="Peerless Perception" description="Whenever you make a Perception check, you can roll twice and use either result." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fSctEpiDua" name="Epic Dual Weapon Attack" description="The bonus to weapon damage rolls granted by your Improved Dual Weapon Attack class feature increases to +6." compset="ClassFeat">
    <tag group="AtLevel" tag="25"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      perform hero.childfound[pRgrDuaWea].field[pwDamBonus].modify[+,2,""]]]></eval>
    </thing>
  <thing id="fSctEpiSco" name="Epic Scout&apos;s Shift" description="Whenever you shift, you can shift 1 additional square." compset="ClassFeat">
    <tag group="AtLevel" tag="29"/>
    </thing>
  <thing id="SctPwrAtW" name="Scout At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SctPwrEnc" name="Scout Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SctPwrUti" name="Scout Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="22"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="SctPwrDai" name="Scout Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fSekSeeBon" name="Seeker&apos;s Bond" description="Seekers develop special bonds with primal spirits by offering solemn vows to further the spirits&apos; purposes. In exchange for these vows, the spirits bestow a measure of their strength to aid their champions&apos; cause.{br}{br}Choose a Seeker&apos;s Bond.  It will provide bonuses to certain seeker powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSekSeeBon)"/>
    </thing>
  <thing id="fSekBloodb" name="Bloodbond" description="You gain the encaging spirits power. In addition, while you are not wearing heavy armor, you can shift as a minor action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSekSeeBon"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pSekEncSpi">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSekSpirit" name="Spiritbond" description="You gain the spirits&apos; rebuke power. You also gain a +1 bonus to attack rolls with both light thrown and heavy thrown weapons, and when you make an attack by throwing a weapon with which you have proficiency, the weapon returns to your hand after the attack. In addition, while you are not wearing heavy armor, you can use your Strength modifier in place of your Dexterity or Intelligence modifier to determine your AC." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSekSeeBon"/>
    <bootstrap thing="pSekSpiReb">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~+1 to all attacks with light and heavy thrown weapons
      foreach pick in hero from WeaponBase where "WepProp.HeavyThrow | WepProp.LightThrow"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~can use str/dex/int for AC if not in heavy armor
      perform hero.findchild[Armor,"Equipped.Equipped & ArmorCat.Heavy"].setfocus
      if (state.isfocus = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrStr]
        endif]]></eval>
    </thing>
  <thing id="fSenAcoNat" name="Acolyte Of The Natural Cycle" description="At 1st level, each sentinel chooses a season that demonstrates his or her affinity for that aspect of nature&apos;s power. Your choice of season determines some of your class features, including the animal companion you gain." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSenAcoNat)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSenDruSpr" name="Druid of Spring" description="You gain the following benefits.{br} Your animal companion is a wolf.{br} You gain proficiency with the scimitar.{br} You gain a +1 bonus to attack rolls with scimitars, spears, daggers, and sickles.{br} You gain a +2 bonus to Heal checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAcoNat"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Setup" priority="1000" name="Arena Training #1"><![CDATA[
      doneif (activated = 0)

      ~+1 to attacks with various weapons
      foreach pick in hero from WeaponBase where "WeaponProf.wpScimitar | WepGroup.wgSpear | WeaponProf.wpDagger | WeaponProf.wpSickle"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~add proficiency with scimitar
      perform hero.assign[WeaponProf.wpScimitar]

      #traitmodify[skHeal,trtBonus,2,""]]]>
      <before name="Arena Training #2"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fSenDruSum" name="Druid of Summer" description="You gain the following benefits.{br} Your animal companion is a bear.{br} When wielding a one-handed mace, you use a d10 for its weapon damage. When wielding a staff or a two-handed mace, you use a d12 for its weapon damage.{br} You gain a +2 bonus to Athletics checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAcoNat"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Setup" priority="1000" name="Arena Training #1"><![CDATA[
      doneif (activated = 0)

      ~increase mace and staff damage
      foreach pick in hero from WeaponBase where "WepGroup.wgMace & !Equipment.TwoHand"
        perform eachpick.delete[WepDamage.?]
        perform eachpick.assign[WepDamage.1d10]
        nexteach
      foreach pick in hero from WeaponBase where "(WepGroup.wgMace & Equipment.TwoHand) | WepGroup.wgStaff"
        perform eachpick.delete[WepDamage.?]
        perform eachpick.assign[WepDamage.1d12]
        nexteach

      #traitmodify[skAthletic,trtBonus,2,""]]]>
      <before name="Arena Training #2"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fSenDruWas" name="Druid of the Wastes" description="You gain the following benefits:{br} Your animal companion is a living zephyr.{br} When wielding a spear or a staff, you gain a +1 shield bonus to AC and Reflex.{br} You gain a +2 bonus to Endurance checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAcoNat"/>
    </thing>
  <thing id="fSenAniCom" name="Animal Companion" description="You gain an animal companion associated with the season you chose for your Acolyte of the Natural Cycle class feature.{br}Your animal companion is considered an ally of you and your allies. It can be affected by powers in the same way as any other creature can be.{br}You can communicate telepathically with your animal companion as long as it is within 20 squares of you. You do not need line of sight or line of effect to do so. Your animal companion has only animal intelligence, so it cannot communicate or understand complex topics.{br}Your animal companion&apos;s level is equal to yours, and its hit points, defenses, and attacks are determined by your level, as noted in its stat block.{br}Your animal companion shares your healing surge total. Whenever an effect requires your animal companion to spend a healing surge, the surge is deducted from your total. Whenever you use your second wind, your animal companion also regains hit points equal to your healing surge value. At the end of a short rest, your animal companion regains all its hit points.{br}If you die or your animal companion drops to 0 hit points, it disappears as the primal magic that sustains it dissipates. You have two ways of calling your companion back:{br}* Minor Action: You take a minor action and lose a healing surge. Doing so causes your animal companion to appear in the nearest unoccupied space, with hit points equal to your healing surge value.{br}* Short or Extended Rest: You lose a healing surge at the end of a rest. Doing so causes your animal companion to appear in the nearest unoccupied space, with full hit points.{br}As a creature under your control, your animal companion relies on you for strict guidance while you are within 20 squares of it. You take actions so that it can act, and its initiative is the same as yours during an encounter.{br}Standard Actions: To take a standard action, your animal companion needs you to take a standard action to command it to do so.{br}Move Actions: Whenever you take a move action, your animal companion can also take a move action. Alternatively, you can stay put but take a move action to command your animal companion to take a move action.{br}Minor Actions: To take a minor action, your animal companion needs you to take a minor action to command it to do so.{br}Free Actions: Your animal companion can take free actions without you taking an action to command it.{br}Triggered Actions: If one of your animal companion&apos;s triggered actions is triggered, the companion can take that action only if you take the same kind of action to command it to do so. For example, if an enemy adjacent to your companion provokes an opportunity attack from it, you must take an opportunity action to command your companion to make the attack.{br}In situations where you can&apos;t give commands to your animal companion, it can act independently. For example, if you are unconscious or if you are more than 20 squares away from your companion, it doesn&apos;t sit around waiting for you to show up (unless that&apos;s what you have previously commanded it to do).{br}An animal companion acting independently can take either a standard, a move, or a minor action on its turn. It can also take opportunity actions and free actions, but it cannot take immediate actions." compset="ClassFeat">
    <fieldval field="usrCandid1" value=""/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenDruWol" name="Druid of Spring: Wolf" description="You gain a wolf animal companion." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAniCom"/>
    </thing>
  <thing id="fSenDruBea" name="Druid of Summer: Bear" description="You gain a bear animal companion." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAniCom"/>
    </thing>
  <thing id="fSenDruLiv" name="Druid of the Wastes: Living Zephyr" description="You gain a living zephyr animal companion." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenAniCom"/>
    </thing>
  <thing id="fSenDruWil" name="Druid Wilderness Knack 1" description="Choose a first wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSenDruWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSenBeaEmp" name="Beast Empathy (Druid)" description="You gain a +2 bonus to Bluff, Diplomacy, and Intimidate checks against beasts. You can communicate simple concepts and commands to such creatures, though they are under no compulsion to obey you. With a successful Insight check (DC determined by the DM), you can read a creature&apos;s body language and vocalizations enough to understand basic messages from it." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenDruWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenHerLor" name="Herb Lore (Druid)" description="You and each ally can add 2 to his or her healing surge value when spending heading surges during a short rest. To gain this benefit, you must take the short rest in an area that offers easy access to plants. The additional hit points increase to 4 at 11th level and 6 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenDruWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenMouGui" name="Mountain Guide (Druid)" description="Whenever you succeed on an Athletics check to climb, you reduce the DC of that climb by 2 for your allies until the end of the encounter. Only allies who see you make the climb gain this benefit." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenDruWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenWatRes" name="Watchful Rest (Druid)" description="When you take an extended rest, you and any allies also taking the rest do not take the -5 penalty to Perception checks for sleeping." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenDruWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenWilTra" name="Wilderness Tracker (Druid)" description="During a short rest, you can make a Perception check (DC determined by the DM) to inspect the area around you. This area can be as large as 10 squares on a side. If your check succeeds, you determine the number and nature of the creatures that have moved through the area in the past 24 hours. You ascertain when and where they entered the area, as well as when and where they left." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenDruWil"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenSeAtw1" name="Sentinel At-will Power" description="You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fSenPriGua" name="Primal Guardian (sentinel)" description="While you are not wearing heavy armor, you can use your Constitution modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}{br}Level 2:{b}LEVEL 2 SENTINEL UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use CON for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrCon]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fSenImCom3" name="Improved Combined Attack" description="You gain one more use of combined attack per encounter, but you can still use it only once per turn.{br}{br}Level 5:{b}LEVEL 5 SENTINEL DAILY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pDrdComAtt].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSenHeaVoi" name="Hear The Voice Of Nature" description="Once per day during a short rest, you can ask up to three questions of nonhostile natural beasts and mundane plants (but not plant creatures) in your vicinity. The beasts and plants answer fully, but they are limited in their knowledge by their experiences and mobility. For example, a plant knows only about its immediate surroundings, and a fish can describe only what it has perceived in its watery environment." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fSenImCom7" name="Improved Combined Attack" description="You gain one more use of combined attack per encounter, but you can still use it only once per turn.{br}{br}Level 8:{b}RESTORE LIFE{/b}{br}You gain the restore life power." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pDrdComAtt].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSenParNat" name="Paragon Of The Natural Cycle" description="Gain a benefit related to your druid&apos;s chosen season." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSenParNat)"/>
    </thing>
  <thing id="fSenParCyc" name="Paragon of the Natural Cycle (Spring)" description="When you or your animal companion reduces a nonminion enemy to 0 hit points, you and your animal companion each regain 10 hit points." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenParNat"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "spring" style was chosen
      if (hero.child[fSenDruSpr].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSenParSum" name="Paragon of the Natural Cycle (Summer)" description="Your reach increases by 1 for melee weapon attacks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenParNat"/>
    <tag group="AtLevel" tag="13"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "summer" style was chosen
      if (hero.child[fSenDruSum].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fSenParWas" name="Paragon of the Wastes" description="The first time each encounter that you or your living zephyr companion becomes bloodied, you can use an immediate reaction to become insubstantial and shift up to 5 squares. You are insubstantial until the start of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenParNat"/>
    </thing>
  <thing id="fSenTimBod" name="Timeless Body" description="You no longer age, and you gain immunity to all diseases of your level or lower.{br}{br}Level 25:{b}LEVEL 25 SENTINEL DAILY POWER{/b}{br}You gain one of the following powers of your choice. This new power replaces the daily attack power you gained at 9th level." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fSenNatBou" name="Nature&apos;s Bounty" description="Whenever you use your second wind, choose one ally within 10 squares of you. That ally gains a benefit determined by the season you chose for your Acolyte of the Natural Cycle class feature." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSenNatBou)"/>
    <tag group="AtLevel" tag="27"/>
    </thing>
  <thing id="fSenBleWas" name="Blessing of the Wastes" description="Whenever you use your second wind, choose one ally within 10 squares of you. That ally ends one ongoing damage effect that he or she is currently suffering, and the ally gains partial concealment until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenNatBou"/>
    </thing>
  <thing id="fSenNatSpr" name="Nature&apos;s Bounty: Spring" description="Whenever you use your second wind, choose one ally within 10 squares of you. The chosen ally gains resist 10 to all damage until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenNatBou"/>
    </thing>
  <thing id="fSenNatSum" name="Nature&apos;s Bounty: Summer" description="Whenever you use your second wind, choose one ally within 10 squares of you. The chosen ally gains a +5 power bonus to damage rolls until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSenNatBou"/>
    </thing>
  <thing id="SenPwrAtW" name="Sentinel At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SenPwrEnc" name="Sentinel Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SenPwrUti" name="Sentinel Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="22"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="SenPwrDai" name="Sentinel Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="15" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="9"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="9"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="9"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="9"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="9"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="9"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="26" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="27" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="28" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="29" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="29"/>
    <arrayval field="ClPwrTable" index="30" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="29"/>
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fShmComSpi" name="Companion Spirit" description="As part of your initiation as a shaman, you acquired a spirit companion, an animal spirit that accompanies and assists you. Many shaman powers have the spirit keyword. Your spirit companion must be present when you use such a power.{br}You gain the call spirit companion power, which allows you to call your spirit companion to your side. In addition, choose one of the following Companion Spirit options. Your choice provides you with a Spirit Boon as well as a special attack made through your spirit companion, and your choice determines one of your at-will attack powers. Your choice also provides bonuses to certain shaman powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fShmComSpi)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fShmEleSpi" name="Elemental Spirit" description="You draw on elemental spirits inhabiting the earth to give you strength and fuel the raw power of your evocations.{br}Spirit Boon: Your allies gain a +2 bonus to saving throws while adjacent to your spirit companion. In addition, if your spirit companion is not present at the start of your turn, you can summon it once during that turn as a free action.{br}Spirit&apos;s Wrath: You gain the spirit&apos;s wrath power, an attack you make through your spirit companion as an opportunity action.{br}At-Will Attack Power: You gain the spirit infusion power. You can choose a second at-will attack power as normal." compset="BuildOpt">
    <tag group="BuildOpt" tag="fShmComSpi"/>
    <bootstrap thing="pShmSpiInf">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pShmSpiWra">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fShmProSpi" name="Protector Spirit" description="You draw on the strength of the bear or a similar protective spirit to defend and bolster your allies.{br}Spirit Boon: Any ally adjacent to your spirit companion regains additional hit points equal to your Constitution modifier when he or she uses second wind or when you use a healing power on him or her.{br}Spirit&apos;s Shield: You gain the spirit&apos;s shield power, an attack you make through your spirit companion as an opportunity action.{br}At-Will Attack Power: You gain the protecting strike power. You choose a second at-will attack power as normal." compset="BuildOpt">
    <tag group="BuildOpt" tag="fShmComSpi"/>
    <bootstrap thing="pShmProStr">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pShmSpiShi">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fShmStaSpi" name="Stalker Spirit" description="You call on the stealth and cunning of the panther or a similar stalking spirit to empower and position your allies.{br}Spirit Boon: Any ally adjacent to your spirit companion gains a bonus to damage rolls against bloodied enemies equal to your Intelligence modifier.{br}Spirit&apos;s Fangs: You gain the spirit&apos;s fangs power, an attack you make through your spirit companion as an opportunity action.{br}At-Will Attack Power: You gain the stalker&apos;s strike power. You choose a second at-will attack power as normal." compset="BuildOpt">
    <tag group="BuildOpt" tag="fShmComSpi"/>
    <bootstrap thing="pShmSpiFan">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pShmStaStr">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fShmWatSpi" name="Watcher Spirit" description="Spirit Boon: Enemies adjacent to your spirit companion can&apos;t gain cover from other enemies. In addition, your allies can treat any enemy adjacent to your spirit companion as their nearest enemy.{br}Spirit&apos;s Prey: You gain the spirit&apos;s prey power, an attack you make through your spirit companion as an opportunity action.{br}At-Will Attack Power: You gain the claws of the eagle power. You choose a second 1st-level at-will attack power as normal." compset="BuildOpt">
    <tag group="BuildOpt" tag="fShmComSpi"/>
    <bootstrap thing="pShmClaEag">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pShmSpiPre">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fShmWorSpe" name="World Speaker Spirit" description="Spirit Boon: Any ally who provokes an opportunity attack by entering or leaving a square adjacent to your spirit companion gains a bonus to all defenses against that attack. The bonus equals your Constitution modifier.{br}World Speaker&apos;s Command: You gain the world speaker&apos;s command power, an attack you make through your spirit companion as an opportunity action.{br}At-Will Attack Power: You gain the voice of battle power. You choose a second 1st-level at-will attack power as normal." compset="BuildOpt">
    <tag group="BuildOpt" tag="fShmComSpi"/>
    <bootstrap thing="pShmVoiBat">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pShmWorSpe">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSlyHerSla" name="Heroic Slayer" description="You gain a bonus to the damage rolls of weapon attacks. The bonus equals your Dexterity modifier." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~add +dex mod to damage with weapons
      var bonus as number
      bonus = #attrbasebonus[attrDex]
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,bonus,""]
        nexteach]]></eval>
    </thing>
  <thing id="fSlySlaFig" name="Slayer Fighter Stances" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fSlyWeaTal" name="Weapon Talent" description="You gain a +1 bonus to the attack rolls of weapon attacks.{br}{br}Level 2:{b}LEVEL 2 SLAYER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attacks with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fSlyImPow3" name="Improved Power Strike" description="You gain one more use of power strike per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}QUICK SWAP{/b}{br}Once during each of your turns, you can take a free action to draw or stow a weapon and then draw another weapon.{br}{br}Level 5:{b}MIGHTY SLAYER{/b}{br}The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 2 + your Dexterity modifier.{br}{br}Level 6:{b}LEVEL 6 SLAYER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSlyQuiSwa" name="Quick Swap" description="Once during each of your turns, you can take a free action to draw or stow a weapon and then draw another weapon.{br}{br}Level 5:{b}MIGHTY SLAYER{/b}{br}The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 2 + your Dexterity modifier.{br}{br}Level 6:{b}LEVEL 6 SLAYER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="4"/>
    </thing>
  <thing id="fSlyMigSla" name="Mighty Slayer" description="The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 2 + your Dexterity modifier.{br}{br}Level 6:{b}LEVEL 6 SLAYER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="5"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add another +2 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,2,""]
        nexteach]]></eval>
    </thing>
  <thing id="fSlySlaWea" name="Slayer Weapon Specialization" description="You gain one of the following benefits of your choice." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSlySlaWea)"/>
    <tag group="AtLevel" tag="8"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSlyBruAxe" name="Brutal Axe" description="When you use power strike with a two-handed axe, you can knock the target prone." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSlySlaWea"/>
    <tag group="AtLevel" tag="8"/>
    </thing>
  <thing id="fSlyRapQua" name="Rapid Quarterstaff" description="When you use power strike with a staff, all enemies adjacent to you other than the target of power strike suffer damage equal to your Dexterity modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSlySlaWea"/>
    <tag group="AtLevel" tag="8"/>
    </thing>
  <thing id="fSlySweSwo" name="Sweeping Sword" description="When you use power strike with a two-handed blade, you can slide each enemy adjacent to you 1 square." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSlySlaWea"/>
    <tag group="AtLevel" tag="8"/>
    </thing>
  <thing id="fSlyIneSla" name="Inexorable Slayer" description="You gain a +1 bonus to saving throws.{br}{br}Level 10:{b}LEVEL 10 SLAYER UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="9"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)

      #traitmodify[trSave,trtBonus,1,""]]]>
      <before name="Derived trtFinal"/>
      </eval>
    </thing>
  <thing id="fSlyIPow13" name="Improved Power Strike" description="You gain one more use of power strike per encounter, but you can still use it only once per turn.{br}{br}Level 15:{b}PARAGON SLAYER{/b}{br}The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 5 + your Dexterity modifier.{br}{br}Level 16:{b}RELENTLESS ADVANCE{/b}{br}You gain the relentless advance power." compset="ClassFeat">
    <tag group="AtLevel" tag="13"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pFtrPowStr].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fSlyParSla" name="Paragon Slayer" description="The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 5 + your Dexterity modifier.{br}{br}Level 16:{b}RELENTLESS ADVANCE{/b}{br}You gain the relentless advance power." compset="ClassFeat">
    <tag group="AtLevel" tag="15"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add yet another +3 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,3,""]
        nexteach]]></eval>
    </thing>
  <thing id="fSlyArmMob" name="Armored Mobility" description="While wearing heavy armor, you have resistance to all damage from opportunity attacks. The resistance equals 10 + your Dexterity modifier.{br}{br}Level 22:{b}SLAYER&apos;S DEFIANCE{/b}{br}You gain the slayer&apos;s defiance power." compset="ClassFeat">
    <tag group="AtLevel" tag="19"/>
    </thing>
  <thing id="fSlyRelSla" name="Relentless Slayer" description="You are immune to the slowed condition." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fSlyUnfSla" name="Unfettered Slayer" description="You ignore penalties to speed for wearing heavy armor." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    <eval phase="Traits" priority="1000">perform hero.assign[Hero.NoArmorSpd]
      <before name="Armor effects final"/>
      </eval>
    </thing>
  <thing id="fSlyEpiSla" name="Epic Slayer" description="The bonus to weapon damage rolls granted by your Heroic Slayer class feature increases to 8 + your Dexterity modifier." compset="ClassFeat">
    <tag group="AtLevel" tag="25"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add yet another +2 to damage with weapons
      foreach pick in hero from WeaponBase
        perform eachpick.field[wpDamage].modify[+,2,""]
        nexteach]]></eval>
    </thing>
  <thing id="fSlySpiWar" name="Spirit Of War" description="At the start of your turn, you can make a saving throw against one effect that a save can end. If the saving throw succeeds, the effect ends, preventing it from affecting you on your current turn.{br}If the saving throw fails, you still make a saving throw against the effect at the end of your turn." compset="ClassFeat">
    <tag group="AtLevel" tag="29"/>
    </thing>
  <thing id="SlyPwrAtW" name="Slayer At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SlyPwrEnc" name="Slayer Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="SlyPwrUti" name="Slayer Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="SlyPwrDai" name="Slayer Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fSorSpeSou" name="Spell Source" description="As a sorcerer, you gain power through an instinctive or inborn connection to an ancient arcane source. Choose either Dragon Magic or Wild Magic. The choice you make grants you specific features and also provides bonuses to certain sorcerer powers, as detailed in those powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSorSpeSou)"/>
    </thing>
  <thing id="fSorCosMag" name="Cosmic Magic" description="The sun, the moon, and the stars speak to you in the voiceless language of cycles. The natural flow of the seasons tugs at your blood as the tide acts upon the oceans, pushing and pulling with gentle insistence regardless of the storm&apos;s fury, the dragon&apos;s flight, or the antics of otherworldly primordials. Just as the constellations move around the sky in a steady, imperturbable cadence, your spells are strong and unshakable, and tied to energies that can outlast all others.{br}{b}Cosmic Persistence{/b}: While you are not wearing heavy armor, you can use your Strength modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}{br}{b}Cosmic Power{/b}: You gain a bonus to the damage rolls of arcane powers equal to your Strength modifier. The bonus equals your Strength modifier + 2 at 11th level and your Strength modifier + 4 at 21st level.{br}{br}{b}Soul of the Cosmic Cycle{/b}: At the end of a short rest or an extended rest, you choose a cosmic phase from those described below and gain its benefits.{br}The first time you become bloodied during an encounter, your phase immediately changes to the next higher-numbered phase (or back to the phase of the sun if you are in the phase of the stars). For example, if you begin an encounter in the phase of the moon, after becoming bloodied you would be in the phase of the stars.{br}In addition, each time you use a daily arcane attack power, you can choose to change your phase to the next higher-numbered phase immediately after resolving the effects of the power.{br}1. Phase of the Sun: At the start of your turn, each enemy adjacent to you takes fire and radiant damage equal to your Strength modifier.{br}You also gain resist 5 cold.{br}2. Phase of the Moon: You gain a bonus to AC equal to the number of conscious enemies adjacent to you.{br}You also gain resist 5 psychic.{br}3. Phase of the Stars: Whenever an enemy&apos;s attack misses you, you can teleport a number of squares equal to your Strength modifier as a free action.{br}You also gain resist 5 radiant.{br}The resistance granted by this class feature increases to 10 at 11th level and to 15 at 21st level. While you have resistance from this class feature, your arcane powers ignore all targets&apos; resistance to that damage type up to the value of your resistance." compset="BuildOpt">
    <arrayval field="usrArray" index="0" value="Sun"/>
    <arrayval field="usrArray" index="1" value="Moon"/>
    <arrayval field="usrArray" index="2" value="Stars"/>
    <tag group="BuildOpt" tag="fSorSpeSou"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~can use str/dex/int for AC if not in heavy armor
      perform hero.findchild[Armor,"Equipped.Equipped & ArmorCat.Heavy"].setfocus
      if (state.isfocus = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrStr]
        endif

      var damage as number
      var resist as number
      if (hero.tagvalue[Level.?] <= 10) then
        damage = 0
        resist = 5
      elseif (hero.tagvalue[Level.?] <= 20) then
        damage = 2
        resist = 10
      else
        damage = 4
        resist = 15
        endif
      damage += #attrbasebonus[attrStr]

      ~Armored Sorcerer feat
      if (hero.childlives[ftArmorSor] <> 0) then
        if (hero.haschild[Armor,"Equipped.Equipped & ArmorType.arLeathArm"] <> 0) then
          resist += 2
          endif
        endif

      ~+str to arcane power damage (+2 at 11, +4 at 21)
      foreach pick in hero from Power where "PowerSrc.Arcane"
        perform eachpick.field[pwDamBonus].modify[+,damage,""]
        nexteach

      ~sun phase - resist 5/10/15 cold
      if (compare(field[usrSelect].text, "Sun") = 0) then
        #traitmodify[rsCold,rsTotal,resist,""]

      ~moon phase - resist 5/10/15 psychic
      elseif (compare(field[usrSelect].text, "Moon") = 0) then
        #traitmodify[rsPsychic,rsTotal,resist,""]

      ~stars phase - resist 5/10/15 radiant
      elseif (compare(field[usrSelect].text, "Stars") = 0) then
        #traitmodify[rsRadiant,rsTotal,resist,""]
        endif]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fSorDraMag" name="Dragon Magic" description="The elemental power of dragons flows through you, infusing your spells with draconic strength. Through force of will, you tap into the arcane might of dragons.{br}{b}Draconic Power{/b}: You gain a bonus to the damage rolls of arcane powers equal to your Strength modifier. The bonus increases to your Strength modifier +2 at 11th level and your Strength modifier +4 at 21st level.{br}{br}{b}Draconic Resilience{/b}: While you are not wearing heavy armor, you can use your Strength modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}{br}{b}Dragon Soul{/b}: Choose a damage type: acid, cold, fire, lightning, poison, or thunder. You gain resist 5 to that damage type. The resistance increases to 10 at 11th level and 15 at 21st level. Your arcane powers ignore any target&apos;s resistance to that damage type up to the value of your resistance.{br}{br}{b}Scales of the Dragon{/b}: The first time you become bloodied during an encounter, you gain a +2 bonus to AC until the end of the encounter." compset="BuildOpt">
    <fieldval field="usrCandid1" value="thingid.rsAcid | thingid.rsCold | thingid.rsFire | thingid.rsLightn | thingid.rsPoison | thingid.rsThunder"/>
    <tag group="BuildOpt" tag="fSorSpeSou"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~can use str/dex/int for AC if not in heavy armor
      perform hero.findchild[Armor,"Equipped.Equipped & ArmorCat.Heavy"].setfocus
      if (state.isfocus = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrStr]
        endif

      var damage as number
      var resist as number
      if (hero.tagvalue[Level.?] <= 10) then
        damage = 0

         if (hero.childlives[ftImproDra]<>0) then
           resist = 7
         else
           resist = 5
         endif
      elseif (hero.tagvalue[Level.?] <= 20) then
        damage = 2
         if (hero.childlives[ftImproDra]<>0) then
           resist = 15
        else
        resist = 10
         endif
      else
        damage = 4
         if (hero.childlives[ftImproDra]<>0) then
           resist = 25
        else
        resist = 15
         endif
        endif
      damage += #attrbasebonus[attrStr]

      ~Armored Sorcerer feat
      if (hero.childlives[ftArmorSor] <> 0) then
        if (hero.haschild[Armor,"Equipped.Equipped & ArmorType.arLeathArm"] <> 0) then
          resist += 2
          endif
        endif

      ~+str to arcane power damage (+2 at 11, +4 at 21)
      foreach pick in hero from Power where "PowerSrc.Arcane"
        perform eachpick.field[pwDamBonus].modify[+,damage,""]
        nexteach

      ~resist 5/10/15
      perform field[usrChosen1].chosen.field[rsTotal].modify[+,resist,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fSorStoMag" name="Storm Magic" description="The raw and unbridled fury of storm powers your spells. While others might flee a storm, you embrace its power, internalize the force, and then unleash it. The impetuous, unpredictable power resident in the storm is your greatest ally. Like a tempest, you never give up and never give in until you are completely spent.{br}{b}Storm Power{/b}: You gain a bonus to the damage rolls of arcane powers equal to your Dexterity modifier. The bonus equals your Dexterity modifier + 2 at 11th level and your Dexterity modifier + 4 at 21st level.{br}{br}{b}Storm Soul{/b}: You gain resist 5 thunder and resist 5 lightning. This resistance increases to 10 at 11th level and 15 at 21st level.{br}While this resistance is active, your arcane powers ignore all targets&apos; resistance to that damage type up to the value of your resistance.{br}If you are hit by an attack, you can end this resistance as an immediate interrupt to gain a +4 power bonus to all defenses until the end of your next turn. If you do so, the resistance returns after you take a short rest or an extended rest.{br}{br}{b}Storm&apos;s Embrace{/b}: When you roll a natural 20 on an attack roll for an arcane power, wind surges around you and your enemy. You can push the target 1 square and then fly a number of squares equal to 1 + your Dexterity modifier after applying the attack&apos;s other effects." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSorSpeSou"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var damage as number
      var resist as number
      if (hero.tagvalue[Level.?] <= 10) then
        damage = 0
        resist = 5
      elseif (hero.tagvalue[Level.?] <= 20) then
        damage = 2
        resist = 10
      else
        damage = 4
        resist = 15
        endif
      damage += #attrbasebonus[attrDex]

      ~+dex to arcane power damage (+2 at 11, +4 at 21)
      foreach pick in hero from Power where "PowerSrc.Arcane"
        perform eachpick.field[pwDamBonus].modify[+,damage,""]
        nexteach

      ~Armored Sorcerer feat
      if (hero.childlives[ftArmorSor] <> 0) then
        if (hero.haschild[Armor,"Equipped.Equipped & ArmorType.arLeathArm"] <> 0) then
          resist += 2
          endif
        endif

      #traitmodify[rsThunder,rsTotal,resist,""]
      #traitmodify[rsLightn,rsTotal,resist,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fSorWilMag" name="Wild Magic" description="You draw your spells from the entropic forces of the Elemental Chaos. Whether tapping into the power of primordial beings or drawing strength directly from that plane, you unleash magic in wild surges.{br}{b}Chaos Burst{/b}: Your first attack roll during each of your turns determines a benefit you gain in that round. If you roll an even number, you gain a +1 bonus to AC until the start of your next turn. If you roll an odd number, you make a saving throw.{br}{br}{b}Chaos Power{/b}: You gain a bonus to the damage rolls of arcane powers equal to your Dexterity modifier. The bonus increases to your Dexterity modifier + 2 at 11th level and your Dexterity modifier + 4 at 21st level.{br}{br}{b}Unfettered Power{/b}: When you roll a natural 20 on an attack roll for an arcane power, you slide the target 1 square and knock it prone after applying the attack&apos;s other effects.{br}When you roll a natural 1 on an attack roll for an arcane power, you must push each creature within 5 squares of you 1 square.{br}{br}{b}Wild Soul{/b}: When you finish an extended rest, roll a d10 to determine a damage type.{br}d10 -  Damage Type{br}1Acid{br}2Cold{br}3Fire{br}4Force{br}5Lightning{br}6Necrotic{br}7Poison{br}8Psychic{br}9Radiant{br}10Thunder{br}You gain resist 5 to that damage type until the end of your next extended rest. The resistance increases to 10 at 11th level and 15 at 21st level.{br}While you have resistance to that damage type, your arcane powers ignore any target&apos;s resistance to that damage type up to the value of your resistance.{br}{br}SORCERER OVERVIEW{br}As an arcane striker, you have a resemblance to the warlock. However, more of your powers create bursts or blasts of elemental forces to damage multiple foes, and your magic is the result of powerful arcane forces in your blood rather than the result of pacts you have made with mysterious entities." compset="BuildOpt">
    <fieldval field="usrCandid1" value="component.Resistance"/>
    <tag group="BuildOpt" tag="fSorSpeSou"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var damage as number
      var resist as number
      if (hero.tagvalue[Level.?] <= 10) then
        damage = 0
        resist = 5
      elseif (hero.tagvalue[Level.?] <= 20) then
        damage = 2
        resist = 10
      else
        damage = 4
        resist = 15
        endif
      damage += #attrbasebonus[attrDex]

      ~+dex to arcane power damage (+2 at 11, +4 at 21)
      foreach pick in hero from Power where "PowerSrc.Arcane"
        perform eachpick.field[pwDamBonus].modify[+,damage,""]
        nexteach

      ~Armored Sorcerer feat
      if (hero.childlives[ftArmorSor] <> 0) then
        if (hero.haschild[Armor,"Equipped.Equipped & ArmorType.arLeathArm"] <> 0) then
          resist += 2
          endif
        endif

      ~resist 5/10/15
      perform field[usrChosen1].chosen.field[rsTotal].modify[+,resist,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fSmgSwordb" name="Swordbond" description="By spending 1 hour of meditation with a chosen light or heavy blade, you forge a special bond with the weapon. As a standard action, you can call your bonded weapon to your hand from up to 10 squares away.{br}{br}You can forge a bond with a different blade using the same meditation process (for instance, if you acquire a new blade that has magical abilities). If you forge a bond with a different blade, the old bond dissipates.{br}{br}If your bonded weapon is broken or damaged, you can spend 1 hour of meditation to recreate the weapon from a fragment. (This process automatically destroys any other fragments of the weapon in existence, so you can&apos;t use it to create multiple copies of a broken weapon.)" compset="ClassFeat"></thing>
  <thing id="fSmgSwoAeg" name="Swordmage Aegis" description="You can place a magical warding upon a foe, allowing you to respond to the foe&apos;s attacks against your allies with a counterassault or a timely protection. Choose one Aegis and gain its benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSmgSwoAeg)"/>
    </thing>
  <thing id="fSmgAegAss" name="Aegis of Assault" description="You can use the Aegis of Assault power to teleport to the side of of the attacker and respond with an attack of your own." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSmgSwoAeg"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pSmgAegAss">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSmgAegEns" name="Aegis of Ensnarement" description="You can use the Aegis of ensnarement  power to teleport a marked creature to any space adjacent to you." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSmgSwoAeg"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pSmgAegEns">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSmgAegShi" name="Aegis of Shielding" description="You can use the Aegis of Shielding power to deflect some of the damage of an incoming attack." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSmgSwoAeg"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pSmgAegShi">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSmgSwoWar" name="Swordmage Warding" description="While you are conscious and wielding either a light blade or a heavy blade, you maintain a field of magical force around you.{br}This field provides a +1 bonus to AC, or a +3 bonus if you are wielding a blade in one hand and have your other hand free (not carrying a shield, an off-hand weapon, a two-handed weapon, or anything else)." compset="ClassFeat">
    <eval phase="Setup" priority="105"><![CDATA[
      doneif (activated = 0)

      ~if we're wielding a light blade or heavy blade, we get +1 to AC, or +3
      ~if our off-hand is free
      var isblade as number
      var isoffempty as number
      isblade = 0
      isoffempty = 1
      foreach pick in hero from WeapMelee where "!Hide.Weapon"
        if (eachpick.tagis[WepGroup.wgHeavyBl] + eachpick.tagis[WepGroup.wgLightBl] <> 0) then
          if (eachpick.tagis[Equipped.Equipped] <> 0) then
            isblade = 1
            endif
          endif
        if (eachpick.tagis[Helper.EqpOff] + eachpick.tagis[Helper.EqpBoth] <> 0) then
          isoffempty = 0
          endif
        nexteach
      if (isblade <> 0) then
        if (isoffempty <> 0) then
          #traitmodify[defAC,trtClass,3,""]
        else
          #traitmodify[defAC,trtClass,1,""]
          endif
        endif]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fClrChaDiv" name="Channel Divinity" description="Once per encounter you can invoke divine power, filling yourself with the might of your patron deity. With the divine might you invoke you can wield special powers. You can also learn other uses for this feature; for instance, the divinity feats grant characters with access to the Channel Divinity class feature the ability to use additional special powers.{br}Regardless of how many different uses for Channel Divinity you know, you can use only one such ability per encounter. The special ability or power you invoke works just like your other powers." compset="ClassFeat">
    <eval phase="Setup" priority="10000">doneif (activated = 0)

perform hero.assign[Hero.ChannelDiv]</eval>
    </thing>
  <thing id="fClrHeaLor" name="Healer&apos;s Lore" description="When you restore hit points to a creature by using a cleric power that has the healing keyword, add your Wisdom modifier to the hit points regained, but only if the healing involves the creature spending a healing surge." compset="ClassFeat"></thing>
  <thing id="fClrRitCas" name="Ritual Casting" description="You gain the Ritual Caster feat as a bonus feat, allowing you to use magical rituals." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="ftRituaCas"></bootstrap>
    </thing>
  <thing id="fThfFirStr" name="First Strike" description="At the start of every encounter, you have combat advantage against any creatures that have not yet acted in that encounter." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fThfRogTri" name="Rogue&apos;s Trick" description="You gain two of the following powers of your choice." compset="ClassFeat"></thing>
  <thing id="fThfSneAtt" name="Sneak Attack" description="When you make an attack with a light blade, a hand crossbow, a shortbow, or a sling and hit an enemy granting combat advantage to you, that enemy takes extra damage based on your level (see the Sneak Attack table). You can deal this extra damage only once per turn.{br}{br}SNEAK ATTACK{br}Level - Extra Damage{br}1-102d6{br}11-203d6{br}21-305d6" compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fThfWeaFin" name="Weapon Finesse" description="When you make a melee basic attack, you can use Dexterity instead of Strength for the attack roll and the damage roll. In addition, you gain a +2 bonus to damage rolls with light blades, hand crossbows, shortbows, and slings.{br}{br}Level 2:{b}LEVEL 2 THIEF UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      if (#attrbonus[attrStr] < #attrbonus[attrDex]) then
        perform hero.child[pwBasicMel].setfocus
        perform focus.delete[DamageAttr.attrStr]
        perform focus.delete[Attack.attrStr]
        perform focus.assign[DamageAttr.attrDex]
        perform focus.assign[Attack.attrDex]
        endif]]>
      <after name="Calc attrBonus"/>
      </eval>
    <eval phase="Setup" priority="1000" index="2"><![CDATA[
      doneif (activated = 0)

      ~add +2 to damage with certain weapons
      foreach pick in hero from WeaponBase where "WepGroup.wgLightBl | WeaponProf.wpHandCro | WeaponProf.wpShortbow | WepaonProf.wpSling"
        perform eachpick.field[wpDamage].modify[+,2,""]
        nexteach]]></eval>
    </thing>
  <thing id="fThfSkiMas" name="Skill Mastery" description="You gain an additional trained skill, chosen from the following list: Bluff, Dungeoneering, Insight, Intimidate, Perception, and Streetwise.{br}Also, during a skill challenge, whenever you roll a natural 20 on a skill check that would contribute one or more successes to the skill challenge, that check automatically succeeds and counts as one additional success." compset="ClassFeat">
    <fieldval field="usrCandid1" value="component.Skill &amp; (thingid.skBluff | thingid.skDungeone | thingid.skInsight | thingid.skIntimida | thingid.skPercepti | thingid.skStreetwi)"/>
    <tag group="AtLevel" tag="2"/>
    <eval phase="Traits" priority="1000">doneif (activated = 0)
      perform field[usrChosen1].chosen.assign[Helper.TrainedAut]
      <before name="Calc sklTrained"/>
      </eval>
    </thing>
  <thing id="fThfThiWea" name="Thief Weapon Talent" description="You gain a +1 bonus to attack rolls with light blades, hand crossbows, shortbows, and slings.{br}{br}Level 3:{b}LEVEL 3 IMPROVED BACKSTAB{/b}{br}You gain one more use of backstab per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}LEVEL 4 EXTRA ROGUE&apos;S TRICK{/b}{br}You gain one additional rogue trick." compset="ClassFeat">
    <tag group="AtLevel" tag="2"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000" index="2"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attack with certain weapons
      foreach pick in hero from WeaponBase where "WepGroup.wgLightBl | WeaponProf.wpHandCro | WeaponProf.wpShortbow | WepaonProf.wpSling"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fThfImBac3" name="Improved Backstab" description="You gain one more use of backstab per encounter, but you can still use it only once per turn.{br}{br}Level 4:{b}LEVEL 4 EXTRA ROGUE&apos;S TRICK{/b}{br}You gain one additional rogue trick." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pRogBackst].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fThfImpFin" name="Improved Finesse" description="The bonus to damage rolls granted by your Weapon Finesse class feature increases to +3." compset="ClassFeat">
    <tag group="AtLevel" tag="9"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000" index="2"><![CDATA[
      doneif (activated = 0)

      ~add another +1 to damage with certain weapons
      foreach pick in hero from WeaponBase where "WepGroup.wgLightBl | WeaponProf.wpHandCro | WeaponProf.wpShortbow | WepaonProf.wpSling"
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fThfThiCom" name="Thief Combat Readiness" description="You gain a +2 bonus to initiative.{br}{br}Level 10:{b}LEVEL 10 THIEF UTILITY POWER{/b}{br}You gain one of the following powers of your choice." compset="ClassFeat">
    <tag group="AtLevel" tag="9"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="1000"><![CDATA[
      doneif (activated = 0)
      #traitmodify[trInit,trtBonus,2,""]]]></eval>
    </thing>
  <thing id="fThfIBac13" name="Improved Backstab" description="You gain one more use of backstab per encounter, but you can still use it only once per turn.{br}{br}Level 15:{b}PARAGON FINESSE{/b}{br}The bonus to damage rolls granted by your Weapon Finesse class feature increases to +4.{br}{br}Level 16:{b}SLIP FROM THE GRASP{/b}{br}You gain the slip from the grasp power." compset="ClassFeat">
    <tag group="AtLevel" tag="13"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)
      hero.childfound[pRogBackst].field[spcMax].value += 1</eval>
    </thing>
  <thing id="fThfParFin" name="Paragon Finesse" description="The bonus to damage rolls granted by your Weapon Finesse class feature increases to +4.{br}{br}Level 16:{b}SLIP FROM THE GRASP{/b}{br}You gain the slip from the grasp power." compset="ClassFeat">
    <tag group="AtLevel" tag="15"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000" index="2"><![CDATA[
      doneif (activated = 0)

      ~add another +1 to damage with certain weapons
      foreach pick in hero from WeaponBase where "WepGroup.wgLightBl | WeaponProf.wpHandCro | WeaponProf.wpShortbow | WepaonProf.wpSling"
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fThfEvaBac" name="Evasive Backstab" description="After you use backstab, you can immediately shift up to 3 squares as a free action.{br}{br}Level 22:{b}INVISIBLE STALKER{/b}{br}You gain the invisible stalker power." compset="ClassFeat">
    <tag group="AtLevel" tag="19"/>
    </thing>
  <thing id="fThfEluThi" name="Elusive Thief" description="Whenever you make an Acrobatics check or an Athletics check as part of the escape action or make a saving throw against an effect that immobilizes, restrains, or slows you, you can roll twice and use either result." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fThfEpiFin" name="Epic Finesse" description="The bonus to damage rolls granted by your Weapon Finesse class feature increases to +5." compset="ClassFeat">
    <tag group="AtLevel" tag="25"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000" index="2"><![CDATA[
      doneif (activated = 0)

      ~add another +1 to damage with certain weapons
      foreach pick in hero from WeaponBase where "WepGroup.wgLightBl | WeaponProf.wpHandCro | WeaponProf.wpShortbow | WepaonProf.wpSling"
        perform eachpick.field[wpDamage].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="fThfRelThi" name="Reliable Thief" description="Whenever you make a Stealth check or a Thievery check, you can roll twice and use either result." compset="ClassFeat">
    <tag group="AtLevel" tag="27"/>
    </thing>
  <thing id="fThfEpiSki" name="Epic Skill Mastery" description="You gain a +3 bonus to all skill checks." compset="ClassFeat">
    <tag group="AtLevel" tag="29"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~+3 to all skills
      foreach pick in hero from Skill
        perform eachpick.field[trtBonus].modify[+,3,""]
        nexteach]]>
      <before name="Derived trtFinal"/>
      </eval>
    </thing>
  <thing id="ThfPwrAtW" name="Thief At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="15" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="17" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="18" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="19" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="20" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="21" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="1"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="1"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    </thing>
  <thing id="ThfPwrEnc" name="Thief Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="ThfPwrUti" name="Thief Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="ThfPwrDai" name="Thief Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fWrdFonLif" name="Font Of Life" description="At the start of your turn, you can make a saving throw against one effect that a save can end. On a save, the effect immediately ends, preventing it from affecting you on your current turn. If you save against being stunned or dazed, you can act normally on your turn. If you save against ongoing damage, you avoid taking the damage.{br}If you fail the saving throw, you still make a saving throw against the effect at the end of your turn." compset="ClassFeat"></thing>
  <thing id="fWrdGuaMig" name="Guardian Might" description="Wardens connect with the natural world in a variety of ways to augment their fighting abilities. Choose one of the following options." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWrdGuaMig)"/>
    </thing>
  <thing id="fWrdEarths" name="Earthstrength" description="While you are not wearing heavy armor, you can use your Constitution modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}In addition, when you use your second wind, you gain an additional bonus to AC equal to your Constitution modifier. The bonus lasts until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrdGuaMig"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use CON for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrCon]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      </eval>
    </thing>
  <thing id="fWrdLifesp" name="Lifespirit" description="While you are not wearing heavy armor, you can use your Wisdom modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}{br}In addition, when you use your second wind, an ally within 5 squares of you can spend a healing surge and make a saving throw." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrdGuaMig"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use WIS for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrWis]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      </eval>
    </thing>
  <thing id="fWrdStormh" name="Stormheart" description="While you are not wearing heavy armor, you can use your Constitution modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}{br}In addition, when you use your second wind, you slide each enemy marked by you and within 2 squares of you 1 square, and each enemy marked by you is slowed until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrdGuaMig"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use CON for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrCon]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      </eval>
    </thing>
  <thing id="fWrdWildbl" name="Wildblood" description="While you are not wearing heavy armor, you can use your Wisdom modifier in place of your Dexterity or Intelligence modifier to determine your AC.{br}In addition, when you use your second wind, each enemy marked by you takes an additional penalty to attack rolls for attacks that don&apos;t include you as a target. The penalty equals your Wisdom modifier and lasts until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrdGuaMig"/>
    <eval phase="Traits" priority="18000">doneif (activated = 0)

      ~no heavy armor = use WIS for AC
      if (hero.tagis[ArmorCat.Heavy] = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrWis]
        endif
      <before name="Calc defAbility"/>
      <after name="Armor effects final"/>
      </eval>
    </thing>
  <thing id="fWrdNatWra" name="Nature&apos;s Wrath" description="Once during each of your turns, you can mark each adjacent enemy as a free action. This mark lasts until the end of your next turn.{br}In addition, you gain the warden&apos;s fury and warden&apos;s grasp powers. You can use these powers against enemies to prevent them from harming those you protect." compset="ClassFeat"></thing>
  <thing id="fWlkEldBla" name="Eldritch Blast" description="All warlocks know the eldritch blast at-will power. This power can be used as a basic attack. You gain this power as well as another at-will power as determined by your Eldritch Pact." compset="ClassFeat">
    <fieldval field="usrCandid1" value="thingid.attrCon | thingid.attrCha"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWlkEldBla"></bootstrap>
    <eval phase="Setup" priority="1000">perform field[usrChosen1].chosen.setfocus
      doneif (state.isfocus = 0)
      perform focus.pulltags[Attack.?]
      perform focus.pulltags[DamageAttr.?]
      perform hero.child[pWlkEldBla].pushtags[Attack.?]
      perform hero.child[pWlkEldBla].pushtags[DamageAttr.?]

      ~do the same for Eldritch Strike if we have it
      perform hero.childfound[pWlkEldStr].pushtags[Attack.?]
      perform hero.childfound[pWlkEldStr].pushtags[DamageAttr.?]</eval>
    </thing>
  <thing id="fWlkEldPac" name="Eldritch Pact" description="You have forged a pact with mysterious entities that grant you your arcane powers. Choose one pact. The pacts presented in the Player&apos;s Handbook are the fey pact, the infernal pact, and the star pact. Other products present additional pacts. The pact you choose determines the following warlock abilities:{br}At-Will Spells: Your pact determines one of the at-will spells you know.{br}Pact Boon: Each pact includes a pact boon. The pact boon is a granted power you can use to further hex your enemies.{br}The pact you take also provides bonuses to certain warlock powers. Individual powers detail the effects (if any) your Eldritch Pact selection has on them." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWlkEldPac)"/>
    </thing>
  <thing id="fWlkDarPac" name="Dark Pact" description="You have forged a pact with the dark beings that lurk in the shadows of the drow civilization. Spells of darkness, poison, madness, and spite fill your mind. You might turn your powers to noble ends, but you always face the temptation to enhance your spells by hurting your friends - just a little. {br}Spiteful Glamor: You know the spiteful glamor at-will spell.{br}Darkspiral Aura: You have the Darkspiral Aura pact boon. As your cursed enemies fall in battle, your  Darkspiral Aura grows in power. You can unleash it on an enemy, blasting its mind and body.{br}When an enemy under your Warlock&apos;s Curse is reduced to 0 hit points or fewer, add 1 to your Darkspiral Aura. Your Darkspiral Aura has a starting value of 0, and it resets to 0 when you take a short rest or an extended rest.{br}When an enemy makes a melee attack or a ranged attack against you, you can use your Darkspiral Aura as an immediate interrupt, dealing 1d6 necrotic and psychic damage to that enemy for each point of your Darkspiral Aura&apos;s current value. If this attack deals less than 12 damage, the value of your Darkspiral Aura becomes 0. If this attack deals 12 damage or more, you can cause the enemy to be weakened for its attack (which means the attack deals half damage), and the value of your Darkspiral Aura becomes 1.{br}At 11th level, the damage you deal increases to 1d8 per point of your Darkspiral Aura&apos;s current value, and at 21st level the damage increases to 1d10 per point of your Darkspiral Aura&apos;s current value. " compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkDarAur">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkSpiGla">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkElePac" name="Elemental Pact" description="Elemental Affinity: After each rest, roll a d10 to determine your current elemental affinity. You can choose the damage type when you use your second wind, but the type changes again when you rest.{br}d10 - Affinity{br}1-2Acid{br}3-4Cold{br}5-6Fire{br}7-8Lightning{br}9-10Thunder{br}On your turn, when you use an arcane attack power that deals force, necrotic, poison, or psychic damage, you can change the damage type to match that of your current elemental affinity. Your elemental affinity&apos;s damage type replaces each instance of force, necrotic, poison, and psychic damage that the power deals.{br}Chromatic Bolt: You gain the chromatic bolt power.{br}Accursed Affinity: You have the Accursed Affinity pact boon." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkAccAff">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkChrBol">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkFeyPac" name="Fey Pact" description="You have forged a bargain with ancient, amoral powers of the Feywild. Some are primitive earth spirits, grim and menacing; some are capricious wood, sky, or water spirits; and others are incarnations of seasons or natural forces who roam the faerie realm like wild gods. They bestow magic that ranges from feral and savage to wondrous and enchanting.{br}Eyebite: You know the eyebite spell.{br}Misty Step: You have the Misty Step pact boon. You instantly transform into silver mist that streams a short distance and reforms, allowing you to flee or maneuver to set up a deadly attack.{br}When an enemy under your Warlock&apos;s Curse is reduced to 0 hit points or fewer, you can immediately teleport 3 squares as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkEyebit">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkMisSte">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkInfPac" name="Infernal Pact" description="Long ago a forgotten race of devils created a secret path to power and taught it to the tieflings of old to weaken their fealty to Asmodeus. In his wrath, Asmodeus destroyed the scheming devils and struck their very names from the memory of all beings - but you dare to study their perilous secrets anyway.{br}Hellish Rebuke: You know the hellish rebuke spell.{br}Dark One&apos;s Blessing: You have the Dark One&apos;s Blessing pact boon. You instantly gain vitality from a cursed enemy when that enemy falls.{br}When an enemy under your Warlock&apos;s Curse is reduced to 0 hit points or fewer, you immediately gain temporary hit points equal to your level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkDarBle">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkHelReb">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkSorPac" name="Sorcerer-King Pact" description="You have pledged yourself to the service of a sorcerer-king. In return, your master transformed you into an arcane spellcaster by means of eldritch rituals. What you do with this new power is up to you - the sorcerer-king has no special ability to observe you or to strip you of your power. However, all sorcerer-kings are suspicious and ruthless, so if you defy one, you do so at your own peril.{br}Hand of Blight: You gain the hand of blight power.{br}Fell Scorn: You have the Fell Scorn pact boon, which enables you to draw upon your sorcerer-king&apos;s magical prowess and enhance a power by spending your fell might. You start each encounter with your fell might unspent. You must decide whether or not to spend your fell might when you choose to use a power, before you make any attack rolls or apply any of that power&apos;s effects.{br}When a creature affected by your Warlock&apos;s Curse drops to 0 hit points, your pact boon triggers, restoring your fell might, which you can spend again during the encounter. If you already have your fell might available when a cursed creature drops to 0 hit points, you don&apos;t gain a second use of it. You can have only one use of fell might available at one time." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkHanBli">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkStaPac" name="Star Pact" description="You have mastered the astrologer&apos;s art, learning the secret names of the stars and gazing into the Far Realm beyond, gaining great power thereby. You can call upon powers that madden or terrify your enemies, manipulate chance and fate, or scour your foes with icy banes and curses drawn from beyond the night sky.{br}Dire Radiance: You know the dire radiance spell.{br}Fate of the Void: You have the Fate of the Void pact boon. Your curse intermingles with the lost vitality of a cursed enemy to reveal a glimpse of the future to you.{br}When an enemy under your Warlock&apos;s Curse is reduced to 0 hit points or fewer, you gain a +1 bonus to any single d20 roll you make before the end of your next turn (attack roll, saving throw, skill check, or ability check). If you don&apos;t use this bonus by the end of your turn, it is lost.{br}This bonus is cumulative; if three cursed enemies drop to 0 hit points or fewer before your next turn, you gain a +3 bonus to a d20 roll during your turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkDirRad">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkFatVoi">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkVesPac" name="Vestige Pact" description="You have forged relationships with vestiges - the remnants of powerful forces and entities that once exercised great authority or demonstrated awful capabilities. These remnants are diverse in their backgrounds and motives. As a vestige pact warlock, you can choose from between two or more vestige pacts to fuel your arcane power.{br}Eyes of the Vestige: You know the eyes of the vestige spell. You gain an additional effect, referred to as an eyes of the vestige augment, associated with your active vestige (see below) when you make a successful attack with this power.{br}Pact Boon: You have a pact boon associated with your active vestige.{br}When an enemy under your Warlock&apos;s Curse drops to 0 hit points or fewer, you gain the benefit of your active vestige&apos;s pact boon.{br}{br}Using Vestiges{br}You always have one active vestige. As a beginning character, you have access to the two primary vestiges: King Elidyr and Zutwa. You select one of these as your active vestige after a short rest or an extended rest.{br}Changing Your Vestige: You can gain temporary access to other vestiges by using certain daily attack powers. (For ease of identification, all these powers have names that begin with &quot;Vestige.&quot;) When you use a power that gives you access to a daily power vestige, you can choose for that vestige to immediately become your active vestige. If you do so, it remains your active vestige until you gain access to a different vestige by using another daily attack power or until the end of the encounter. If you don&apos;t immediately choose to change to that daily power vestige, your access to that vestige is lost until the next time you use that power.{br}After a short rest or an extended rest, you again select one of the two primary vestiges to be your active vestige. That vestige remains active until you change to a daily power vestige or until you take another short rest or extended rest.{br}In addition, certain benefits allow you to change your vestige at a different time or under different circumstances (See Vestige Pact Boons" compset="BuildOpt">
    <tag group="BuildOpt" tag="fWlkEldPac"/>
    <bootstrap thing="pWlkEyeVes">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <bootstrap thing="pWlkVesPac">
      <containerreq phase="Setup" priority="500"><![CDATA[(fieldval:boActive <> 0 & HasFeature.tWlkHWaPac & Class.clsWrlckHy) | (fieldval:boActive <> 0 & Class.clsWarlock & !Class.clsWrlckHy)]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fWlkPriSho" name="Prime Shot" description="If none of your allies are nearer to your target than you are, you receive a +1 bonus to ranged attack rolls against that target. You do not gain this feature if you choose the Beast Mastery fighting style." compset="ClassFeat"></thing>
  <thing id="fWlkShaWal" name="Shadow Walk" description="On your turn, if you move at least 3 squares away from where you started your turn, you gain concealment until the end of your next turn." compset="ClassFeat"></thing>
  <thing id="fWprChaDiv" name="Channel Divinity Powers" description="You gain the smite undead power plus a channel divinity power associated with your domain. You can use only one channel divinity power per encounter." compset="ClassFeat"></thing>
  <thing id="fWprDomFea" name="Domain" description="You gain benefits associated with your domain, which include special features plus two at-will attack powers, one utility power, and one encounter attack power." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWprDomFea)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fWprCorDom" name="Corellon Domain" description="While you are subject to a charm effect that a save can end, you can make a saving throw against that effect at the start of each of your turns, as well as at the end.{br}In addition, when you use healing word, you and each ally in the burst can ignore difficult terrain when shifting until the start of your next turn.{br}You also gain the following powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fWprDeaDom" name="Death Domain" description="You gain resist 5 necrotic.{br}In addition, when you use your healing word, you gain 5 temporary hit points. The temporary hit points increase to 10 at 11th level and 15 at 21st level.{br}You also gain the death&apos;s shadow, tenebrous blessing, eye of the vulture, and inevitable doom powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      #traitmodify[rsNecrotic,rsTotal,5,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fWprDomDom" name="Domination Domain Features and Powers" description="You gain training in Intimidate.{br}In addition, when you use healing word, the target also gains 5 temporary hit points. At 11th level, the temporary hit points increase to 10. At 21st level, they increase to 15.{br}You also gain the following 1st-level powers: one utility power (inspire dread), two at-will attack powers (fell strike and icon of fear), and one encounter attack power (dread revelation)." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    </thing>
  <thing id="fWprEarDom" name="Earth Domain" description="You and each ally within 5 squares of you gain a +2 power bonus to saves against ongoing damage.{br}In addition, when you use healing word, the target takes half damage from the next attack that hits it before the end of your next turn.{br}You also gain the earth&apos;s endurance, burden of earth, stone speak, and earthen hail powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fWprOghDom" name="Oghma Domain" description="You can use Wisdom instead of Intelligence when making an Intelligence-based skill check.{br}In addition, when you use healing word, each ally in the burst gains a +1 bonus to the next saving throw he or she makes before the end of your next turn.{br}You also gain the following powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fWprSelDom" name="Selune Domain" description="You gain resist 5 necrotic and resist 5 radiant.{br}In addition, when you use healing word, each enemy adjacent to the power&apos;s target takes a -2 penalty to the next damage roll it makes before the end of its next turn. This penalty worsens to -4 at 11th level and -6 at 21st level.{br}You also gain the following powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      #traitmodify[rsNecrotic,rsTotal,5,""]
      #traitmodify[rsRadiant,rsTotal,5,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fWprStoDom" name="Storm Domain" description="You gain resist 5 lightning and resist 5 thunder.{br}In addition, when you use your healing word, the target also gains a +2 power bonus to the next damage roll he or she makes before the end of his or her next turn. This bonus increases to +4 at 11th level and +6 at 21st level.{br}You also gain the blessing of wrath power, storm hammer power, create water power, and thundering steel power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      #traitmodify[rsThunder,rsTotal,5,""]
      #traitmodify[rsLightn,rsTotal,5,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fWprSunDom" name="Sun Domain" description="You gain a +2 bonus to death saving throws. While within 5 squares of you, your allies also gain this bonus.{br}In addition, when you use your healing word, you or an ally in the burst regains 2 hit points. The hit points increase to 4 at 11th level and 6 at 21st level.{br}You also gain the following powers: blessing of battle, brand of the sun, sun&apos;s glow, sun burst." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fWprTorDom" name="Torm Domain" description="You cannot be forced to attack an ally under any circumstances. Such an attempt automatically fails, although damage or conditions associated with the effect that would cause you to attack your ally can still affect you. You can attack an ally if you choose to do so.{br}In addition, when you use healing word, the target of the power gains a +2 power bonus to all defenses until the end of your next turn.{br}You also gain the following powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDomFea"/>
    <tag group="AtLevel" tag="1"/>
    </thing>
  <thing id="fWprDoEnc3" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain." compset="ClassFeat">
    <tag group="AtLevel" tag="3"/>
    </thing>
  <thing id="fWprDoFea5" name="Domain Feature" description="You gain a feature associated with your domain." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWprDoFea5)"/>
    <tag group="AtLevel" tag="5"/>
    </thing>
  <thing id="fWprCorFt5" name="Level 5 Corellon Domain Feature" description="When you use healing word, the target of the power can shift 1 square as a free action. If the target is an elf, a half-elf, or an eladrin, the target can instead shift a number of squares up to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "cor domain" was chosen
      if (hero.child[fWprCorDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprDeaFt5" name="Level 5 Death Domain Feature" description="When an enemy within 5 squares of you drops to 0 hit points, you can use healing word as an immediate reaction." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "death domain" was chosen
      if (hero.child[fWprDeaDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprLev5" name="Level 5 Domination Domain Feature" description="When you use healing word, the target can take a free action to stand up or to shift 1 square." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    </thing>
  <thing id="fWprEarFt5" name="Level 5 Earth Domain Feature" description="Whenever you use healing word, if the target is standing on the ground, you can slide it a number of squares equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "earth domain" was chosen
      if (hero.child[fWprEarDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprOghFt5" name="Level 5 Oghma Domain Feature" description="When you use healing word, the target of the power can make a saving throw." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "ogh domain" was chosen
      if (hero.child[fWprOghDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprSelFt5" name="Level 5 Selune Domain Feature" description="When you use healing word, bloodied allies in the burst gain resistance to all damage until the end of your next turn. The resistance equals your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "sel domain" was chosen
      if (hero.child[fWprSelDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprStoFt5" name="Level 5 Storm Domain Feature" description="When you use your healing word, one enemy of your choice adjacent to the target of the power takes thunder damage equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "storm domain" was chosen
      if (hero.child[fWprStoDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprSunFt5" name="Level 5 Sun Domain Feature" description="When you use healing word, the target of the power gains temporary hit points equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "sun domain" was chosen
      if (hero.child[fWprSunDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprTorFt5" name="Level 5 Torm Domain Feature" description="When you use healing word, the target of the power can teleport to a square adjacent to you." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDoFea5"/>
    <tag group="AtLevel" tag="5"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "tor domain" was chosen
      if (hero.child[fWprTorDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprDoEnc7" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain." compset="ClassFeat">
    <tag group="AtLevel" tag="7"/>
    </thing>
  <thing id="fWprDFea10" name="Domain Feature" description="You gain a feature associated with your domain." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWprDFea10)"/>
    <tag group="AtLevel" tag="10"/>
    </thing>
  <thing id="fWprCorF10" name="Level 10 Corellon Domain Feature" description="When you use a divine encounter attack power that has the force or the radiant keyword, you can teleport 1 square as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "cor domain" was chosen
      if (hero.child[fWprCorDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprDeaF10" name="Level 10 Death Domain Feature" description="At the start of each of your turns, you can use a free action to deal necrotic damage to one adjacent bloodied enemy. The necrotic damage equals your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "death domain" was chosen
      if (hero.child[fWprDeaDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprLev10" name="Level 10 Domination Domain Feature" description="Whenever you use a divine attack power that has the fear keyword to bloody an enemy or reduce a non-minion enemy to 0 hit points, you can push each enemy within 2 squares of you up to 3 squares as a free action. Creatures that are immune to fear ignore this effect." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    </thing>
  <thing id="fWprEarF10" name="Level 10 Earth Domain Feature" description="Whenever you use a melee divine encounter attack power that attacks Fortitude defense, any target you hit also grants combat advantage until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "earth domain" was chosen
      if (hero.child[fWprEarDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprOghF10" name="Level 10 Oghma Domain Feature" description="Whenever you use a divine encounter attack power that has the psychic keyword, each target of the power grants combat advantage until the end of your next turn." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "ogh domain" was chosen
      if (hero.child[fWprOghDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprSelF10" name="Level 10 Selune Domain Feature" description="Whenever you use a divine encounter attack power that has the radiant keyword, each ally adjacent to any enemy targeted by the power gains temporary hit points equal to your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "sel domain" was chosen
      if (hero.child[fWprSelDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprStoF10" name="Level 10 Storm Domain Feature" description="Whenever you use a divine encounter attack power that has the thunder keyword, you gain temporary hit points equal to 2 + your Constitution modifier." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "storm domain" was chosen
      if (hero.child[fWprStoDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprSunF10" name="Level 10 Sun Domain Feature" description="Whenever you use a divine encounter attack power that has the radiant keyword, you have combat advantage against the power&apos;s targets." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "sun domain" was chosen
      if (hero.child[fWprSunDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprTorF10" name="Level 10 Torm Domain Feature" description="Whenever you use a divine encounter attack power, each ally within 5 squares of you can shift 1 square as a free action." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDFea10"/>
    <tag group="AtLevel" tag="10"/>
    <eval phase="Setup" priority="400"><![CDATA[
      ~we're active if our "tor domain" was chosen
      if (hero.child[fWprTorDom].tagis[Helper.ChosenOpt] <> 0) then
        perform assign[Helper.ChosenOpt]
        endif]]>
      <before name="Build option final"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWprDEnc13" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain. This new power replaces the encounter attack power you gained at 1st level from your domain." compset="ClassFeat">
    <tag group="AtLevel" tag="13"/>
    </thing>
  <thing id="fWprDEnc17" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain. This new power replaces the encounter attack power you gained at 3rd level from your domain." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWprDEnc17)"/>
    <tag group="AtLevel" tag="17"/>
    </thing>
  <thing id="fWprLev17" name="Level 17 Corellon Domain Encounter Power" description="You gain the harmony of blades power" compset="BuildOpt">
    <tag group="BuildOpt" tag="fWprDEnc17"/>
    </thing>
  <thing id="fWprDEnc23" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain. This new power replaces the encounter attack power you gained at 7th level from your domain." compset="ClassFeat">
    <tag group="AtLevel" tag="23"/>
    </thing>
  <thing id="fWprDEnc27" name="Domain Encounter Power" description="You gain an encounter attack power associated with your domain. This new power replaces the encounter attack power you gained at 13th level from your domain." compset="ClassFeat">
    <tag group="AtLevel" tag="27"/>
    </thing>
  <thing id="WprPwrAtW" name="Warpriest At-Will Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="WprPwrEnc" name="Warpriest Encounter Mechanics" compset="Mechanics" uniqueness="unique">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="WprPwrUti" name="Warpriest Utility Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="2"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="2"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="2"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="2"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="2"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="2"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="2"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="2"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="2"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="2"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="2"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="2"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="2"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="2"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="2"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="2"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="2"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="2"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="2"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="2"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="2"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="2"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="2"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="2"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="2"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="22"/>
    <tag group="User" tag="NoBootMech"/>
    <tag group="Mechanics" tag="PwrUtility"/>
    </thing>
  <thing id="WprPwrDai" name="Warpriest Daily Mechanics" compset="Mechanics" uniqueness="unique">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="15" value="5"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="5"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="5"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="5"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="9"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="9"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="9"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="9"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="9"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="9"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="15"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="26" value="15"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="27" value="15"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="28" value="15"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="29" value="19"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="29"/>
    <arrayval field="ClPwrTable" index="30" value="19"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="29"/>
    <tag group="Mechanics" tag="PwrDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fFtrComAgi" name="Combat Agility" description="This class feature replaces the Combat Superiority class feature. You gain the power Combat Agility." compset="ClassFeat">
    <tag group="User" tag="FeatureChk"/>
    <tag group="Hide" tag="Special"/>
    <evalrule phase="Setup" priority="98" message="Class feature error">perform hero.child[fFtrComSup].setfocus
call FeatureDis
      <before name="Disable class feature"/>
      </evalrule>
    </thing>
  <thing id="fFtrComCha" name="Combat Challenge" description="In combat, it&apos;s dangerous to ignore a fighter. Every time you attack an enemy, whether the attack hits or misses, you can choose to mark that target. The mark lasts until the end of your next turn. While a target is marked, it takes a -2 penalty to attack rolls if its attack doesn&apos;t include you as a target. A creature can be subject to only one mark at a time. A new mark supersedes a mark that was already in place.{br}In addition, you gain the Combat Challenge power." compset="ClassFeat"></thing>
  <thing id="fFtrComSup" name="Combat Superiority" description="You gain a bonus to the attack rolls of opportunity attacks. The bonus equals your Wisdom modifier.{br}An enemy hit by your opportunity attack stops moving, if a move provoked the attack. If the enemy still has actions remaining, it can use them to resume moving." compset="ClassFeat"></thing>
  <thing id="fFtrFigTal" name="Fighter Talents" description="Choose one of the following fighter talents." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fFtrFigTal)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fFtrAreTra" name="Arena Training" description="You treat all weapons with which you are not proficient as improvised weapons.{br}You gain a +2 proficiency bonus to attack rolls with improvised weapons. Your attacks with one-handed improvised weapons deal 1d8 damage, and your attacks with two-handed improvised weapons deal 1d10 damage.{br}While you are not wearing heavy armor, you gain a +1 bonus to AC. This bonus increases to +2 at 11th level and +3 at 21st level.{br}You select two weapons as your arena weapons. If you are not already proficient with these weapons, you gain proficiency with them. In addition, any of your feats that grant feat bonuses to attack rolls or damage rolls with one of your arena weapons apply to your other arena weapon as well." compset="BuildOpt">
    <fieldval field="usrCandid1" value="component.WeaponBase &amp; !Equipment.Natural &amp; !component.MagicItem &amp; !thingid.wpMagic?"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    <bootstrap thing="fFtrAreTr2"></bootstrap>
    <eval phase="Setup" priority="1000" name="Arena Training #1"><![CDATA[
      hero.child[fFtrAreTr2].activated = activated
      doneif (activated = 0)

      ~increase small improvised weapon damage to 1d8, and large to 1d10, plus
      ~add a +2 proficiency bonus to each
      foreach pick in hero from WeaponBase where "thingid.wpImproLar"
        perform eachpick.delete[WepDamage.?]
        perform eachpick.assign[WepDamage.1d10]
        eachpick.field[wpProf].value = maximum(eachpick.field[wpProf].value, 2)
        nexteach
      foreach pick in hero from WeaponBase where "thingid.wpImproSma"
        perform eachpick.delete[WepDamage.?]
        perform eachpick.assign[WepDamage.1d8]
        eachpick.field[wpProf].value = maximum(eachpick.field[wpProf].value, 2)
        nexteach

      ~add proficiency with our selected arena weapon
      perform field[usrChosen1].chosen.forward[WeaponProf.?]

      ~no AC bonus if we wear heavy armor
      doneif (hero.haschild[Armor,"Equipped.Equipped & ArmorCat.Heavy"] <> 0)

      ~we get +1 to +3 to AC, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defAC,trtClass,bonus,""]]]>
      <before name="Arena Training #2"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fFtrBatVig" name="Battlerager Vigor" description="Whenever you hit an enemy with a melee or a close attack, you gain temporary hit points equal to your Constitution modifier, plus any temporary hit points normally granted by the power. You gain the hit points only after the attack is resolved.{br}If you use an invigorating fighter attack power and miss every target with it, you gain temporary hit points equal to your Constitution modifier.{br}When wearing light armor or chainmail, you gain a +1 bonus to damage rolls with melee and close weapon attacks whenever you have temporary hit points. This bonus increases to +2 if you&apos;re wielding an axe, a hammer, a mace, or a pick." compset="BuildOpt">
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    </thing>
  <thing id="fFtrBraSty" name="Brawler Style" description="While you wield a weapon in your primary hand and your off hand is free or grabbing a creature, you gain a +1 bonus to AC and a +2 bonus to Fortitude.{br}{br}In addition, you gain a +2 enhancement bonus to the attack rolls of unarmed attacks and a +2 bonus to the attack rolls of grab attacks and attacks to move a creature you&apos;re grabbing. These bonuses increase to +4 at 11th level and +6 at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      if (#level[] <= 10) then
        bonus = 2
      elseif (#level[] <= 20) then
        bonus = 4
      else
        bonus = 6
        endif
      perform hero.child[wpUnarmed].field[wpBonus].modify[+,bonus,""]

      ~check if we're wielding a weapon in our main hand, but not in our off-
      ~hand
      var mainhand as number
      var offhand as number
      foreach pick in hero from WeapMelee
        if (eachpick.tagis[Helper.EqpMain] <> 0) then
          mainhand = 1
          endif
        if (eachpick.tagis[Helper.EqpOff] <> 0) then
          offhand = 1
          endif
        nexteach
      doneif (mainhand + !offhand <> 2)

      ~+1 to AC, +2 to fort
      #traitmodify[defAC,trtBonus,1,""]
      #traitmodify[defFort,trtBonus,2,""]]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fFtrOneWea" name="One-handed Weapon Talent" description="When using a one-handed weapon, you gain a +1 bonus to weapon attack rolls." compset="BuildOpt">
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~+1 to all attacks with one-handed weapons if chosen
      foreach pick in hero from WeaponBase where "!Equipment.TwoHand"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fFtrTemTec" name="Tempest Technique" description="When you wield two melee weapons, you gain a +1 bonus to attack rolls with weapons that have the offhand property. You gain Two-Weapon Defense as a bonus feat, even if you don&apos;t meet the prerequisites.{br}When wearing light armor or chainmail, you gain a +1 bonus to damage rolls with melee and close weapon attacks when you are wielding two weapons. This bonus increases to +2 with weapons that have the off-hand property." compset="BuildOpt">
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    <bootstrap thing="ftTwoWeDef">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~check if we're wielding 2 weapons - if not, do nothing
      var mainhand as number
      var offhand as number
      foreach pick in hero from WeapMelee
        if (eachpick.tagis[Helper.EqpMain] <> 0) then
          mainhand = 1
          endif
        if (eachpick.tagis[Helper.EqpOff] <> 0) then
          offhand = 1
          endif
        nexteach
      doneif (mainhand + offhand <> 2)

      ~off-hand weapons get +1 to hit
      foreach pick in hero from WeapMelee where "WepProp.OffHand"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~if we're wearing anything heavier than light armor or chainmail, get out
      ~now
      foreach pick in hero from Armor where "Equipped.Equipped"
        doneif (eachpick.tagis[ArmorCat.Light] + eachpick.tagis[ArmorType.arChainmai] = 0)
        nexteach

      ~we get +1 to melee weapon damage (+2 to off-hand weapons)
      foreach pick in hero from WeapMelee
        if (eachpick.tagis[WepProp.OffHand] <> 0) then
          perform eachpick.field[wpDamage].modify[+,2,""]
        else
          perform eachpick.field[wpDamage].modify[+,1,""]
          endif
        nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fFtrTwoWea" name="Two-handed Weapon Talent" description="When using a two-handed weapon, you gain a +1 bonus to weapon attack rolls." compset="BuildOpt">
    <tag group="BuildOpt" tag="fFtrFigTal"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~+1 to all attacks with two-handed weapons if chosen
      foreach pick in hero from WeaponBase where "Equipment.TwoHand"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fArdHArMan" name="Ardent Mantle (hybrid)" description="This class feature functions as the ardent class feature, except that you don&apos;t gain the power associated with the mantle you choose." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fArdHArMan)"/>
    <tag group="HasFeature" tag="fArdArdMan"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fArdHMaCla" name="Mantle of Clarity (Hybrid)" description="You and each ally within 5 squares of you gain a bonus to all defenses against opportunity attacks. The bonus equals your Wisdom modifier. In addition, each ally within 5 squares of you gains a +2 bonus to Insight checks and Perception checks. (If a character is in the radius of more than one Mantle of Clarity, the bonuses are not cumulative. Only the highest ones apply to him or her.)" compset="BuildOpt">
    <tag group="BuildOpt" tag="fArdHArMan"/>
    <tag group="HasFeature" tag="fArdManCla"/>
    </thing>
  <thing id="fArdHMaEla" name="Mantle of Elation (Hybrid)" description="You and each ally within 5 squares of you gain a bonus to damage rolls for opportunity attacks. The bonus equals your Constitution modifier.{br}In addition, each ally within 5 squares of you gains a +2 bonus to Diplomacy checks and Intimidate checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fArdHArMan"/>
    <tag group="HasFeature" tag="fArdManEla"/>
    </thing>
  <thing id="fArdHArSur" name="Ardent Surge (hybrid)" description="You gain the ardent power ardent surge. The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fArdHPsAug" name="Psionic Augmentation (hybrid)" description="This class feature functions as the class feature, except that your power point total varies depending on your selection of powers. See &quot;Psionic Augmentation and Hybrid Characters&quot; in the glossary to determine the number of power points you have." compset="ClassFeat">
    <tag group="HasFeature" tag="fArdPsiAug"/>
    </thing>
  <thing id="tArdHArArm" name="Ardent Armor Proficiency" description="You gain proficiency with leather armor, hide armor, and chainmail." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tArdHMaPow" name="Mantle Power" description="You gain the power associated with the Ardent Mantle option you chose." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~if we chose Mantle of Clarity, activate our Ardent Alacrity power,
      ~otherwise we get Ardent Outrage
      if (hero.child[fArdHMaCla].tagis[Helper.ChosenOpt] <> 0) then
        perform hero.child[pArdArdAla].assign[Helper.ChosenOpt]
      else
        perform hero.child[pArdArdOut].assign[Helper.ChosenOpt]
        endif]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fArtHHeInf" name="Healing Infusion (hybrid)" description="This class feature functions as the artificer class feature, except that you can create only one healing infusion at the end of each extended rest." compset="ClassFeat">
    <tag group="HasFeature" tag="fArtHeaInf"/>
    </thing>
  <thing id="tArtHArEmp" name="Arcane Empowerment" description="Your study of magic has given you the ability to manipulate the arcane energy contained within items. You begin each day with the ability to empower a magic item, and you gain one additional arcane empowerment for each milestone you reach. You must spend a short rest with an item in order to empower it. You can empower an item in two ways." compset="HybridTal"></thing>
  <thing id="tArtHArRej" name="Arcane Rejuvenation" description="Before combat, an artificer spends time infusing his or her allies&apos; magic items with curative energy. Whenever one of the artificer&apos;s allies uses a magic item&apos;s daily power, that ally absorbs the energy and gains temporary hit points equal to one-half your level + your Intelligence modifier." compset="HybridTal"></thing>
  <thing id="tAsnHGuTra" name="Guild Training (Hybrid)" description="Assassins gain their abilities by following a training regimen developed by a particular guild. Even an assassin taught by an individual master studies a set of teachings that were once developed by a guild.{br}{br}Assassins&apos; guilds claim towns and other territories as their hunting grounds. Nonguild assassins who seek to practice their art must first gain the permission of the local grandmaster of assassins. In some areas, particularly large cities that have many potential contracts, two guilds go to war for control of the slayers&apos; trade. In that situation, you must choose a side or face the wrath of both factions.{br}{br}Choose a method of training. The choice you make gives you the benefit described below and also provides bonuses to certain assassin powers, as detailed in those powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fAsnGuiTra)"/>
    </thing>
  <thing id="tAsnHShFor" name="Shade Form" description="You gain the shade form power. When you gave part of your soul to the Shadowfell, the power of that dark realm fused with your material form. As a result, you can assume a shadowy form that allows you to pass through barriers and evade enemies that you could not normally avoid.{br}{br}When you adopt this form, you blur, your skin becomes gray, and all the gear you carry and the clothes you wear adopt similarly dull colors. Your eyes lose their pupils, becoming blank, white orbs. You cannot damage your foes without returning to your normal form, which prevents you from doing more than maneuvering in for the kill against your enemies." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pAsnShaFor">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tAsnHShSte" name="Shadow Step" description="You gain the shadow step power. The shadow energy surrounding every creature touches the Shadowfell slightly, for the realm of death is a creature&apos;s eventual destination. You have the ability to walk the shadow pathways from one creature to another." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pAsnShaSte">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tAveHArFai" name="Armor of Faith" description="The favor of your deity wards you from harm. While you are wearing cloth armor or no armor and aren&apos;t using a shield, you gain a +3 bonus to AC." compset="HybridTal">
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~+3 to AC if wearing armor no better than cloth, and no shield
      if (hero.haschild[ArmorBase,"Equipped.Equipped & (!ArmorType.arClothArm | Armory.Shield)"] = 0) then
        perform hero.child[defAC].field[trtClass].modify[+,3,""]
        endif]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tAveHAvCen" name="Avenger&apos;s Censure (Hybrid)" description="This class feature functions as the avenger class feature, except that the bonus to damage rolls applies only to your avenger powers and avenger paragon path powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fAveAveCen)"/>
    </thing>
  <thing id="tAveHChDiv" name="Channel Divinity (Abjure Undead)" description="This class feature functions as the avenger class feature, except that you start with a single avenger Channel Divinity power of your choice." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pAveAbjUnd">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBbnHRampa" name="Rampage" description="Once per round, when you score a critical hit with a barbarian attack power, you can immediately make a melee basic attack as a free action. You do not have to attack the same target that you scored a critical hit against." compset="ClassFeat"></thing>
  <thing id="tBbnHBaArm" name="Barbarian Armored Agility" description="You gain the Barbarian Agility class feature. You also gain proficiency with leather armor and hide armor." compset="HybridTal">
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~no bonus if we wear heavy armor
      doneif (hero.haschild[Armor,"Equipped.Equipped & ArmorCat.Heavy"] <> 0)

      ~we get +1 to +3 to AC and Reflex, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defAC,trtClass,bonus,""]
      #traitmodify[defRef,trtClass,bonus,""]]]>
      <after name="Disable class feature"/>
      </eval>
    <eval phase="Setup" priority="1000" index="2">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tBbnHFeMig" name="Feral Might" description="Barbarians connect with the natural world in a variety of ways. Some barbarians grow so hardened to physical punishment that they find it easier to simply absorb, rather than avoid, attacks. Others are living examples of the power of one&apos;s will to shape one&apos;s fate. Choose one of the following options. The choice you make gives you the benefit described below and also provides bonuses to certain barbarian powers, as detailed in those powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBbnFerMig)"/>
    </thing>
  <thing id="fBrdHMaWor" name="Majestic Word (hybrid)" description="You gain the bard power majestic word. The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat"></thing>
  <thing id="fBrdHSkVer" name="Skill Versatility" description="You gain a +1 bonus to untrained skill checks." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      ~Bardic Skill Versatility - +1 to untrained skills
      foreach pick in hero from Skill where "!Helper.Trained?"
        perform eachpick.field[trtClass].modify[+,1,""]
        nexteach]]>
      <before name="Derived trtFinal"/>
      <after name="Helper.Trained set"/>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tBrdHBaArm" name="Bard Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, and light shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apShieldLg]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tBrdHBaVir" name="Bardic Virtue" description="Bards praise many virtues in their stories, telling tales of people whose particular qualities set them above common folk. The valor of dauntless heroes and the cunning of great minds are among these virtues, and a bard can choose to emphasize either quality.{br}Choose one of the following options. The choice you make gives you the benefit described below and also provides bonuses to certain bard powers, as detailed in those powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBrdBarVir)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="tBrdHSoRes" name="Song of Rest" description="When you play an instrument or sing during a short rest, you and each ally who can hear you are affected by your Song of Rest. When an affected character spends healing surges at the end of the rest, that character regains additional hit points equal to your Charisma modifier with each healing surge. A character can be affected by only one Song of Rest at a time." compset="HybridTal"></thing>
  <thing id="tBrdHWoFri" name="Words of Friendship" description="You gain the words of friendship power." compset="HybridTal">
    <bootstrap thing="pBrdWorFri">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fBmnHPsAug" name="Psionic Augmentation (hybrid)" description="This class feature functions as the class feature, except that your power point total varies depending on your selection of powers. See &quot;Psionic Augmentation and Hybrid Characters&quot; in the glossary to determine the number of power points you have." compset="ClassFeat">
    <tag group="HasFeature" tag="fArdPsiAug"/>
    </thing>
  <thing id="fBmnHPsDef" name="Psionic Defense (hybrid)" description="This class feature functions as the battlemind class feature, except that you must choose either blurred step or mind spike." compset="ClassFeat">
    <fieldval field="usrCandid1" value="thingid.pBmnBluSte | thingid.pBmnMinSpi"/>
    <tag group="Hide" tag="Special"/>
    <tag group="HasFeature" tag="fBmnPsiDef"/>
    </thing>
  <thing id="tBmnHBaArm" name="Battlemind Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, scale armor, light shields, and heavy shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apScale]
      perform hero.assign[ArmorProf.apShieldLg]
      perform hero.assign[ArmorProf.apShieldHv]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tBmnHPsStu" name="Psionic Study (Hybrid)" description="Battleminds learn to fight using their bodies as weapons. Some battleminds alter their own form to fit their needs. Other battleminds use their psionic power to predict the best position for launching an attack.{br}Choose one of these options." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBmnPsiStu)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fClrHHeLor" name="Healer&apos;s Lore" description="When you restore hit points to a creature by using a cleric power that has the healing keyword, add your Wisdom modifier to the hit points regained, but only if the healing involves the creature spending a healing surge." compset="ClassFeat"></thing>
  <thing id="fClrHHeWor" name="Healing Word (hybrid)" description="You gain the power healing word. The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat"></thing>
  <thing id="tClrHChDiv" name="Channel Divinity (Divine Fortune)" description="This class feature functions as the cleric class feature, except that you start with a single cleric Channel Divinity power of your choice." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pClrDivFor">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tClrHClArm" name="Cleric Armor Proficiency" description="You gain proficiency with leather armor, hide armor, and chainmail." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fDrdHWiSha" name="Wild Shape" description="As a druid, you have the ability to channel the primal energy of beasts into your physical form and transform into a beast. You have an at-will power, wild shape, that allows you to assume the form of a beast, and many druid powers have the beast form keyword and therefore can be used only while you are in beast form.{br}The wild shape power lets you assume a form of your size that resembles a natural or a fey beast, usually a four-legged mammalian predator such as a bear, a boar, a panther, a wolf, or a wolverine. Your beast form might also be an indistinct shape of shadowy fur and claws, an incarnation of the Primal Beast of which all earthly beasts are fractured images. You choose a specific form whenever you use wild shape, and that form has no effect on your game statistics.{br}Your choice of Primal Aspect might suggest a specific form you prefer to assume, and certain beast form powers specify changes to your form when you use them. You might also resemble a more exotic beast when you&apos;re in beast form: a reptile such as a rage drake or a crocodile, or a fantastic beast such as an owlbear or a bulette." compset="ClassFeat"></thing>
  <thing id="tDrdHDrArm" name="Druid Armor Proficiency" description="You gain proficiency with leather armor and hide armor." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tDrdHPrAsp" name="Primal Aspect" description="Druidic lore speaks of the Primal Beast, the first spirit of the world&apos;s noble predators. A formless thing of shadows, fur, feathers, and claws, this creature appears in many druids&apos; visions, and they speak of channeling the Primal Beast when using their wild shape and beast form powers. As a druid, you choose which aspect of the Primal Beast you most strongly manifest with your powers.{br}Choose one of these options. Your choice provides bonuses to certain druid powers, as detailed in those powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fDrdPriAsp)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fFtrHCoCha" name="Combat Challenge (hybrid)" description="Every time you attack an enemy with your fighter powers or your fighter paragon path powers, whether the attack hits or misses, you can choose to mark that target. The mark lasts until the end of your next turn. While a target is marked, it takes a -2 penalty to attack rolls if its attack doesn&apos;t include you as a target. A creature can be subject to only one mark at a time. A new mark supersedes a mark that was already in place.{br}In addition, you gain the Combat Challenge power." compset="ClassFeat">
    <fieldval field="usrCandid1" value=""/>
    <tag group="HasFeature" tag="fFtrComCha"/>
    </thing>
  <thing id="tFtrHCoSpe" name="Combat Specialty" description="When you select this option, you choose one of the following class features." compset="HybridTal"></thing>
  <thing id="tFtrHFiArm" name="Fighter Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, scale armor, light shields, and heavy shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apScale]
      perform hero.assign[ArmorProf.apShieldLg]
      perform hero.assign[ArmorProf.apShieldHv]</eval>
    </thing>
  <thing id="tFtrHFiCom" name="Fighter Combat Talent" description="When you select this option, you choose one of the following class features." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fFtrFigTal)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fInvHCoMan" name="Covenant Manifestation" description="You gain the Covenant Manifestation of a Divine Covenant of your choice." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fInvDivCov)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="tInvHChDiv" name="Channel Divinity (Rebuke Undead)" description="This class feature functions as the invoker class feature, except that you start with a single Channel Divinity power. That power is the Channel Divinity power associated with the same Divine Covenant as your Covenant Manifestation." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pInvRebUnd">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tInvHInArm" name="Invoker Armor proficiency" description="You gain proficiency with leather armor, hide armor, and chainmail." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]</eval>
    </thing>
  <thing id="fMnkHMoTra" name="Monastic Tradition (hybrid)" description="Choose a Monastic Tradition option. You gain only the Flurry of Blows power associated with that option. Your Flurry of Blows power is triggered only when you hit with a monk power or monk paragon path power during your turn. You are considered to have that option for the purpose of meeting prerequisites." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fMnkHMoTra)"/>
    <tag group="HasFeature" tag="fMnkMonTra"/>
    </thing>
  <thing id="fMnkHCeBre" name="Centered Breath (Hybrid)" description="The Centered Breath tradition focuses on honing your mental awareness to better harness psionic magic. This tradition teaches that only by controlling yourself can you control your environment. The tradition&apos;s adherents are typically ascetics, whose monasteries stand in quiet corners of the world where the monks can train and study without distraction. In some of these monasteries, speech is forbidden except for one hour each day.{br}Flurry of Blows: You gain the centered flurry of blows power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkHMoTra"/>
    <tag group="HasFeature" tag="fMnkCenBre"/>
    <bootstrap thing="pMnkCenFlu">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)
      doneif (hero.child[tMnkHExTra].activated = 0)

      ~we get +1 to +3 to Fortitude, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defFort,trtClass,bonus,""]]]></eval>
    </thing>
  <thing id="fMnkHStFis" name="Stone Fist (Hybrid)" description="The Stone Fist tradition is one of physical mastery, relentless exercise, and athletic perfection. Its adherents seek to master their bodies, turning themselves into living weapons capable of supernatural feats of strength, agility, and speed. Monks of the Stone Fist prefer to study among the trappings of civilization. Some Stone Fist monasteries are small schools built in towns and villages, where students work as laborers and artisans when they aren&apos;t training. Other Stone Fist monasteries stand in the most forbidding regions of the world - from the bitter cold of the tundra to the edge of a rumbling volcano - to test their students&apos; endurance day after day.{br}Flurry of Blows: You gain the stone fist flurry of blows power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fMnkHMoTra"/>
    <tag group="HasFeature" tag="fMnkStoFis"/>
    <bootstrap thing="pMnkStoFis">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)
      doneif (hero.child[tMnkHExTra].activated = 0)

      ~we get +1 to +3 to Will, depending on level
      var bonus as number
      if (#level[] <= 10) then
        bonus = 1
      elseif (#level[] <= 20) then
        bonus = 2
      else
        bonus = 3
        endif
      #traitmodify[defWill,trtClass,bonus,""]]]></eval>
    </thing>
  <thing id="tMnkHExTra" name="Expanded Tradition" description="You gain all the features associated with your Monastic Tradition." compset="HybridTal"></thing>
  <thing id="tMnkHUnCom" name="Unarmed Combatant" description="You can make unarmed attacks with much greater effectiveness than most combatants can. When you make a weapon attack such as a melee basic attack, you can use the monk unarmed strike, which is a weapon in the unarmed weapon group. This weapon has the off-hand weapon property and a +3 proficiency bonus, and it deals 1d8 damage. You must have a hand free to use your monk unarmed strike, even if you&apos;re kicking, kneeing, elbowing, or head-butting a target. Also, your monk unarmed strike can benefit from a magic ki focus if you have one (see &quot;Implements&quot; below)." compset="HybridTal">
    <eval phase="Setup" priority="1000" name="Monk Unarmed Strike Upgrade"><![CDATA[
      doneif (activated = 0)

      ~modify our unarmed attack
      perform hero.child[wpUnarmed].setfocus
      perform focus.delete[WepDamage.?]
      perform focus.assign[WepDamage.1d8]
      focus.field[wpProf].value += 3
      perform focus.assign[WepProp.OffHand]
      focus.field[livename].text = "Monk Unarmed Strike"]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tMnkHUnDef" name="Unarmored Defense" description="While you are wearing cloth armor or no armor and aren&apos;t using a shield, you gain a +2 bonus to AC." compset="HybridTal">
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~if we're wearing anything heavier than cloth armor or using a shield, we
      ~don't get a bonus
      doneif (hero.haschild[Armor,"Equipped.Equipped & !ArmorType.arClothArm"] <> 0)
      doneif (hero.haschild[Shield,"Equipped.Equipped"] <> 0)

      ~we get +2 to AC
      #traitmodify[defAC,trtBonus,2,""]]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="tPalHChDiv" name="Channel Divinity (Divine Strength)" description="This class feature functions as the paladin class feature, except that you start with a single paladin Channel Divinity power of your choice." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pPalDivStr">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tPalHPaArm" name="Paladin Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, scale armor, plate armor, light shields, and heavy shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apScale]
      perform hero.assign[ArmorProf.apPlate]
      perform hero.assign[ArmorProf.apShieldLg]
      perform hero.assign[ArmorProf.apShieldHv]</eval>
    </thing>
  <thing id="fPsiHDiFoc" name="Discipline Focus (hybrid)" description="Choose a Discipline Focus option. If you choose Telekinesis Focus, you gain the far hand power. If you choose Telepathy Focus, you gain the send thoughts power." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fPsiHDiFoc)"/>
    <tag group="HasFeature" tag="fPsiDisFoc"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fPsiHTeFoc" name="Telekinesis Focus (Hybrid)" description="You gain the power far hand." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPsiHDiFoc"/>
    <tag group="HasFeature" tag="fPsiTelFoc"/>
    </thing>
  <thing id="fPsiHTeHyb" name="Telepathy Focus (Hybrid)" description="You gain the power send thoughts." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPsiHDiFoc"/>
    <tag group="HasFeature" tag="fPsiTptFoc"/>
    </thing>
  <thing id="fPsiHPsAug" name="Psionic Augmentation (hybrid)" description="This class feature functions as the class feature, except that your power point total varies depending on your selection of powers. See &quot;Psionic Augmentation and Hybrid Characters&quot; in the glossary to determine the number of power points you have." compset="ClassFeat">
    <tag group="HasFeature" tag="fArdPsiAug"/>
    </thing>
  <thing id="tPsiHExDis" name="Expanded Discipline Focus" description="If you have Telekinesis Focus, you gain the forceful push power. If you have Telepathy Focus, you gain the distract power." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~if we chose TK Focus, activate our Forceful Push power,
      ~otherwise we get Distract
      if (hero.child[fPsiHTeFoc].tagis[Helper.ChosenOpt] <> 0) then
        perform hero.child[pPsiForPus].assign[Helper.ChosenOpt]
      else
        perform hero.child[pPsiDistra].assign[Helper.ChosenOpt]
        endif]]></eval>
    </thing>
  <thing id="fRgrHHuQua" name="Hunter&apos;s Quarry (hybrid)" description="This class feature functions as the ranger class feature, except that you can deal the extra damage only when you hit your quarry with a ranger power or a ranger paragon path power." compset="ClassFeat"></thing>
  <thing id="tRgrHRaArm" name="Ranger Armor Proficiency" description="You gain proficiency with leather armor and hide armor." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]</eval>
    </thing>
  <thing id="tRgrHRaCom" name="Ranger Combat Talent" description="When you select this option, you choose one of the following class features.{br}Prime Shot: This class feature functions exactly as the ranger class feature.{br}Running Attack: This class feature functions exactly as the ranger class feature." compset="HybridTal">
    <fieldval field="usrCandid1" value="thingid.fRgrPriSho | thingid.fRgrRunAtt"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="tRgrHRaFig" name="Ranger Fighting Style" description="When you select this option, you can choose one of the following class features." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRgrFigSty)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fRogHSnAtt" name="Sneak Attack (hybrid)" description="This class feature functions as the rogue class feature, except that you can deal the extra damage only when you hit with a rogue power or a rogue paragon path power." compset="ClassFeat">
    <tag group="HasFeature" tag="fRogSneAtt"/>
    </thing>
  <thing id="tRogHFiStr" name="First Strike" description="At the start of every encounter, you have combat advantage against any creatures that have not yet acted in that encounter." compset="HybridTal"></thing>
  <thing id="tRogHRoCom" name="Rogue Combat Talent" description="When you select this option, you choose one of the following class features." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      ~add +1 to attacks with daggers
      foreach pick in hero from WeaponBase where "thingid.wpDagger"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~increase shuriken damage by one die
      foreach pick in hero from WeaponBase where "thingid.wpShuriken"
        perform eachpick.field[wpDamDice].modify[+,1,""]
        nexteach]]></eval>
    </thing>
  <thing id="tRogHRoTac" name="Rogue Tactics (Hybrid)" description="Rogues operate in a variety of ways. Some rogues use their natural charm and cunning trickery to deceive foes. Others rely on brute strength to overcome their enemies. {br}Choose one of the following tactics below. The choice you make also provides bonuses to certain rogue powers. Individual powers detail the effects (if any) your Rogue Tactics selection has on them." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRogRogTac)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fRnpHRuMen" name="Rune Of Mending (hybrid)" description="You gain the runepriest power rune of mending. The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat">
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fRnpHRuArt" name="Runic Artistry" description="Runepriests follow one of the major traditions of rune magic: the path of the Wrathful Hammer, the way of the Defiant Word or the tradition of the Serene Blade." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRnpHRuArt)"/>
    </thing>
  <thing id="fRnpHDeWor" name="Defiant Word" description="Whenever an enemy misses you with an attack, you gain a bonus to damage rolls against that enemy until the end of your next turn. The bonus equals your Wisdom modifier, regardless of the number of times the enemy misses you in a round." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpHRuArt"/>
    </thing>
  <thing id="fRnpHSeBla" name="Serene Blade" description="You gain proficiency with all one-handed and two-handed military heavy blades. While you are not wearing heavy armor, you can use your Wisdom modifier in place of your Dexterity or Intelligence modifier to determine your AC. Once per round immediately after an enemy deals damage to you with an attack, you gain temporary hit points equal to your Wisdom modifier. The number of temporary hit points increases to 5 + your Wisdom modifier at 11th level and 10 + your Wisdom modifier at 21st level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpHRuArt"/>
    </thing>
  <thing id="fRnpHWrHam" name="Wrathful Hammer" description="You gain proficiency with military hammers and military maces. In addition, whenever an enemy deals damage to you with an attack, you gain a bonus to damage rolls against that enemy until the end of your next turn. The bonus equals your Constitution modifier, regardless of the number of times the enemy damages you in a round." compset="BuildOpt">
    <tag group="BuildOpt" tag="fRnpHRuArt"/>
    </thing>
  <thing id="tRnpHRuMas" name="Rune Master" description="Some of your powers have the runic keyword. When you are going to use a runic power, you first choose one of the runes noted in the power - either the rune of destruction or the rune of protection - and then use the power, applying the chosen rune&apos;s effects. The moment you choose the rune, you enter its rune state. You remain in that rune state until you enter another rune state or until the end of the encounter. Whenever you enter the rune state of the rune of destruction or the rune of protection, you gain an additional benefit. The benefit lasts while you&apos;re in the rune state." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fRnpRunMas)"/>
    </thing>
  <thing id="tRnpHRuArm" name="Runepriest Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, scale armor, and light shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apScale]
      perform hero.assign[ArmorProf.apShieldLg]</eval>
    </thing>
  <thing id="fSekHInSho" name="Inevitable Shot (hybrid)" description="You gain the seeker power inevitable shot. The power functions as normal, except that it is triggered only by ranged attacks from seeker powers and seeker paragon path powers." compset="ClassFeat"></thing>
  <thing id="fSekHSeBon" name="Seeker&apos;s Bond (hybrid)" description="Choose one of the Seeker&apos;s Bond options. You gain only the power associated with that option, and you can use the power only once per day. You are also considered to have that option for the purpose of meeting prerequisites and using the benefits tailored for it in certain powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSekHSeBon)"/>
    <tag group="HasFeature" tag="fSekSeeBon"/>
    </thing>
  <thing id="fSekHBlHyb" name="Bloodbond (Hybrid)" description="You gain the encaging spirits power. You can use the power only once per day. You are also considered to have Bloodbond for the purpose of meeting prerequisites and using the benefits tailored for it in certain powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSekHSeBon"/>
    <tag group="HasFeature" tag="fSekBloodb"/>
    <bootstrap thing="pSekEncSpi">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fSekHSpHyb" name="Spiritbond (Hybrid)" description="You gain the spirits&apos; rebuke power.  You can use the power only once per day. You are also considered to have Spiritbond for the purpose of meeting prerequisites and using the benefits tailored for it in certain powers." compset="BuildOpt">
    <tag group="BuildOpt" tag="fSekHSeBon"/>
    <tag group="HasFeature" tag="fSekSpirit"/>
    <bootstrap thing="pSekSpiReb">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)
      doneif (hero.child[tSekHTrSee].activated = 0)

      ~+1 to all attacks with light and heavy thrown weapons
      foreach pick in hero from WeaponBase where "WepProp.HeavyThrow | WepProp.LightThrow"
        perform eachpick.field[wpBonus].modify[+,1,""]
        nexteach

      ~can use str/dex/int for AC if not in heavy armor
      perform hero.findchild[Armor,"Equipped.Equipped & ArmorCat.Heavy"].setfocus
      if (state.isfocus = 0) then
        perform hero.child[defAC].assign[LinkAttr.attrStr]
        endif]]></eval>
    </thing>
  <thing id="tSekHTrSee" name="True Seeker&apos;s Bond" description="You gain the rest of the benefits of the Seeker&apos;s Bond option you chose (except that you can still use the power only once per day)." compset="HybridTal"></thing>
  <thing id="fShmHHeSpi" name="Healing Spirit (hybrid)" description="You gain the shaman power healing spirit.  The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat"></thing>
  <thing id="tShmHSpBoo" name="Spirit Boon (Hybrid)" description="You gain the Spirit Boon of the Companion Spirit option you chose." compset="HybridTal">
    <fieldval field="usrCandid1" value="component.Attribute"/>
    </thing>
  <thing id="tShmHSpPow" name="Spirit&apos;s Power" description="You gain the opportunity action power of the Companion Spirit option you chose." compset="HybridTal">
    <eval phase="Setup" priority="1000"><![CDATA[
      ~This works weirdly - normally a hybrid shaman does NOT have the spirit
      ~power of his spirit, but if he chooses this talent, he does. So if we
      ~are NOT chosen, hide the spirit power on the special tab.
      doneif (tagis[Helper.ChosenOpt] <> 0)

      if (hero.picklives[pShmSpiFan] <> 0) then
        perform hero.child[pShmSpiFan].assign[Hide.Special]
        endif
      if (hero.picklives[pShmSpiShi] <> 0) then
        perform hero.child[pShmSpiShi].assign[Hide.Special]
        endif]]></eval>
    </thing>
  <thing id="fSorHSoPow" name="Sorcerous Power" description="You gain a bonus to the damage rolls of sorcerer powers and sorcerer paragon path powers equal to your Strength or Dexterity modifier. This bonus increases by 2 at 11th level and by 2 again at 21st level.{br}You choose which modifier to use when you make your character. If you choose Strength, you can use your Strength modifier in place of your Dexterity or Intelligence modifier to determine your AC while you are not wearing heavy armor." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.Attribute) &amp; (thingid.attrStr | thingid.attrDex)"/>
    <tag group="Hide" tag="Special"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      perform field[usrChosen1].chosen.setfocus
      doneif (state.isfocus = 0)

      var bonus as number
      if (focus.tagis[thingid.attrStr] <> 0) then
        bonus = #attrbasebonus[attrStr]
        perform hero.child[defAC].assign[LinkAttr.attrStr]
      else
        bonus = #attrbasebonus[attrDex]
        endif

      if (#level[] >= 21) then
        bonus += 4
      elseif (#level[] >= 11) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsSorcere"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="tSorHSoSor" name="Soul of the Sorcerer" description="Choose one of the following class features: Dragon Soul, Soul of the Cosmic Cycle, Storm Soul, or Wild Soul. You gain that class feature, and you are considered to have the associated Spell Source for the purpose of meeting prerequisites and using the benefits tailored for it in certain powers." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSorSpeSou)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSmgHSword" name="Swordbond" description="By spending 1 hour of meditation with a chosen light or heavy blade, you forge a special bond with the weapon. As a standard action, you can call your bonded weapon to your hand from up to 10 squares away.{br}{br}You can forge a bond with a different blade using the same meditation process (for instance, if you acquire a new blade that has magical abilities). If you forge a bond with a different blade, the old bond dissipates.{br}{br}If your bonded weapon is broken or damaged, you can spend 1 hour of meditation to recreate the weapon from a fragment. (This process automatically destroys any other fragments of the weapon in existence, so you can&apos;t use it to create multiple copies of a broken weapon.)" compset="ClassFeat"></thing>
  <thing id="fSmgHSwAeg" name="Swordmage Aegis (hybrid)" description="This class feature functions as the swordmage class feature, except that you can use the power that you choose only once per encounter. However, you regain the use of that power when its target drops to 0 hit points or when its mark is superseded by another mark." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSmgSwoAeg)"/>
    <tag group="HasFeature" tag="fSmgSwoAeg"/>
    </thing>
  <thing id="tSmgHSwWar" name="Swordmage Warding" description="While you are conscious and wielding either a light blade or a heavy blade, you maintain a field of magical force around you.{br}This field provides a +1 bonus to AC, or a +3 bonus if you are wielding a blade in one hand and have your other hand free (not carrying a shield, an off-hand weapon, a two-handed weapon, or anything else)." compset="HybridTal">
    <eval phase="Setup" priority="105"><![CDATA[
      doneif (activated = 0)

      ~if we're wielding a light blade or heavy blade, we get +1 to AC, or +3
      ~if our off-hand is free
      var isblade as number
      var isoffempty as number
      isblade = 0
      isoffempty = 1
      foreach pick in hero from WeapMelee where "!Hide.Weapon"
        if (eachpick.tagis[WepGroup.wgHeavyBl] + eachpick.tagis[WepGroup.wgLightBl] <> 0) then
          if (eachpick.tagis[Equipped.Equipped] <> 0) then
            isblade = 1
            endif
          endif
        if (eachpick.tagis[Helper.EqpOff] + eachpick.tagis[Helper.EqpBoth] <> 0) then
          isoffempty = 0
          endif
        nexteach
      if (isblade <> 0) then
        if (isoffempty <> 0) then
          #traitmodify[defAC,trtClass,3,""]
        else
          #traitmodify[defAC,trtClass,1,""]
          endif
        endif]]>
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fWrdHNaWra" name="Nature&apos;s Wrath (hybrid)" description="This class feature functions as the warden class feature, except that you mark only one adjacent enemy when you use the class feature&apos;s marking ability." compset="ClassFeat">
    <tag group="HasFeature" tag="fWrdNatWra"/>
    </thing>
  <thing id="tWrdHFoLif" name="Font of Life" description="At the start of your turn, you can make a saving throw against one effect that a save can end. On a save, the effect immediately ends, preventing it from affecting you on your current turn. If you save against being stunned or dazed, you can act normally on your turn. If you save against ongoing damage, you avoid taking the damage.{br}If you fail the saving throw, you still make a saving throw against the effect at the end of your turn." compset="HybridTal"></thing>
  <thing id="tWrdHWaArm" name="Warden&apos;s Armored Might" description="You gain the Guardian Might class feature. You also gain proficiency with leather armor and hide armor. You also gain proficiency with light shields and heavy shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="fWrdGuaMig">
      <containerreq phase="Setup" priority="95"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="1000"><![CDATA[
      doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apShieldLg]
      perform hero.assign[ArmorProf.apShieldHv]

      ~make sure Guardian's Might shows up where it's meant to
      perform hero.childfound[fWrdGuaMig].assign[ConfSource.Class]]]></eval>
    </thing>
  <thing id="fHWlkElPac" name="Eldritch Pact (hybrid)" description="This class feature functions as the warlock class feature, except that you don&apos;t gain the at-will attack power or the Pact Boon granted by it. This means you meet prerequisites that require the pact you choose, and you can use the benefits tailored for it in certain powers." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWlkEldPac)"/>
    </thing>
  <thing id="fWlkHWaCur" name="Warlock&apos;s Curse (hybrid)" description="This class feature functions as the warlock class feature, except that you can deal the extra damage only when you hit a cursed enemy with a warlock power or a warlock paragon path power." compset="ClassFeat"></thing>
  <thing id="tWlkHPrSho" name="Prime Shot" description="If none of your allies are nearer to your target than you are, you receive a +1 bonus to ranged attack rolls against that target. You do not gain this feature if you choose the Beast Mastery fighting style." compset="HybridTal"></thing>
  <thing id="tWlkHShWal" name="Shadow Walk" description="On your turn, if you move at least 3 squares away from where you started your turn, you gain concealment until the end of your next turn." compset="HybridTal"></thing>
  <thing id="tWlkHWaPac" name="Warlock Pact Boon" description="You gain the Pact Boon associated with your Eldritch Pact.{br}To select this option, you must have selected the at-will attack power associated with your pact. If you later retrain that power, you lose the benefit of this option." compset="HybridTal"></thing>
  <thing id="fWrlHInWor" name="Inspiring Word (hybrid)" description="You gain the warlord power inspiring word. The power functions as normal, except that you can use it only once per encounter." compset="ClassFeat"></thing>
  <thing id="fWrlHWaLea" name="Warlord Leadership" description="You choose one of the following class features." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWrlHWaLea)"/>
    </thing>
  <thing id="fWrlHBaLea" name="Battlefront Leader (Hybrid)" description="You gain proficiency with heavy shields, and you gain the battlefront shift power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlHWaLea"/>
    <tag group="HasFeature" tag="fWrlBatLea"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWrlBatShi">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    <eval phase="Setup" priority="500">doneif (activated = 0)

      perform hero.assign[ArmorProf.apShieldHv]
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWrlHCaLea" name="Canny Leader (Hybrid)" description="You and any ally within 10 squares of you who can see and hear you gain a +2 bonus to Insight checks and Perception checks." compset="BuildOpt">
    <tag group="BuildOpt" tag="fWrlHWaLea"/>
    <tag group="HasFeature" tag="fWrlCanLea"/>
    <eval phase="Setup" priority="500"><![CDATA[
      doneif (activated = 0)

      #traitmodify[skInsight,trtBonus,2,""]
      #traitmodify[skPercepti,trtBonus,2,""]]]>
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="fWrlHCoLea" name="Combat Leader (Hybrid)" description="You and each ally within 10 squares who can see and hear you gain a +2 power bonus to initiative." compset="BuildOpt">
    <fieldval field="usrCandid1" value=""/>
    <tag group="HasFeature" tag="fWrlComLea"/>
    <tag group="BuildOpt" tag="fWrlHWaLea"/>
    <eval phase="Setup" priority="500"><![CDATA[
      doneif (activated = 0)

      ~Combat Leader gives +2 to initiative
      #traitmodify[trInit,trtClass,2,""]]]>
      <after name="Disable class feature"/>
      <after name="Build option activated"/>
      </eval>
    </thing>
  <thing id="tWrlHCoPre" name="Commanding Presence (Hybrid)" description="This class feature functions as the warlord class feature, except that you can grant the benefit of your Commanding Presence option only once per encounter." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWrlComPre)"/>
    </thing>
  <thing id="tWrlHWaArm" name="Warlord Armor Proficiency" description="You gain proficiency with leather armor, hide armor, chainmail, and light shields." compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <eval phase="Setup" priority="1000">doneif (activated = 0)

      perform hero.assign[ArmorProf.apLeather]
      perform hero.assign[ArmorProf.apHide]
      perform hero.assign[ArmorProf.apChain]
      perform hero.assign[ArmorProf.apShieldLg]</eval>
    </thing>
  <thing id="fWizHCantr" name="Cantrips" description="You gain four cantrips of your choice." compset="ClassFeat"></thing>
  <thing id="tWizHArImp" name="Arcane Implement Mastery" description="You specialize in the use of one kind of implement to gain additional abilities when you wield it. Choose one of the following forms of implement mastery: Orb of Imposition, Staff of Defense, Tome of Binding, Tome of Readiness, Wand of Accuracy." compset="HybridTal">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fWizArcImp)"/>
    </thing>
  <thing id="tAveHChDiD" name="Channel Divinity (Divine Guidance)" compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pAveDivGui">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tClrHChDiT" name="Channel Divinity (Turn Undead)" compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pClrTurUnd">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tClrHChDiH" name="Channel Divinity (Healer&apos;s Mercy)" compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pClrHeaMer">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fFtrAreTr2" name="Arena Weapon" description="Select your second Arena Training weapon here." compset="ClassFeat">
    <fieldval field="usrCandid1" value="component.WeaponBase &amp; !Equipment.Natural &amp; !component.MagicItem &amp; !thingid.wpMagic?"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="User" tag="NeedChosen"/>
    <eval phase="Setup" priority="2000" name="Arena Training #2">doneif (activated = 0)

      ~make sure this appears in the list if active, and appears last like
      ~other build options
      perform assign[ConfSource.Class]
      perform assign[Helper.ChosenOpt]
      perform delete[BuildLast.NotBuild]

      ~add proficiency with our selected arena weapon
      perform field[usrChosen1].chosen.forward[WeaponProf.?]
      <after name="Disable class feature"/>
      </eval>
    </thing>
  <thing id="fHexWhiPac" name="White Well Pact Reward" description="You gain a bonus to the damage rolls of your warlock and warlock paragon path attack powers. The bonus equals your Dexterity modifier. The bonus increases to 2 + your Dexterity modifier at 5th level, 4 + your Dexterity modifier at 15th level, and 6 + your Dexterity modifier at 25th level. At 9th level, you also gain this bonus to the damage rolls of the creature you summon with summon warlock&apos;s ally." compset="BuildOpt">
    <tag group="BuildOpt" tag="fHexPacRew"/>
    <tag group="AtLevel" tag="1"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var bonus as number
      bonus = #attrbasebonus[attrDex]
      if (#level[] >= 25) then
        bonus += 6
      elseif (#level[] >= 15) then
        bonus += 4
      elseif (#level[] >= 5) then
        bonus += 2
        endif
      foreach pick in hero from Power where "PowerClass.clsWarlock"
        perform eachpick.field[pwDamBonus].modify[+,bonus,""]
        nexteach]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fHunRanWlB" name="Knack 2" description="Choose a second wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fHunRanWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="tInvHChDiM" name="Channel Divinity (Maledictor&apos;s Doom)" compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pInvMalDoo">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="MagMemEnc" name="Mage Encounter Memorize Power Mechanics" compset="Mechanics">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="3"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="4" value="3"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="5" value="3"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="6" value="3"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="7" value="7"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="8" value="7"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="9" value="7"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="10" value="7"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="11" value="7"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="12" value="7"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="13" value="13"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="14" value="13"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="15" value="13"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="16" value="13"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="17" value="17"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="18" value="17"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="19" value="17"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="20" value="17"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="21" value="17"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="22" value="17"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="23" value="23"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="24" value="23"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="25" value="23"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="26" value="23"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="27" value="27"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="27"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="28" value="27"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="27"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="29" value="27"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="27"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="30" value="27"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="27"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="27"/>
    <tag group="Mechanics" tag="MemEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="MagMemUti" name="Mage Utility Memorize Power Mechanics" compset="Mechanics">
    <arrayval field="ClPwrTable" index="2" value="2"/>
    <arrayval field="ClPwrTable" index="3" value="2"/>
    <arrayval field="ClPwrTable" index="4" value="2"/>
    <arrayval field="ClPwrTable" index="5" value="2"/>
    <arrayval field="ClPwrTable" index="6" value="6"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="7" value="6"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="8" value="6"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="9" value="6"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="6"/>
    <arrayval field="ClPwrTable" index="10" value="10"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="11" value="10"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="12" value="10"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="13" value="10"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="14" value="10"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="15" value="10"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="10"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="10"/>
    <arrayval field="ClPwrTable" index="16" value="16"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="16" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="17" value="16"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="17" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="18" value="16"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="18" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="19" value="16"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="19" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="20" value="16"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="20" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="21" value="16"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="16"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="16"/>
    <arrayval field="ClPwrTable" index="21" column="3" value="16"/>
    <arrayval field="ClPwrTable" index="22" value="22"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="22" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="22" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="23" value="22"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="23" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="23" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="24" value="22"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="24" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="24" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="25" value="22"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="25" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="25" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="26" value="22"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="26" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="26" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="27" value="22"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="27" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="27" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="28" value="22"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="28" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="28" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="29" value="22"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="29" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="29" column="4" value="22"/>
    <arrayval field="ClPwrTable" index="30" value="22"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="22"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="22"/>
    <arrayval field="ClPwrTable" index="30" column="3" value="22"/>
    <arrayval field="ClPwrTable" index="30" column="4" value="22"/>
    <tag group="Mechanics" tag="MemUtility"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="MagMemDai" name="Mage Daily Memorize Power Mechanics" compset="Mechanics">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="5"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="6" value="5"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="7" value="5"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="8" value="5"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="5"/>
    <arrayval field="ClPwrTable" index="9" value="9"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="10" value="9"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="11" value="9"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="12" value="9"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="13" value="9"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="14" value="9"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="9"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="9"/>
    <arrayval field="ClPwrTable" index="15" value="15"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="16" value="15"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="17" value="15"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="18" value="15"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="15"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="15"/>
    <arrayval field="ClPwrTable" index="19" value="19"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="20" value="19"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="21" value="19"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="22" value="19"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="23" value="19"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="24" value="19"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="19"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="19"/>
    <arrayval field="ClPwrTable" index="25" value="25"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="26" value="25"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="27" value="25"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="28" value="25"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="25"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="25"/>
    <arrayval field="ClPwrTable" index="29" value="29"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="29"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="29"/>
    <arrayval field="ClPwrTable" index="30" value="29"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="29"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="29"/>
    <tag group="Mechanics" tag="MemDaily"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fPalPalVow" name="Paladin Vow" description="Choose one of the following paladin vows." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fPalPalVow)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fPalVowArd" name="Ardent Vow" description="You gain the Ardent Vow power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPalPalVow"/>
    <bootstrap thing="pPalArdVow">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fPalVowVir" name="Virtue&apos;s Touch" description="You gain the Virtue&apos;s Touch power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPalPalVow"/>
    <bootstrap thing="pPalVirTou">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fPalVowLay" name="Lay on Hands" description="You gain the Lay on Hands power." compset="BuildOpt">
    <tag group="BuildOpt" tag="fPalPalVow"/>
    <bootstrap thing="pPalLayOn">
      <containerreq phase="Setup" priority="500"><![CDATA[fieldval:boActive <> 0]]>
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="tPalHChDiM" name="Channel Divinity (Divine Mettle)" compset="HybridTal">
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pPalDivMet">
      <containerreq phase="Setup" priority="200"><![CDATA[fieldval:htActive <> 0]]>
        <after name="Hybrid talent activated"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="mePsionAtW" name="Psion At-Will Power Mechanics" compset="Mechanics">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="1" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="2" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="3" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="4" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="5" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="1" value="1"/>
    <arrayval field="ClPwrTable" index="6" column="2" value="3"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="7" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="7" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="8" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="8" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="9" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="9" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="10" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="10" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="11" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="11" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="12" column="1" value="3"/>
    <arrayval field="ClPwrTable" index="12" column="2" value="7"/>
    <arrayval field="ClPwrTable" index="13" value="3"/>
    <arrayval field="ClPwrTable" index="13" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="13" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="14" value="3"/>
    <arrayval field="ClPwrTable" index="14" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="14" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="15" value="3"/>
    <arrayval field="ClPwrTable" index="15" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="15" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="16" value="3"/>
    <arrayval field="ClPwrTable" index="16" column="1" value="7"/>
    <arrayval field="ClPwrTable" index="16" column="2" value="13"/>
    <arrayval field="ClPwrTable" index="17" value="7"/>
    <arrayval field="ClPwrTable" index="17" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="17" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="18" value="7"/>
    <arrayval field="ClPwrTable" index="18" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="18" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="19" value="7"/>
    <arrayval field="ClPwrTable" index="19" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="19" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="20" value="7"/>
    <arrayval field="ClPwrTable" index="20" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="20" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="21" value="7"/>
    <arrayval field="ClPwrTable" index="21" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="21" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="22" value="7"/>
    <arrayval field="ClPwrTable" index="22" column="1" value="13"/>
    <arrayval field="ClPwrTable" index="22" column="2" value="17"/>
    <arrayval field="ClPwrTable" index="23" value="13"/>
    <arrayval field="ClPwrTable" index="23" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="23" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="24" value="13"/>
    <arrayval field="ClPwrTable" index="24" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="24" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="25" value="13"/>
    <arrayval field="ClPwrTable" index="25" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="25" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="26" value="13"/>
    <arrayval field="ClPwrTable" index="26" column="1" value="17"/>
    <arrayval field="ClPwrTable" index="26" column="2" value="23"/>
    <arrayval field="ClPwrTable" index="27" value="17"/>
    <arrayval field="ClPwrTable" index="27" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="27" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="28" value="17"/>
    <arrayval field="ClPwrTable" index="28" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="28" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="29" value="17"/>
    <arrayval field="ClPwrTable" index="29" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="29" column="2" value="27"/>
    <arrayval field="ClPwrTable" index="30" value="17"/>
    <arrayval field="ClPwrTable" index="30" column="1" value="23"/>
    <arrayval field="ClPwrTable" index="30" column="2" value="27"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="mePsionEnc" name="Psion Encounter Power Mechanics" compset="Mechanics">
    <tag group="Mechanics" tag="PwrEncount"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="fSctRanWlB" name="Knack 2" description="Choose a second wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSctRanWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fSenDruWlB" name="Druid Wilderness Knack 2" description="Choose a second wilderness knack." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fSenDruWil)"/>
    <tag group="AtLevel" tag="1"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="meShamaAtW" name="Shaman At-Will Power Mechanics" compset="Mechanics">
    <arrayval field="ClPwrTable" index="1" value="1"/>
    <arrayval field="ClPwrTable" index="2" value="1"/>
    <arrayval field="ClPwrTable" index="3" value="1"/>
    <arrayval field="ClPwrTable" index="4" value="1"/>
    <arrayval field="ClPwrTable" index="5" value="1"/>
    <arrayval field="ClPwrTable" index="6" value="1"/>
    <arrayval field="ClPwrTable" index="7" value="1"/>
    <arrayval field="ClPwrTable" index="8" value="1"/>
    <arrayval field="ClPwrTable" index="9" value="1"/>
    <arrayval field="ClPwrTable" index="10" value="1"/>
    <arrayval field="ClPwrTable" index="11" value="1"/>
    <arrayval field="ClPwrTable" index="12" value="1"/>
    <arrayval field="ClPwrTable" index="13" value="1"/>
    <arrayval field="ClPwrTable" index="14" value="1"/>
    <arrayval field="ClPwrTable" index="15" value="1"/>
    <arrayval field="ClPwrTable" index="16" value="1"/>
    <arrayval field="ClPwrTable" index="17" value="1"/>
    <arrayval field="ClPwrTable" index="18" value="1"/>
    <arrayval field="ClPwrTable" index="19" value="1"/>
    <arrayval field="ClPwrTable" index="20" value="1"/>
    <arrayval field="ClPwrTable" index="21" value="1"/>
    <arrayval field="ClPwrTable" index="22" value="1"/>
    <arrayval field="ClPwrTable" index="23" value="1"/>
    <arrayval field="ClPwrTable" index="24" value="1"/>
    <arrayval field="ClPwrTable" index="25" value="1"/>
    <arrayval field="ClPwrTable" index="26" value="1"/>
    <arrayval field="ClPwrTable" index="27" value="1"/>
    <arrayval field="ClPwrTable" index="28" value="1"/>
    <arrayval field="ClPwrTable" index="29" value="1"/>
    <arrayval field="ClPwrTable" index="30" value="1"/>
    <tag group="Mechanics" tag="PwrAtWill"/>
    <tag group="User" tag="NoBootMech"/>
    </thing>
  <thing id="clsSkald" name="Skald" compset="Class" uniqueness="unique">
    <fieldval field="clsSrcTxt" value="Arcane and Martial. You combine a strong tradition of martial training and expertise with arcane tricks that you pick up along the way."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="7"/>
    <fieldval field="clsSkills" value="4"/>
    <usesource source="HeroFeywil"/>
    <tag group="ClassRole" tag="Leader"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="Class" tag="clsBard"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skDiplomac"/>
    <tag group="Skill" tag="skDungeone"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="TrainSkill" tag="skArcana"/>
    <tag group="ArmorProf" tag="apChain"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcMilitary"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <tag group="WeaponProf" tag="wpLongswor"/>
    <tag group="WeaponProf" tag="wpScimitar"/>
    <tag group="WeaponProf" tag="wpShortswo"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <bootstrap thing="fBrdSkiVer"></bootstrap>
    <bootstrap thing="pBrdWorFri"></bootstrap>
    <bootstrap thing="fBrdSonRes"></bootstrap>
    <bootstrap thing="MagPwrDai"></bootstrap>
    <bootstrap thing="fSkaMasSto"></bootstrap>
    <bootstrap thing="fSkaDecDue"></bootstrap>
    <bootstrap thing="fSkaSkaAur"></bootstrap>
    </thing>
  <thing id="fSkaDecDue" name="Deceptive Duelist" description="When you make a melee basic attack with a one-handed weapon, you can use Charisma instead of Strength for the attack roll and the damage roll." compset="ClassFeat">
    <usesource source="HeroFeywil"/>
    <eval phase="Final" priority="4000"><![CDATA[ foreach pick in hero where "EquipIndex.?"
    doneif (eachpick.tagis[Equipment.TwoHand] <> 0)
    Foreach pick in hero where "thingid.pwBasicMel"
      perform eachpick.deletestr["DamageAttr.attrStr"]
      perform eachpick.deletestr["Attack.attrStr"]
      perform eachpick.assignstr["DamageAttr.attrCha"]
      perform eachpick.assignstr["Attack.attrCha"]
    nexteach
 nexteach]]></eval>
    </thing>
  <thing id="fSkaMasSto" name="Master of Story and Song" description="When you make a melee basic attack with a one-handed weapon, you can use Charisma instead of Strength for the attack roll and the damage roll." compset="ClassFeat"></thing>
  <thing id="fSkaSkaAur" name="Skald&apos;s Aura" description="You gain the skald&#146;s aura power." compset="ClassFeat">
    <usesource source="HeroFeywil"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pBrdSkaAur"></bootstrap>
    </thing>
  <thing id="SkldPwrDai" name="Skald Daily Mechanics" compset="Mechanics">
    <tag group="User" tag="NoBootMech" name="NoBootMech" abbrev="NoBootMech"/>
    <tag group="Mechanics" tag="PwrDaily" name="Daily Power Mechanics" abbrev="Daily Power Mechanics"/>
    </thing>
  <thing id="fWlkEldSrk" name="Eldritch Strike" compset="ClassFeat">
    <fieldval field="usrCandid1" value="thingid.attrCon | thingid.attrCha"/>
    <tag group="Hide" tag="Special"/>
    <bootstrap thing="pWlkEldStr"></bootstrap>
    <eval phase="Setup" priority="1000">perform field[usrChosen1].chosen.setfocus
      doneif (state.isfocus = 0)
      perform focus.pulltags[Attack.?]
      perform focus.pulltags[DamageAttr.?]
      perform hero.childfound[pWlkEldBla].pushtags[Attack.?]
      perform hero.childfound[pWlkEldBla].pushtags[DamageAttr.?]

      ~do the same for Eldritch Strike if we have it
      perform hero.child[pWlkEldStr].pushtags[Attack.?]
      perform hero.child[pWlkEldStr].pushtags[DamageAttr.?]</eval>
    </thing>
  <thing id="clsLock" name="Warlock (Melee)" compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your attack powers are highly damaging and often weaken or hamper the target in some way. You can elude attacks by flying, teleporting, or turning invisible."/>
    <fieldval field="clsSrcTxt" value="You gain your magical power from a pact you forge with a powerful, supernatural force or an unnamed entity."/>
    <fieldval field="clsRef" value="1"/>
    <fieldval field="clsWill" value="1"/>
    <fieldval field="clsStartHP" value="12"/>
    <fieldval field="clsHPLev" value="5"/>
    <fieldval field="clsSurges" value="6"/>
    <fieldval field="clsSkills" value="4"/>
    <tag group="KeyAbility" tag="attrCha"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrInt"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="PowerSrc" tag="Arcane"/>
    <tag group="Class" tag="clsWarlock"/>
    <tag group="Skill" tag="skArcana"/>
    <tag group="Skill" tag="skBluff"/>
    <tag group="Skill" tag="skHistory"/>
    <tag group="Skill" tag="skInsight"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skReligion"/>
    <tag group="Skill" tag="skStreetwi"/>
    <tag group="Skill" tag="skThievery"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ImplemType" tag="itPactBlad"/>
    <tag group="ImplemType" tag="itRod"/>
    <tag group="ImplemType" tag="itWand"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="WpCatRqRng" tag="wcSimple"/>
    <bootstrap thing="fWlkDarPac"></bootstrap>
    <bootstrap thing="fWlkElePac"></bootstrap>
    <bootstrap thing="fWlkFeyPac"></bootstrap>
    <bootstrap thing="fWlkInfPac"></bootstrap>
    <bootstrap thing="fWlkSorPac"></bootstrap>
    <bootstrap thing="fWlkStaPac"></bootstrap>
    <bootstrap thing="fWlkVesPac"></bootstrap>
    <bootstrap thing="fWlkPriSho"></bootstrap>
    <bootstrap thing="fWlkShaWal"></bootstrap>
    <bootstrap thing="pWlkWarCur"></bootstrap>
    <bootstrap thing="fWlkEldSrk"></bootstrap>
    <bootstrap thing="fWlkEldPac"></bootstrap>
    <eval phase="Setup" priority="5"><![CDATA[
      ~our at-will powers are selected based on which pact we choose, so find
      ~our 'at will power' mechanics array and subtract the bottom 2 levels
      ~of every row
      var findmech as string
      findmech = "PwrAtWill"
      call FindMech
      doneif (state.isfocus = 0)
      var i as number
      var j as number
      for i = 1 to focus.field[ClPwrTable].matrixrows - 1

        ~collapse this row 'down' two slots, so slot 3 -> slot 1, slot 4 ->
        ~slot 2, etc. This removes the two lowest-level at-will powers that
        ~we're allowed.
        for j = 0 to focus.field[ClPwrTable].matrixcols - 3
          focus.field[ClPwrTable].matrixvalue[i,j] = focus.field[ClPwrTable].matrixvalue[i,j+2]
          next
        focus.field[ClPwrTable].matrixvalue[i,focus.field[ClPwrTable].matrixcols - 2] = 0
        focus.field[ClPwrTable].matrixvalue[i,focus.field[ClPwrTable].matrixcols - 1] = 0
        next]]>
      <before name="Level final"/>
      </eval>
    </thing>
  <thing id="tWlkFeyPac" name="Fey Pact Boon" compset="HybridTal">
    <bootstrap thing="pWlkEyebit"></bootstrap>
    <bootstrap thing="pWlkMisSte"></bootstrap>
    </thing>
  <thing id="fHWlkDrkPc" name="Dark Pact Boon" compset="HybridTal">
    <bootstrap thing="pWlkDarAur"></bootstrap>
    <bootstrap thing="pWlkSpiGla"></bootstrap>
    </thing>
  <thing id="fHWlkInfPB" name="Infernal Pact Boon" compset="HybridTal">
    <bootstrap thing="pWlkDarBle"></bootstrap>
    <bootstrap thing="pWlkHelReb"></bootstrap>
    </thing>
  <thing id="fClrBtlLor" name="Battle Cleric&apos;s Lore" description="{b}Benefit{/b}: You gain a +2 shield bonus to AC, and you have proficiency with scale armor. In addition, whenever you use a cleric healing power to allow a target to spend a healing surge, that target gains a +2 bonus to attack rolls until the end of your next turn." compset="BuildOpt">
    <usesource source="Dragon"/>
    <tag group="BuildOpt" tag="fClrOption"/>
    <eval phase="Setup" priority="1000"><![CDATA[
	doneif (activated = 0)
	~Grant Scale Armor proficiency
	perform hero.assign[ArmorProf.apScale]
	~+2 shield bonus to AC
      #traitmodify[defAC,trtShield,2,""]]]></eval>
    </thing>
  <thing id="fClrDivFor" name="Divine Fortune" description="In the face of peril, you hold true to your faith and receive a special boon." compset="BuildOpt">
    <tag group="BuildOpt" tag="fClrOpt2"/>
    <bootstrap thing="pClrDivFor">
      <containerreq phase="Setup" priority="500">HasFeature.fClrDivFor
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fClrFavGo" name="Favor of the Gods" description="When luck runs against you, you beseech the gods for aid to turn chance in your favor." compset="BuildOpt">
    <usesource source="Dragon"/>
    <tag group="BuildOpt" tag="fClrOpt2"/>
    <bootstrap thing="pClrFavGod">
      <containerreq phase="Setup" priority="500">HasFeature.fClrFavGo
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fClrHeaLo" name="Healer&apos;s Lore" description="When you restore hit points to a creature by using a cleric power that has the healing keyword, add your Wisdom modifier to the hit points regained, but only if the healing involves the creature spending a healing surge." compset="BuildOpt">
    <usesource source="Dragon"/>
    <tag group="BuildOpt" tag="fClrOption"/>
    </thing>
  <thing id="fClrHeaMer" name="Healer&apos;s Mercy" description="Strengthen your allies at your expense." compset="BuildOpt">
    <tag group="BuildOpt" tag="fClrOpt3"/>
    <bootstrap thing="pClrHeaMer">
      <containerreq phase="Setup" priority="500">HasFeature.fClrHeaMer
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fClrPunPro" name="Punish the Profane" compset="BuildOpt">
    <usesource source="Dragon"/>
    <tag group="BuildOpt" tag="fClrOpt3"/>
    <bootstrap thing="pClrPunPro">
      <containerreq phase="Setup" priority="500">HasFeature.fClrPunPro
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fClrTurUnd" name="Turn Undead" description="You sear undead foes, push them back, and root them in place." compset="BuildOpt">
    <tag group="BuildOpt" tag="fClrOpt3"/>
    <bootstrap thing="pClrTurUnd">
      <containerreq phase="Setup" priority="500">HasFeature.fClrTurUnd
        <after name="Build option final"/>
        </containerreq>
      </bootstrap>
    </thing>
  <thing id="fClrOption" name="Cleric Lore" description="You choose one of the following powers that best represents your tradition and gain its benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fClrOption)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fClrOpt2" name="Favor or Fortune" description="You choose one of the following powers that best represents your tradition and gain its benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fClrOpt2)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fClrOpt3" name="Stun, Rebuke, or Heal" description="You choose one of the following powers that best represents your tradition and gain its benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fClrOpt3)"/>
    <tag group="Hide" tag="Special"/>
    </thing>
  <thing id="fBerArid" name="Arid Desert" description="While you are wearing cloth armor or no armor and not using a shield, you gain a +3 bonus to AC and a +2 bonus to Reflex.\nAt 4th level, you gain resist 5 fire. The resistance increases to 10 at 14th level and 15 at 24th level." compset="BuildOpt">
    <comment>http://hl4e.cryptoknight.org/index.php?topic=258</comment>
    <tag group="BuildOpt" tag="fBerLand"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)
	  var armor as number
	  var shield as number
	  perform hero.findchild[Armor,"Equipped.Equipped & !ArmorType.arClothArm"].setfocus
	  armor = state.isfocus
	  perform hero.findchild[Shield,"Equipped.Equipped"].setfocus
	  shield = state.isfocus
      if (shield = 0) then
		if (armor = 0) then
			#traitmodify[defAC,trtBonus,3,""]
			#traitmodify[defRef,trtBonus,2,""]
		endif
      endif

      var resist as number
      if (hero.tagvalue[Level.?] <= 3) then
        resist = 0
      elseif (hero.tagvalue[Level.?] <= 13) then
        resist = 5
      elseif (hero.tagvalue[Level.?] <= 23) then
        resist = 10
      else
        resist = 15
        endif

      #traitmodify[rsFire,rsTotal,resist,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fBerFroz" name="Frozen Land" description="You gain a +1 bonus to Fortitude and Will.\nAt 4th level, you gain resist 5 cold. The resistance increases to 10 at 14th level and 15 at 24th level." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBerLand"/>
    <eval phase="Traits" priority="10000"><![CDATA[
      doneif (activated = 0)

      var resist as number
      if (hero.tagvalue[Level.?] <= 3) then
        resist = 0
      elseif (hero.tagvalue[Level.?] <= 13) then
        resist = 5
      elseif (hero.tagvalue[Level.?] <= 23) then
        resist = 10
      else
        resist = 15
        endif

      #traitmodify[rsCold,rsTotal,resist,""]]]>
      <after name="Calc attrBonus"/>
      </eval>
    </thing>
  <thing id="fBerFury" name="Berserker Fury" description="When you use a barbarian primal attack power, you enter your Berserker Fury until the end of the encounter. Alternatively, you can use a minor action while you are bloodied to enter the fury. The fury has the following effects.\nYour defender aura ends, if it was active, and you cannot use defender aura or vengeful guardian until the fury ends.\nSome of your powers, such as your barbarian martial at-will attack powers, gain additional benefits, as noted in those powers.\nYour melee basic attacks deal 1d8 extra damage. This extra damage increases to 2d8 at 11th level and 3d8 at 21st level." compset="ClassFeat">
    <bootstrap thing="pwBerBas"></bootstrap>
    </thing>
  <thing id="fBerDef" name="Defender Aura" description="You gain the defender aura power. When you enter your Berserker Fury, your defender aura ends if it is active, and you cannot use defender aura or vengeful guardian until the fury ends." compset="ClassFeat">
    <bootstrap thing="pwDefAurBz"></bootstrap>
    </thing>
  <thing id="fBerLand" name="Heartland" description="You choose one of the following terrain types that best represents your heartland and gain its benefit." compset="ClassFeat">
    <fieldval field="usrCandid1" value="(component.BuildOpt) &amp; (BuildOpt.fBerLand)"/>
    </thing>
  <thing id="fBerPois" name="Poised Defender" description="While your defender aura is active and you&apos;re not wearing heavy armor, you gain a +2 bonus to AC. Note: This is bonus is not already included in your AC." compset="ClassFeat"></thing>
  <thing id="clsBerserk" name="Berserker" description="On the edge of civilization, far beyond the comfortable life within cities and towns, tribes of barbarian peoples maintain a simple yet primitive existence. Life for these people is not easy, and it is made more difficult because fey crossings commonly appear in their lands. As children, tribe members are taught about the perils of crossing into the Feywild, and about the monsters that emerge from that realm with malicious intent. Faced with this constant danger, the barbarians continually fight to maintain their way of life." compset="Class" uniqueness="unique">
    <fieldval field="clsRoleTxt" value="Your skill and experience make you good at defending others, but when your rage surfaces, you become an aggressive attacker."/>
    <fieldval field="clsFort" value="2"/>
    <fieldval field="clsStartHP" value="15"/>
    <fieldval field="clsHPLev" value="6"/>
    <fieldval field="clsSurges" value="8"/>
    <fieldval field="clsSkills" value="3"/>
    <usesource source="HeroFeywil"/>
    <tag group="KeyAbility" tag="attrCon"/>
    <tag group="KeyAbility" tag="attrDex"/>
    <tag group="KeyAbility" tag="attrStr"/>
    <tag group="ClassRole" tag="Defender"/>
    <tag group="PowerSrc" tag="Primal"/>
    <tag group="Skill" tag="skAcrobati"/>
    <tag group="Skill" tag="skAthletic"/>
    <tag group="Skill" tag="skEnduranc"/>
    <tag group="Skill" tag="skHeal"/>
    <tag group="Skill" tag="skIntimida"/>
    <tag group="Skill" tag="skNature"/>
    <tag group="Skill" tag="skPercepti"/>
    <tag group="ArmorProf" tag="apCloth"/>
    <tag group="ArmorProf" tag="apHide"/>
    <tag group="ArmorProf" tag="apLeather"/>
    <tag group="ArmorProf" tag="apShieldLg"/>
    <tag group="WpCatRqMel" tag="wcMilitary"/>
    <tag group="WpCatRqMel" tag="wcSimple"/>
    <tag group="ClassRole" tag="Striker"/>
    <tag group="ClassName" tag="Barbarian"/>
    <tag group="Class" tag="clsBarbari"/>
    <bootstrap thing="fBerFroz"></bootstrap>
    <bootstrap thing="fBerTemp"></bootstrap>
    <bootstrap thing="fBerPois"></bootstrap>
    <bootstrap thing="pBbnVenGua"></bootstrap>
    <bootstrap thing="fBerFury"></bootstrap>
    <bootstrap thing="fBerDef"></bootstrap>
    <bootstrap thing="fBerLand"></bootstrap>
    <bootstrap thing="fBerArid"></bootstrap>
    </thing>
  <thing id="fBerTemp" name="Temperate Land" description="While you are wielding a one-handed weapon and using a shield, you gain a +2 bonus to the damage rolls of any weapon attack you make with that weapon.{br}At 4th level, you gain a +1 bonus to speed while charging." compset="BuildOpt">
    <tag group="BuildOpt" tag="fBerLand"/>
    <eval phase="Traits" priority="10000"><![CDATA[doneif (activated = 0)
	  ~If no shield equipped, then no bonus.
	  ~If more than 1 shield then not valid.
	  doneif (hero.tagcount[Shield.?] <> 1)
	  ~Look at each weapon the hero has.
	  foreach pick in hero from WeapMelee
	  ~If it's not equipped as an off hand or both hand at all, continue.
	  if (eachpick.tagis[Helper.EqpOff] + eachpick.tagis[Helper.EqpBoth] = 0) then
		~If it then is also actually equipped on the main hand, continue.
		if (eachpick.tagis[Helper.EqpMain] = 1) then
			~Finally, it can't be a double sided weapon with just one side equipped or an unarmed strike.
			if (eachpick.tagis[WepProp.Double] + eachpick.tagis[WepGroup.wgUnarmed] < 1) then
				~Give the bonus to the weapon.
				perform eachpick.field[wpDamage].modify[+,2,""]
				endif
			endif
		endif
	  nexteach]]>
      <after name="Build option activated"/>
      </eval>
    </thing>
  </document>
